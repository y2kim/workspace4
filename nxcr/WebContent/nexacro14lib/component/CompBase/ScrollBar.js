if(!nexacro.ScrollBar){nexacro.ScrollBar_Style=function(_a){nexacro.Style.call(this,_a);this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};var _pScrollBarStyle=nexacro._createPrototype(nexacro.Style,nexacro.ScrollBar_Style);nexacro.ScrollBar_Style.prototype=_pScrollBarStyle;eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","barminsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","baroutsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","incbtnsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","decbtnsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","imgoutsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","scrollbarsize"));eval(nexacro._createValueAttributeEvalStr("_pScrollBarStyle","trackbarsize"));_pScrollBarStyle.__custom_emptyObject=function(){this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};_pScrollBarStyle.__get_custom_style_value=function(){var _a="";if(this.barminsize&&!this.barminsize._isEmpty){_a+="barminsize:"+this.barminsize._value+"; ";}if(this.baroutsize&&!this.baroutsize._isEmpty){_a+="baroutsize:"+this.baroutsize._value+"; ";}if(this.incbtnsize&&!this.incbtnsize._isEmpty){_a+="incbtnsize:"+this.incbtnsize._value+"; ";}if(this.decbtnsize&&!this.decbtnsize._isEmpty){_a+="decbtnsize:"+this.decbtnsize._value+"; ";}if(this.imgoutsize&&!this.imgoutsize._isEmpty){_a+="imgoutsize:"+this.imgoutsize._value+"; ";}if(this.scrollbarsize&&!this.scrollbarsize._isEmpty){_a+="scrollbarsize:"+this.scrollbarsize._value+"; ";}if(this.trackbarsize&&!this.trackbarsize._isEmpty){_a+="trackbarsize:"+this.trackbarsize._value+"; ";}return _a;};nexacro.ScrollBar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.barminsize=null;this.baroutsize=null;this.incbtnsize=null;this.decbtnsize=null;this.imgoutsize=null;this.scrollbarsize=null;this.trackbarsize=null;};var _pScrollBarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.ScrollBar_CurrentStyle);nexacro.ScrollBar_CurrentStyle.prototype=_pScrollBarCurrentStyle;_pScrollBarCurrentStyle.__custom_emptyObject=_pScrollBarStyle.__custom_emptyObject;_pScrollBarCurrentStyle.__get_custom_style_value=_pScrollBarStyle.__get_custom_style_value;delete _pScrollBarStyle;delete _pScrollBarCurrentStyle;nexacro.ScrollBar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.incbutton=null;this.decbutton=null;this.trackbar=null;this.barminsize= -1;this.baroutsize= -1;this.decbtnsize= -1;this.imgoutsize= -1;this.incbtnsize= -1;this.scrollbarsize= -1;this.trackbarsize= -1;this.direction="vert";this.line=1;this.page=3;this.view= -1;this.max=0;this.min=0;this.pos=0;this.onscroll=null;this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ongesture":1,"onscroll":1};this._rectShaft=new nexacro.Rect();this._mousePoint={};this._max=0;this._min=0;this._orgmax=0;this._trackbarsize= -1;this._pos=0;this._lineup=1;this._linedown=1;this._pageup=3;this._pagedown=3;this._nTrackOver=0;this._is_repeat=true;this._start_page_navi=null;this._is_tracking=false;this._reset_trackbar_fix=false;this._set_real=false;this._is_nc_control=true;};nexacro.ScrollBar.TRACKBAR_SIZE_MIN=6;nexacro.ScrollBar.TRACKFIRSTOVER=1;nexacro.ScrollBar.TRACKLASTOVER=2;var _pScrollBar=nexacro._createPrototype(nexacro.Component,nexacro.ScrollBar);nexacro.ScrollBar.prototype=_pScrollBar;_pScrollBar._type_name="ScrollBar";_pScrollBar._default_rtlimagemirroring=nexacro.Component._default_rtlimagemirroring;_pScrollBar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_barminsize(_a);if(_c!=_b.barminsize){_b.barminsize=_c;this.on_apply_style_barminsize();}_c=this.on_find_CurrentStyle_baroutsize(_a);if(_c!=_b.baroutsize){_b.baroutsize=_c;this.on_apply_style_baroutsize();}_c=this.on_find_CurrentStyle_decbtnsize(_a);if(_c!=_b.decbtnsize){_b.decbtnsize=_c;this.on_apply_style_decbtnsize();}_c=this.on_find_CurrentStyle_imgoutsize(_a);if(_c!=_b.imgoutsize){_b.imgoutsize=_c;this.on_apply_style_imgoutsize();}_c=this.on_find_CurrentStyle_incbtnsize(_a);if(_c!=_b.incbtnsize){_b.incbtnsize=_c;this.on_apply_style_incbtnsize();}_c=this.on_find_CurrentStyle_scrollbarsize(_a);if(_c!=_b.scrollbarsize){_b.scrollbarsize=_c;this.on_apply_style_scrollbarsize();}_c=this.on_find_CurrentStyle_trackbarsize(_a);if(_c!=_b.trackbarsize){_b.trackbarsize=_c;this.on_apply_style_trackbarsize();}if(this.incbutton){this.incbutton._control_pseudo="";this.incbutton._contents_pseudo="";this.incbutton.on_apply_pseudo(_a);}if(this.decbutton){this.decbutton._control_pseudo="";this.decbutton._contents_pseudo="";this.decbutton.on_apply_pseudo(_a);}if(this.trackbar){this.trackbar._control_pseudo="";this.trackbar._contents_pseudo="";this.trackbar.on_apply_pseudo(_a);}};_pScrollBar.on_apply_prop_class=function(){if(this.incbutton){this.incbutton._css_finder=null;this.incbutton._ref_css_finder=null;}if(this.decbutton){this.decbutton._css_finder=null;this.decbutton._ref_css_finder=null;}if(this.trackbar){this.trackbar._css_finder=null;this.trackbar._ref_css_finder=null;}nexacro.Component.prototype.on_apply_prop_class.call(this);};_pScrollBar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);if(this.direction=="horz"){if(this.incbutton){this.incbutton._setRtlDirection(this._rtldirection);{var _a=this.incbutton._img_elem;if(_a){_a.setElementImageMirror(null,true);}}}if(this.decbutton){this.decbutton._setRtlDirection(this._rtldirection);{var _a=this.decbutton._img_elem;if(_a){_a.setElementImageMirror(null,true);}}}if(this.trackbar){this.trackbar._setRtlDirection(this._rtldirection);}}if(this.direction=="vert"){if(this.incbutton){this.incbutton._setRtlDirection(this._rtldirection);}if(this.decbutton){this.decbutton._setRtlDirection(this._rtldirection);}if(this.trackbar){this.trackbar._setRtlDirection(this._rtldirection);}}var _b=this._control_element;if(_b){_b.setElementPosition(_b.left,_b.top,true);}};_pScrollBar.on_create_custom_style=function(){return new nexacro.ScrollBar_Style(this);};_pScrollBar.on_create_custom_currentStyle=function(){return new nexacro.ScrollBar_CurrentStyle();};_pScrollBar.on_find_CurrentStyle_barminsize=function(_a){return this._find_pseudo_obj("barminsize",_a);};_pScrollBar.on_find_CurrentStyle_baroutsize=function(_a){return this._find_pseudo_obj("baroutsize",_a);};_pScrollBar.on_find_CurrentStyle_decbtnsize=function(_a){return this._find_pseudo_obj("decbtnsize",_a);};_pScrollBar.on_find_CurrentStyle_imgoutsize=function(_a){return this._find_pseudo_obj("imgoutsize",_a);};_pScrollBar.on_find_CurrentStyle_incbtnsize=function(_a){return this._find_pseudo_obj("incbtnsize",_a);};_pScrollBar.on_find_CurrentStyle_scrollbarsize=function(_a){return this._find_pseudo_obj("scrollbarsize",_a);};_pScrollBar.on_find_CurrentStyle_trackbarsize=function(_a){return this._find_pseudo_obj("trackbarsize",_a);};_pScrollBar.on_find_CurrentStyle_rtlimagemirroring=function(_a){return;};_pScrollBar.on_update_style_barminsize=function(){this.currentstyle.barminsize=this.on_find_CurrentStyle_barminsize(this._pseudo);this.on_apply_style_barminsize();};_pScrollBar.on_update_style_baroutsize=function(){this.currentstyle.baroutsize=this.on_find_CurrentStyle_baroutsize(this._pseudo);this.on_apply_style_baroutsize();};_pScrollBar.on_update_style_decbtnsize=function(){this.currentstyle.decbtnsize=this.on_find_CurrentStyle_decbtnsize(this._pseudo);this.on_apply_style_decbtnsize();};_pScrollBar.on_update_style_imgoutsize=function(){this.currentstyle.imgoutsize=this.on_find_CurrentStyle_imgoutsize(this._pseudo);this.on_apply_style_imgoutsize();};_pScrollBar.on_update_style_incbtnsize=function(){this.currentstyle.incbtnsize=this.on_find_CurrentStyle_incbtnsize(this._pseudo);this.on_apply_style_incbtnsize();};_pScrollBar.on_update_style_scrollbarsize=function(){this.currentstyle.scrollbarsize=this.on_find_CurrentStyle_scrollbarsize(this._pseudo);this.on_apply_style_scrollbarsize();};_pScrollBar.on_update_style_trackbarsize=function(){this.currentstyle.trackbarsize=this.on_find_CurrentStyle_trackbarsize(this._pseudo);this.on_apply_style_trackbarsize();};_pScrollBar.on_apply_style_barminsize=function(){var _a=this.currentstyle.barminsize;if(_a&&!_a._isEmpty){this.barminsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_baroutsize=function(){var _a=this.currentstyle.baroutsize;if(_a&&!_a._isEmpty){this.baroutsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_decbtnsize=function(){var _a=this.currentstyle.decbtnsize;if(_a&&!_a._isEmpty){this.decbtnsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_imgoutsize=function(){var _a=this.currentstyle.imgoutsize;if(_a&&!_a._isEmpty){this.imgoutsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_incbtnsize=function(){var _a=this.currentstyle.incbtnsize;if(_a&&!_a._isEmpty){this.incbtnsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar.on_apply_style_scrollbarsize=function(){var _a=this.currentstyle.scrollbarsize;if(_a&&!_a._isEmpty){this.scrollbarsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);var _b=this.parent;if(_b){var _c=_b._control_element;var _d=_b.vscrollbar;var _e=_b.hscrollbar;var _f=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _g=_d?(_d.scrollbarsize== -1?_f:_d.scrollbarsize):_f;var _h=_e?(_e.scrollbarsize== -1?_f:_e.scrollbarsize):_f;_c.setElementScrollbarSize(_g,_h);_b._updateClientSize(_c);}}};_pScrollBar.on_apply_style_trackbarsize=function(){var _a=this.currentstyle.trackbarsize;if(_a&&!_a._isEmpty){this.trackbarsize=(( +_a._value)!=( +_a._value))? -1:(parseInt(_a._value)|0);this._recalcLayout();}};_pScrollBar._get_css_assumedtypename=function(){if(!this._is_subcontrol){if(this.direction=="vert"){return "VScrollBar";}else if(this.direction=="horz"){return "HScrollBar";}}return this._type_name;};_pScrollBar.on_create_contents=function(){var _a=this._control_element;if(_a){this.incbutton=new nexacro.ImageButtonCtrl("incbutton","absolute",0,0,0,0,null,null,this);this.decbutton=new nexacro.ImageButtonCtrl("decbutton","absolute",0,0,0,0,null,null,this);this.trackbar=new nexacro.TrackImageButtonCtrl("trackbar","absolute",0,0,0,0,null,null,this);this.trackbar._on_starttrack=this._on_starttrack;this.trackbar._on_movetrack=this._on_movetrack;this.trackbar._on_endtrack=this._on_endtrack;this.trackbar._no_slide_scroll=true;this.incbutton.createComponent();this.decbutton.createComponent();if(this.parent._is_form){this.trackbar._is_scrollable_comp=true;}this.trackbar.createComponent();}};_pScrollBar.on_created_contents=function(){var _a=this.incbutton;if(_a){_a.on_created();}var _b=this.decbutton;if(_b){_b.on_created();}var _c=this.trackbar;if(_c){_c.on_created();}this._recalcLayout();};_pScrollBar.on_destroy_contents=function(){if(this.incbutton){this.incbutton.destroy();this.incbutton=null;}if(this.decbutton){this.decbutton.destroy();this.decbutton=null;}if(this.trackbar){this.trackbar.destroy();this.trackbar=null;}this._rectShaft=null;this._mousePoint=null;};_pScrollBar.on_change_containerRect=function(_a,_b){this._recalcLayout();};_pScrollBar._on_repeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;if(_e==this.decbutton){var _f=this.decbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this);}}else if(_e==this.incbutton){var _f=this.incbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this);}}else if(_e==this){this.on_page_click(this,_b,_c);}};_pScrollBar._on_startrepeat=function(_a,_b,_c){var _d=this._getCumulativeZoomFactor()/100.0;if(!this._is_alive){return;}var _e=_a;if(_e==this.decbutton){var _f=this.decbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_decbutton_lbuttondown(this,null);}}else if(_e==this.incbutton){var _f=this.incbutton;var _g=_f._adjust_left;var _h=_f._adjust_top;var _i=_f._adjust_width*_d;var _j=_f._adjust_height*_d;if(_g<=_b&&(_g+_i)>=_b&&_h<=_c&&(_h+_j)>=_c){this.on_incbutton_lbuttondown(this,null);}}else if(_e==this){var _f=this.trackbar;var _k="";if(this.direction=="vert"){if(_c<_f._adjust_top){_k="pageup";}else if(_c>(_f._adjust_top+_f._adjust_height)){_k="pagedown";}else{_k="";}}else{if(_b<_f._adjust_left){_k="pageleft";}else if(_b>(_f._adjust_left+_f._adjust_width)){_k="pageright";}else{_k="";}}this._start_page_navi=_k;this.on_page_click(this,_b,_c);}};_pScrollBar.set_pos=function(_a){this._setPos(_a);};_pScrollBar.on_apply_resize=function(){this._recalcLayout();this.on_fire_onsize(this._adjust_width,this._adjust_height);};_pScrollBar.on_apply_move=function(){this._recalcLayout();this.on_fire_onmove(this._adjust_left,this._adjust_top);};_pScrollBar.on_apply_prop_enable=function(_a){var _b=_a;if(_a==undefined){_b=this.enable;}if(this.incbutton){this.incbutton._setEnable(_b);}if(this.decbutton){this.decbutton._setEnable(_b);}if(this.trackbar){this.trackbar._setEnable(_b);}};_pScrollBar.on_fire_onscroll=function(_a,_b,_c,_d,_e){if(this.onscroll&&this.onscroll._has_handlers){_a=(_a+0.5)|0;var _f=(this.direction=="vert")?"onvscroll":"onhscroll";var _g=new nexacro.ScrollEventInfo(this,_f,_a,_b,this,this.parent);if(_c!==undefined){_g.touchscrolling=_c;_g.touchscrolldir=_d;}_g._evtkind=_e;var _h=this.onscroll._fireEvent(this,_g);return _h;}return true;};_pScrollBar.on_incbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._max;var _d=this._pos;var _e=this.line;if(_e== -1){_e=this._lineup;}var _f=_d+_e;var _g=this._getIncNewPosPixel();if(_g!==undefined){_f=_g;}if(_d>=_c){var _h=this._scroll_reverse_convert(_c);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,"lastover");}else if(_f>=_c){var _h=this._scroll_reverse_convert(_c);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"linedown":"lineright"));this.on_fire_onscroll(this.pos,"last");}else{var _h=this._scroll_reverse_convert(_f);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"linedown":"lineright"));}var _i=this._rectShaft;this._resetTrackBar(_i.left,_i.top,_i.right,_i.bottom);};_pScrollBar.on_decbutton_lbuttondown=function(_a){var _b=this._min;var _c=this._max;var _d=this._pos;var _e=this.line;if(_e== -1){_e=this._linedown;}var _f=_d-_e;var _g=this._getDecNewPosPixel();if(_g!==undefined){_f=_g;}if(_d<=_b){var _h=this._scroll_reverse_convert(_b);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,"firstover");}else if(_f<=_b){var _h=this._scroll_reverse_convert(_b);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"lineup":"lineleft"));this.on_fire_onscroll(this.pos,"first");}else{var _h=this._scroll_reverse_convert(_f);this.pos=_h[0];this._pos=_h[1];this.on_fire_onscroll(this.pos,(this.direction=="vert"?"lineup":"lineleft"));}var _i=this._rectShaft;this._resetTrackBar(_i.left,_i.top,_i.right,_i.bottom);};_pScrollBar._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.parent;_a._mousePoint={x:0,y:0};nexacro.ScrollBar.prototype._starttrack.call(_a);_a._is_tracking=true;};_pScrollBar._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;nexacro.ScrollBar.prototype._endtrack.call(_d);_d._is_tracking=false;};_pScrollBar._on_movetrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.parent;nexacro.ScrollBar.prototype._movetrack.call(_d,_a,_b);};_pScrollBar.on_page_click=function(_a,_b,_c){var _d=this._min;var _e=this._max;var _f=this._pos;var _g=this.page;var _h=this._pageup;var _i=this._pagedown;if(_g!= -1){_h=_g;_i=_g;}var _j=this.trackbar;if(_j._adjust_width<=0||_j._adjust_height<=0){return;}var _k=_j._adjust_top;var _l=_j._adjust_left;var _m=_j._adjust_left+_j._adjust_width;var _n=_j._adjust_top+_j._adjust_height;var _o=_f,_p;var _q,_r;if(this.direction=="vert"){if(this._start_page_navi=="pageup"&&_c<_k){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageup";}else if(this._start_page_navi=="pagedown"&&_c>_n){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pagedown";}else{_p="";}}else{if(this._start_page_navi=="pageleft"&&_b<_l){_o=(_f-_h);_o=(_o<_d?_d:_o);_p="pageleft";}else if(this._start_page_navi=="pageright"&&_b>_m){_o=(_f+_i);_o=(_o>_e?_e:_o);_p="pageright";}else{_p="";}}if(this._pos==_o){return;}var _s=this._scroll_reverse_convert(_o);this.pos=_s[0];this._pos=_s[1];this.on_fire_onscroll(this.pos,_p);if(this.direction=="vert"){if(_c<_k&&_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_c>_n&&_o==_e){this.on_fire_onscroll(this.pos,"last");}else{if(_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_o==_e){this.on_fire_onscroll(this.pos,"last");}}}else{if(_b<_l&&_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_b>_m&&_o==_e){this.on_fire_onscroll(this.pos,"last");}else{if(_o==_d){this.on_fire_onscroll(this.pos,"first");}else if(_o==_e){this.on_fire_onscroll(this.pos,"last");}}}var _t=this._rectShaft;this._resetTrackBar(_t.left,_t.top,_t.right,_t.bottom);};_pScrollBar._setDirection=function(_a){if(this.direction!=_a){switch(_a){case "vert":case "horz":this.direction=_a;this._recalcLayout();this._default_rtlimagemirroring=nexacro._getCachedStyleObj("rtlimagemirroring","true");break;}}return _a;};_pScrollBar._scroll_convert_pixel=function(_a,_b){return _a;};_pScrollBar._scroll_reverse_convert=function(_a,_b,_c){return [_a,_a];};_pScrollBar._setPos=function(_a,_b){var _c="none";if(_b=="mousewheel"||_b=="slide"||_b=="fling"){_c=this._getScrollInfo(_a,_b);}if(_a<this.min){_a=this.min;}if(_a>this.max){_a=this.max;}if(this.pos!=_a){this.pos=_a;this._pos=this._scroll_convert_pixel(_a);var _d=this._rectShaft;this._resetTrackBar(_d.left,_d.top,_d.right,_d.bottom);}this.on_fire_onscroll(this.pos,_c,undefined,undefined,_b);};_pScrollBar._setScrollPos=function(_a){if(this._is_tracking){return;}var _b=this._scroll_reverse_convert(_a);this.pos=_b[0];this._pos=_b[1];if(this._pos<this._min){this.pos=this.min;this._pos=this._min;}if(this._pos>this._max){this.pos=this.max;this._pos=this._max;}this._recalcLayout();};_pScrollBar._setScrollInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=this._scroll_reverse_convert(_e);this.min=_l[0];this._min=_l[1];_l=this._scroll_reverse_convert(_f,false,true);this.max=_l[0];this._max=_l[1];this._orgmax=_f;this.line=_g;this.page=_h;this.view=_i;if(_k>=_f){_l=this._scroll_reverse_convert(_k,false,true);}else{_l=this._scroll_reverse_convert(_k);}this.pos=_l[0];this._pos=_l[1];if(this._pos<this._min){this.pos=this.min;this._pos=this._min;}if(this._pos>this._max){this.pos=this.max;this._pos=this._max;}var _m=this._adjust_left;var _n=this._adjust_top;var _o=this._adjust_width;var _p=this._adjust_height;var _q=false;if(_m!=_a||_n!=_b||_o!=_c||_p!=_d){_q=true;}if(_q){this._adjustPosition(_a,_b,null,null,_c,_d,this.parent._client_width,this.parent._client_height);var _r=this._control_element;if(_r){_r.setElementPosition(this._adjust_left,this._adjust_top);_r.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_r);if(_m!=this._adjust_left||_n!=this._adjust_top){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_o!=this._adjust_width||_p!=this._adjust_height){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}}this._recalcLayout();this._setEnable(_j);};_pScrollBar._getScrollInfo=function(_a,_b){var _c="";if(_b=="mousewheel"){if(this.pos>_a&&_a>this.min){_c="wheelup";}else if(this.pos<_a&&_a<this.max){_c="wheeldown";}else if(_a==this.min){_c="wheelfirst";}else if(_a==this.max){_c="wheellast";}else if(_a<this.min){if(this.pos!=this.min){_c="wheelfirst";}else{_c="wheelfirstover";}}else if(_a>this.max){if(this.pos!=this.max){_c="wheellast";}else{_c="wheellastover";}}}else if(_b=="slide"||_b=="fling"){if(this.pos>_a&&_a>this.min){_c="slide";}else if(this.pos<_a&&_a<this.max){_c="slide";}else if(_a==this.min){_c="slidefirst";}else if(_a==this.max){_c="slidelast";}else if(_a<this.min){if(this.pos!=this.min){_c="slidefirst";}else{_c="slidefirstover";}}else if(_a>this.max){if(this.pos!=this.max){_c="slidelast";}else{_c="slidelastover";}}}return _c;};_pScrollBar._set_touch_pos=function(_a,_b,_c){if(_a<this._min){_a=this._min;}if(_a>this._max){_a=this._max;}var _d=this._scroll_reverse_convert(_a);if(this._pos!=_d[1]){this.pos=_d[0];this._pos=_d[1];this.on_fire_onscroll(this.pos,"touchscroll",_b,_c);var _e=this._rectShaft;this._resetTrackBar(_e.left,_e.top,_e.right,_e.bottom);}};_pScrollBar._recalcLayout=function(){var _a=this._control_element;if(_a&&this._is_created_contents){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;if(_d<=0||_e<=0){return;}var _f=0,_g=0,_h=0,_i=0,_j=0,_k=0;var _l=this.decbtnsize;var _m=this.incbtnsize;var _n=0;if(this.direction=="vert"){if(_l<0){_l=_d;}if(_m<0){_m=_d;}var _o=_e-(_l+_m);if(_o<0){_l=((_e+(_e%2))/2)|0;_m=_e-_l;}var _p=_c+_e;_f=_b;_g=_f+_d;_h=_c+_l;_i=_p-_m;if(_l==0){this.decbutton.move(_f,0,_d,_l);}else{this.decbutton.move(_f,_c,_d,_l);}if(_m==0){this.incbutton.move(_f,0,_d,_e-_i);}else{this.incbutton.move(_f,_i,_d,_e-_i);}var _q=_i-_h;if(_q>0){var _r=this.view;var _s=this.barminsize;var _t=this.baroutsize;var _u=this._max-this._min;if(_t<0){_t=_g-_f;}if(_s<0){_s=((_g-_f)*0.60)|0;if(_s<nexacro.ScrollBar.TRACKBAR_SIZE_MIN){_s=nexacro.ScrollBar.TRACKBAR_SIZE_MIN;}}if(_r<0){_r=1;}if(_q>_t){if(this.trackbarsize>0){this._trackbarsize=this.trackbarsize;}else{_n=(_q*(_r/(_r+_u)))|0;this._trackbarsize=(_n<_s)?_s:_n;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_q<this._trackbarsize){this._trackbarsize=_q;}}else{if(_l<0){_l=_e;}if(_m<0){_m=_e;}var _o=_d-(_l+_m);if(_o<0){_l=((_d+(_d%2))/2)|0;_m=_d-_l;}var _v=_b+_d;_f=_b+_l;_g=_v-_m;_h=_c;_i=_c+_e;if(_l==0){this.decbutton.move(_b,0,_l,_e);}else{this.decbutton.move(_b,_h,_l,_e);}if(_m==0){this.incbutton.move(_g,0,_d-_g,_e);}else{this.incbutton.move(_g,_h,_d-_g,_e);}var _q=_g-_f;if(_q>0){var _r=this.view;var _s=this.barminsize;var _t=this.baroutsize;var _u=this._max-this._min;if(_t<0){_t=_i-_h;}if(_s<0){_s=parseInt((_i-_h)*0.60);if(_s<nexacro.ScrollBar.TRACKBAR_SIZE_MIN){_s=nexacro.ScrollBar.TRACKBAR_SIZE_MIN;}}if(_r<0){_r=1;}this._barminsize=_s;this._baroutsize=_t;if(_q>_t){if(this.trackbarsize>0){this._trackbarsize=this.trackbarsize;}else{_n=(_q*(_r/(_r+_u)))|0;this._trackbarsize=(_n<_s)?_s:_n;}}else{this._trackbarsize=0;}}else{this._trackbarsize=0;}if(_q<this._trackbarsize){this._trackbarsize=_q;}}this._rectShaft.set(_f,_h,_g,_i);this._resetTrackBar(_f,_h,_g,_i);}};_pScrollBar._resetTrackBar=function(_a,_b,_c,_d){if(this._trackbarsize<=0){this.trackbar.set_visible(false);return;}this.trackbar.set_visible(true);var _e=0,_f=0,_g=0,_h=0;var _i=this._min;var _j=this._pos;var _k=this._trackbarsize;var _l=this._max-this._min;if(_l>0){if(this.direction=="vert"){var _m=_d-_b;var _n=((_j-_i)*(_m-_k)/_l)|0;_e=_a;_g=_c;_f=_b+_n;_h=_f+_k;if(_h>_d){_h=_d;_f=_d-_k;}}else{var _m=_c-_a;_n=parseInt((_j-_i)*(_m-_k)/_l);_e=_a+_n;_g=_e+_k;_f=_b;_h=_d;if(_g>_c){_g=_c;_e=_c-_k;}}}if((_e<=0&&_f<=0&&_g-_e<=0&&_h-_f<=0)){this._set_real=true;this._setRealEnable(false);this.trackbar.set_visible(false);}else if(this._set_real){this._set_real=false;this._setRealEnable(true);this.trackbar.set_visible(true);}if(!this._reset_trackbar_fix){this.trackbar.move(_e,_f,_g-_e,_h-_f);}this._reset_trackbar_fix=false;};_pScrollBar._setRealEnable=function(_a){if(_a==undefined){_a=this.enable;}if(this._real_enable!=_a){var _b=this._control_element;this._real_enable=_a;if(_a){this._status="enable";this._pseudo="normal";}else{this._status="disable";this._pseudo="disabled";}if(this.visible&&_b){this._updateControl(_b,this._pseudo);this._updateContents(_b,this._pseudo);}if(this.incbutton){this.incbutton._setRealEnable(_a);}if(this.decbutton){this.decbutton._setRealEnable(_a);}if(this.trackbar){this.trackbar._setRealEnable(_a);}}};_pScrollBar._moveTrackBar=function(_a,_b){var _c=_a.right-_a.left;var _d=_a.bottom-_a.top;if(_a.left<_b.left){_a.left=_b.left;_a.right=_a.left+_c;}if(_a.right>_b.right){_a.right=_b.right;_a.left=_a.right-_c;}if(_a.top<_b.top){_a.top=_b.top;_a.bottom=_a.top+_d;}if(_a.bottom>_b.bottom){_a.bottom=_b.bottom;_a.top=_a.bottom-_d;}this.trackbar.move(_a.left,_a.top,_a.right-_a.left,_a.bottom-_a.top);};_pScrollBar._starttrack=function(){this.on_fire_onscroll(this.pos,"trackstart");};_pScrollBar._endtrack=function(){this.on_fire_onscroll(this.pos,"trackend");var _a=this._rectShaft;this._resetTrackBar(_a.left,_a.top,_a.right,_a.bottom);};_pScrollBar._movetrack=function(_a,_b){var _c=_a;var _d=_b;var _e=this._min;var _f=this._max;var _g=this._pos;var _h=0;var _i=_f-_e;var _j=_g;var _k=this.trackbar;var _l={left:_k._adjust_left,top:_k._adjust_top,right:_k._adjust_left+_k._adjust_width,bottom:_k._adjust_top+_k._adjust_height};var _m=_l.right-_l.left;var _n=_l.bottom-_l.top;if(_m<=0||_n<=0){return;}var _o={left:_l.left,top:_l.top,right:_l.right,bottom:_l.bottom};if(this.direction=="vert"){var _p=this._rectShaft;_h=_d-this._mousePoint.y;if((_h<0&&_l.top>_p.top)||(_h>0&&_l.bottom<_p.bottom)){_o.top+=_h;_o.bottom+=_h;_j=(_i*(_o.top-_p.top)/((_p.bottom-_p.top)-(_o.bottom-_o.top)));this._moveTrackBar(_o,_p);if(_k._adjust_top-_l.top==0){this._mousePoint.x=_c;this._mousePoint.y=_d;}else{this._mousePoint.x=_c;this._mousePoint.y=this._mousePoint.y+(_k._adjust_top-_l.top);}}}else{var _p=this._rectShaft;_h=_c-this._mousePoint.x;if((_h<0&&_l.left>_p.left)||(_h>0&&_l.right<_p.right)){_o.left+=_h;_o.right+=_h;_j=parseInt(_i*((_o.left-_p.left)/((_p.right-_p.left)-(_o.right-_o.left))));this._moveTrackBar(_o,_p);if(_k._adjust_left-_l.left==0){this._mousePoint.x=_c;this._mousePoint.y=_d;}else{this._mousePoint.x=this._mousePoint.x+(_k._adjust_left-_l.left);this._mousePoint.y=_d;}}}if(_j<=_e){var _q=this._scroll_reverse_convert(_e);this.pos=_q[0];this._pos=_q[1];if(!(this._nTrackOver&nexacro.ScrollBar.TRACKFIRSTOVER)){this.on_fire_onscroll(this.pos,"trackfirst");this._nTrackOver=nexacro.ScrollBar.TRACKFIRSTOVER;}else{this.on_fire_onscroll(this.pos,"trackfirstover");}}else if(_j>=_f){var _q=this._scroll_reverse_convert(_f);this.pos=_q[0];this._pos=_q[1];if(!(this._nTrackOver&nexacro.ScrollBar.TRACKLASTOVER)){this.on_fire_onscroll(this.pos,"tracklast");this._nTrackOver=nexacro.ScrollBar.TRACKLASTOVER;}else{this.on_fire_onscroll(this.pos,"tracklastover");}}else{var _q=this._scroll_reverse_convert(_j);this.pos=_q[0];this._pos=_q[1];this.on_fire_onscroll(this.pos,"track");this._nTrackOver=0;}};_pScrollBar._getIncNewPosPixel=function(){};_pScrollBar._getDecNewPosPixel=function(){};_pScrollBar._setScrollLayout=function(_a,_b,_c,_d,_e){if(_e<_a){_e=_a;}if(_e>_b){_e=_b;}var _f=this._scroll_reverse_convert(_a);this.min=_f[0];this._min=_f[1];_f=this._scroll_reverse_convert(_b);this.max=_f[0];this._max=_f[1];this._orgmax=_b;_f=this._scroll_reverse_convert(_e);this.pos=_f[0];this._pos=_f[1];this.line=_d;this.page=_c;this._recalcLayout();};delete _pScrollBar;nexacro.ScrollBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ScrollBar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pScrollBarCtrl=nexacro.ScrollBarCtrl.prototype=nexacro._createPrototype(nexacro.ScrollBar,nexacro.ScrollBarCtrl);nexacro._setForTypedControlStyleFinder(_pScrollBarCtrl);_pScrollBarCtrl._type_name="ScrollBarControl";_pScrollBarCtrl._is_focus_accept=false;_pScrollBarCtrl._get_css_assumedtypename=function(){if(this.direction=="vert"){return "VScrollBarControl";}else if(this.direction=="horz"){return "HScrollBarControl";}return this._type_name;};delete _pScrollBarCtrl;}