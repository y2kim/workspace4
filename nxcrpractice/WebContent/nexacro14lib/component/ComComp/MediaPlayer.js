if(!nexacro.MediaPlayer){nexacro.MediaPlayStateChangedEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"onplaystatuschanged";this.fromobject=this.fromreferenceobject=_a;this.newstate=_c;};var _pPlayStatusChangedInfo=nexacro._createPrototype(nexacro.Event,nexacro.MediaPlayStateChangedEventInfo);nexacro.MediaPlayStateChangedEventInfo.prototype=_pPlayStatusChangedInfo;_pPlayStatusChangedInfo._type_name="MediaPlayStatusChangedInfo";delete _pPlayStatusChangedInfo;nexacro.MediaCurrentTimeChangedEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"oncurrenttimechanged";this.fromobject=this.fromreferenceobject=_a;this.currenttime=_c;};var _pCurrentTimeChangedInfo=nexacro._createPrototype(nexacro.Event,nexacro.MediaCurrentTimeChangedEventInfo);nexacro.MediaCurrentTimeChangedEventInfo.prototype=_pCurrentTimeChangedInfo;_pCurrentTimeChangedInfo._type_name="MediaCurrentTimeChangedInfo";delete _pCurrentTimeChangedInfo;nexacro.MediaErrorEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onerror";this.fromobject=this.fromreferenceobject=_a;this.errortype=_c;this.errormsg=_d;this.statuscode=_e;};var _pMediaErrorInfo=nexacro._createPrototype(nexacro.Event,nexacro.MediaErrorEventInfo);nexacro.MediaErrorEventInfo.prototype=_pMediaErrorInfo;_pMediaErrorInfo._type_name="MediaErrorInfo";delete _pMediaErrorInfo;nexacro.MediaPlayer=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.adjustalpha=false;this.currenttime=0;this.duration=0;this.mute=false;this.loop=false;this.controls=false;this.autoplay=false;this.size="Not media open";this.status="The playback state is undefined";this.url="";this._url="";this.volume=50;this._params=new nexacro.Collection();this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondrop":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"onmove":1,"onsize":1,"onsuccess":1,"onerror":1,"onappenditem":1,"ondeleteitem":1,"onitemclick":1,"onfindclick":1,"onitemchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oncurrenttimechanged":1,"onplaystatuschanged":1};};var _pMedia=nexacro.MediaPlayer.prototype=nexacro._createPrototype(nexacro.Component,nexacro.MediaPlayer);_pMedia._type_name="MediaPlayer";_pMedia._obj_id="";_pMedia._obj_elem=null;_pMedia._params=null;_pMedia.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._obj_elem=new nexacro.MediaPlayerPluginElement(_a);_b.setElementSize(this._client_width,this._client_height);}};_pMedia.on_created_contents=function(){var _a=this._obj_elem;if(_a){var _b=this._params;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_a.setElementParam(_b.get_id(_d),_b.get_item(_d));}_a.create();_a.setElementVisible(this.visible);this.on_apply_adjustalpha();this.on_apply_mute();this.on_apply_volume();this.on_apply_loop();this.on_apply_autoplay();this.on_apply_controls();this.on_apply_url();}};_pMedia.on_destroy_contents=function(){var _a=this._obj_elem;if(_a){_a.destroy();this._obj_elem=null;}};_pMedia.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._obj_elem;if(_c){_c.on_update_position();}};_pMedia.on_change_containerRect=function(_a,_b){var _c=this._obj_elem;if(_c){_c.setElementSize(_a,_b);}};_pMedia.set_duration=nexacro._emptyFn;_pMedia.set_status=nexacro._emptyFn;_pMedia.set_size=nexacro._emptyFn;_pMedia.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._obj_elem;if(_b){if(_b.setElementPluginVisible!=null){_b.setElementPluginVisible(_a);}}};_pMedia.set_url=function(_a){if(this.url!=_a){this.url=_a;_a=nexacro._getURIValue(_a);_a=nexacro._getServiceLocation(_a,this._getRefFormBaseUrl());if(this._url!=_a){this._url=_a;this.on_apply_url();}}};_pMedia.on_apply_url=function(){var _a=this._obj_elem;if(_a){_a._setMediaUrl("URL",this._url);this._need_change_event=false;}};_pMedia.set_adjustalpha=function(_a){_a=nexacro._toBoolean(_a);if(this.adjustalpha!=_a){this.adjustalpha=_a;this.on_apply_adjustalpha();}};_pMedia.on_apply_adjustalpha=function(){var _a=this._obj_elem;if(_a){_a._setMediaAdjustAlpha(this.adjustalpha);}};_pMedia.set_currenttime=function(_a){_a= +_a;if(isNaN(_a)){return;}if(_a<0){_a=0;}else if(_a>this.duration){_a=this.duration;}this.currenttime=_a;this.on_apply_currenttime();};_pMedia.on_apply_currenttime=function(){var _a=this._obj_elem;if(_a){_a._setMediaCurrentTime("currentPosition",this.currenttime);}};_pMedia.set_mute=function(_a){_a=nexacro._toBoolean(_a);if(this.mute!=_a){this.mute=_a;this.on_apply_mute();}};_pMedia.on_apply_mute=function(){var _a=this._obj_elem;if(_a){_a._setMediaMute("settings",this.mute);}};_pMedia.set_loop=function(_a){_a=nexacro._toBoolean(_a);if(this.loop!=_a){this.loop=_a;this.on_apply_loop();}};_pMedia.on_apply_loop=function(){var _a=this._obj_elem;if(_a){_a._setMediaLoop("AutoRewind",this.loop);}};_pMedia.set_controls=function(_a){_a=nexacro._toBoolean(_a);if(this.controls!=_a){this.controls=_a;this.on_apply_controls();}};_pMedia.on_apply_controls=function(){var _a=this._obj_elem;if(_a){_a._setMediaControl("uiMode",this.controls);}};_pMedia.set_autoplay=function(_a){_a=nexacro._toBoolean(_a);if(this.autoplay!=_a){this.autoplay=_a;this.on_apply_autoplay();}};_pMedia.on_apply_autoplay=function(){var _a=this._obj_elem;if(_a){_a._setMediaAutoPlay("AutoStart",this.autoplay);}};_pMedia.set_volume=function(_a){_a= +_a;if(isNaN(_a)){return;}if(_a<0){_a=0;}else if(_a>100){_a=100;}if(this.volume!=_a){this.volume=_a;this.on_apply_volume();}};_pMedia.on_apply_volume=function(){var _a=this._obj_elem;if(_a){_a._setMediaVolume("Volume",this.volume);}};_pMedia.on_apply_prop_enable=function(){var _a=this._obj_elem;if(_a){var _b=this.enable;if(_b!=null){_a._setMediaEnable("Enabled",_b);}}};_pMedia.play=function(){var _a=this._obj_elem;if(_a){_a._play();this._need_change_event=false;}};_pMedia.pause=function(){var _a=this._obj_elem;if(_a){_a._pause();}};_pMedia.stop=function(){var _a=this._obj_elem;if(_a){_a._stop();this._need_change_event=true;}};_pMedia.on_fire_onerror=function(_a,_b,_c,_d,_e){if(this.onerror&&this.onerror._has_handlers){var _f=new nexacro.MediaErrorEventInfo(_a,"onerror",_b,_c,_d,_e);return this.onerror._fireEvent(this,_f);}};_pMedia.on_fire_oncurrenttimechanged=function(_a,_b){if(this.oncurrenttimechanged&&this.oncurrenttimechanged._has_handlers){var _c=new nexacro.MediaCurrentTimeChangedEventInfo(_a,"oncurrenttimechanged",_b);return this.oncurrenttimechanged._fireEvent(this,_c);}};_pMedia.on_fire_onplaystatuschanged=function(_a,_b){if(this.onplaystatuschanged&&this.onplaystatuschanged._has_handlers){var _c=new nexacro.MediaPlayStateChangedEventInfo(_a,"onplaystatuschanged",_b);return this.onplaystatuschanged._fireEvent(this,_c);}};_pMedia._on_currenttimechanged=function(_a){var _b=this.currenttime;if(_b!=_a){this.on_fire_oncurrenttimechanged(this,_a);}this.currenttime=_a;};_pMedia._on_statuschanged=function(_a){var _b=this.status;if(_b!=_a){if(this._need_change_event){if(_a=="pause"){_a="stop";}}this.status=_a;this.on_fire_onplaystatuschanged(this,_a);}};_pMedia._on_error=function(_a,_b,_c){this.on_fire_onerror(this,_a,_b,_c);};delete _pMedia;}