if(!nexacro.EditBase){nexacro.EditClickEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o){nexacro.ClickEventInfo.call(this,_a,_b||"oneditclick",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o);this.caretpos=(_c==null)?0:_c;};var _pEditClickEventInfo=nexacro._createPrototype(nexacro.MouseEventInfo,nexacro.EditClickEventInfo);nexacro.EditClickEventInfo.prototype=_pEditClickEventInfo;_pEditClickEventInfo._type_name="EditClickEventInfo";delete _pEditClickEventInfo;_pEditClickEventInfo=null;nexacro.CanCharEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"cancharchange";this.fromobject=this.fromreferenceobject=_a;this.chartext=_c;this.posttext=_e;this.pretext=_d;};var _pCanCharEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CanCharEventInfo);nexacro.CanCharEventInfo.prototype=_pCanCharEventInfo;_pCanCharEventInfo._type_name="TextChangeEventInfo";_pCanCharEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pCanCharEventInfo;_pCanCharEventInfo=null;nexacro.TextChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"ontextchange";this.fromobject=this.fromreferenceobject=_a;this.chartext=_c;this.posttext=_e;this.pretext=_d;this.preimetext=_f;this.postimetext=_g;};var _pTextChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.TextChangeEventInfo);nexacro.TextChangeEventInfo.prototype=_pTextChangeEventInfo;_pTextChangeEventInfo._type_name="TextChangeEventInfo";_pTextChangeEventInfo.set_chartext=function(_a){this.chartext=_a;};delete _pTextChangeEventInfo;_pTextChangeEventInfo=null;nexacro.TextChangedEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"ontextchanged";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.posttext=_d;};var _pTextChangedEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.TextChangedEventInfo);nexacro.TextChangedEventInfo.prototype=_pTextChangedEventInfo;_pTextChangedEventInfo._type_name="TextChangedEventInfo";delete _pTextChangedEventInfo;nexacro.EditBase=function(_a){if(_a){this.comp=_a;}this._init_eventhandler();this._init();};_pEditBase=nexacro.EditBase.prototype;_pEditBase._type_name="EditBase";_pEditBase._old_text="";_pEditBase._old_old_text="";_pEditBase._text="";_pEditBase._old_value=null;_pEditBase._old_old_value=null;_pEditBase._value=null;_pEditBase._focus_text="";_pEditBase._focus_value=null;_pEditBase._old_focus_text="";_pEditBase._old_focus_value=null;_pEditBase._strTab="\t";_pEditBase._set_old_prop=false;_pEditBase._deleted_char="";_pEditBase._is_on_killfocus=false;_pEditBase._is_apply_autoselect=false;_pEditBase._imefirsttxt="";_pEditBase._select_text="";_pEditBase._compositionstart_value="";_pEditBase._compositionend_value="";_pEditBase._bChangeFocusText=false;_pEditBase._bInsert=false;_pEditBase._is_insertkey=false;_pEditBase._is_cancel_event=false;_pEditBase._is_contextmenu=false;_pEditBase._is_mobile_drag=false;_pEditBase._mobile_elme_pos=0;_pEditBase._keycode=0;_pEditBase._charcode=0;_pEditBase._precharcode=0;_pEditBase._altkey=false;_pEditBase._ctrlkey=false;_pEditBase._shiftkey=false;_pEditBase._old_begin_pos=0;_pEditBase._old_end_pos=0;_pEditBase._begin_pos=0;_pEditBase._end_pos=0;_pEditBase._input_begin_pos=0;_pEditBase._accept_keyinput_event=true;_pEditBase._accept_focus_event=true;_pEditBase._accept_blur_event=true;_pEditBase._accept_select_event=true;_pEditBase._accept_cut_process=true;_pEditBase._accept_text_changed_status=0;_pEditBase._stat_mouse=null;_pEditBase._stat_focus=null;_pEditBase._stat_composition=null;_pEditBase._mouseflag=false;_pEditBase._is_undo=false;_pEditBase._undoStack=null;_pEditBase._textEventInfo=null;_pEditBase._set_timer_by_killfocus=false;_pEditBase._isPasteActionComplete=true;_pEditBase._on_input_mousedown=null;_pEditBase._on_input_mouseup=null;_pEditBase._on_input_mousemove=null;_pEditBase._on_input_touchstart=null;_pEditBase._on_input_touchmove=null;_pEditBase._on_input_touchend=null;_pEditBase._on_input_keydown=null;_pEditBase._on_input_keypress=null;_pEditBase._on_input_keyinput=null;_pEditBase._on_input_keyup=null;_pEditBase._on_input_focus=null;_pEditBase._on_input_blur=null;_pEditBase._on_input_copy=null;_pEditBase._on_input_cut=null;_pEditBase._on_input_paste=null;_pEditBase._on_input_compositionstart=null;_pEditBase._on_input_compositionend=null;_pEditBase._on_input_compositionupdate=null;_pEditBase._on_input_select=null;_pEditBase._on_input_selectionchange=null;_pEditBase._on_default_input_keyup=nexacro._emptyFn;_pEditBase._keyup_process_enter=nexacro._emptyFn;_pEditBase._focus_process=nexacro._emptyFn;_pEditBase._blur_process=nexacro._emptyFn;_pEditBase._mouseup_process=nexacro._emptyFn;_pEditBase._mousedown_process=nexacro._emptyFn;_pEditBase.onUpdateStyle=nexacro._emptyFn;_pEditBase.syncValue=nexacro._emptyFn;_pEditBase.insertTabChar=nexacro._emptyFn;_pEditBase.applyInputmode=nexacro._emptyFn;_pEditBase._changeFocusText=nexacro._emptyFn;_pEditBase._setLocale=nexacro._emptyFn;_pEditBase._init_eventhandler=function(){this._on_input_mousedown=this._on_default_input_mousedown;this._on_input_mouseup=this._on_default_input_mouseup;this._on_input_mousemove=this._on_default_input_mousemove;this._on_input_keydown=this._on_default_input_keydown;this._on_input_keypress=this._on_default_input_keypress;this._on_input_keyinput=this._on_default_input_keyinput;this._on_input_keyup=this._on_default_input_keyup;this._on_input_touchstart=this._on_default_input_touchstart;this._on_input_touchmove=this._on_default_input_touchmove;this._on_input_touchend=this._on_default_input_touchend;this._on_input_focus=this._on_default_input_focus;this._on_input_blur=this._on_default_input_blur;this._on_input_copy=this._on_default_input_copy;this._on_input_cut=this._on_default_input_cut;this._on_input_paste=this._on_default_input_paste;this._on_input_compositionstart=this._on_default_input_compositionstart;this._on_input_compositionend=this._on_default_input_compositionend;this._on_input_compositionupdate=this._on_default_input_compositionupdate;this._on_input_select=this._on_default_input_select;this._on_input_selectionchange=this._on_default_input_selectionchange;};_pEditBase._init=function(){this._old_text="";this._text="";this._old_value=null;this._value=null;this._focus_text="";this._focus_value=null;this._set_old_prop=false;this._old_begin_pos=0;this._old_end_pos=0;this._begin_pos=0;this._end_pos=0;this._input_begin_pos=0;this._accept_focus_event=true;this._accept_blur_event=true;this._set_timer_by_killfocus=false;if(!this._stat_mouse){this._stat_mouse=new nexacro.EditBase.Status("mouse");}else{this._stat_mouse.init();}if(!this._stat_focus){this._stat_focus=new nexacro.EditBase.Status("focus");}else{this._stat_focus.init();}if(!this._stat_composition){this._stat_composition=new nexacro.EditBase.CompositionStatus("composition");}else{this._stat_composition.init();}if(!this._undoStack){this._undoStack=new nexacro.EditBase.UndoStack(this.comp);}else{this._undoStack.init();}if(!this._textEventInfo){this._textEventInfo=new nexacro.EditBase.TextEventInfo(this.comp);}else{this._textEventInfo.init();}};_pEditBase._destroy=function(){this.comp=null;this._old_value=null;this._value=null;this._focus_value=null;this._stat_mouse=null;this._stat_focus=null;this._stat_composition=null;if(this._undoStack){this._undoStack._destroy();this._undoStack=null;}if(this._textEventInfo){this._textEventInfo._destroy();this._textEventInfo=null;}};_pEditBase._on_getAccessibilityAdditionalLabel=function(){var _a=this.comp;var _b=_a._input_element;if(_b&&_b._wantAccessibilityAdditionalLabel){if(!_b._wantAccessibilityAdditionalLabel()){return "";}if(_a.text!==undefined&&_a.value!==undefined){return _a.text;}}return "";};_pEditBase._on_getAccessibilityWholeLabel=function(){var _a=this.comp;var _b=_a._input_element;if(_b){if(_a.text!==undefined&&_a.value!==undefined){return _a.text;}}return "";};_pEditBase.setPosition=function(){var _a=this.comp;var _b=_a._input_element;var _c=_a._control_element;var _d=_a._client_width;var _e=_a._client_height;if(_b&&_b._handle){if(_d!=0&&_e!=0){var _f=nexacro._getCachedPaddingObj("0 1 0 1");var _g=_a.on_find_CurrentStyle_align(_a._pseudo);var _h=_a.on_find_CurrentStyle_padding(_a._pseudo);var _i=_g.valign;var _j=_g.halign;if(_i==""){_i=nexacro.Component._default_left_align.valign;}_b.setElementPosition(0,0);_c.setElementPadding(_h);_b.setElementPadding(_f);_b.setElementSize(_d,_e);_b.setElementAlignXY(_j,_i);}}};_pEditBase.setElementCaretPos=function(_a,_b,_c){if(_c&&_c._type=="date"){_a=0;_b=_c.getElementValue().length;}this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_a;this._end_pos=_b;if(!this._is_composition()&&!this.comp._input_element._is_ios_composition){this._input_begin_pos=_a;}if(_c){pos=_c.setElementSetSelect(_a,_b);}};if(nexacro.OS=="iOS"){var ver_arr=nexacro.OSVersion.split(".");var major_ver=ver_arr[0];if(major_ver<7){_pEditBase.getCompositionData=function(_a){var _b=_a.getElementValue();var _c=this._input_begin_pos;var _d=_b.length-this._imefirsttxt.length;var _e=_b.substr(_c,_d);return _e;};}else{_pEditBase.getCompositionData=function(_a){var _b=_a.getElementCaretPos();if(!_b||_b== -1){return "";}var _c=_a.getElementValue();var _d=this._input_begin_pos;var _e=_b.begin-this._input_begin_pos;var _f=_c.substr(_d,_e);return _f;};}}else{_pEditBase.getCompositionData=function(_a){var _b=_a.getElementCaretPos();if(!_b||_b== -1){return "";}var _c=_a.getElementValue();var _d=this._input_begin_pos;var _e=_b.begin-this._input_begin_pos;var _f=_c.substr(_d,_e);return _f;};}_pEditBase.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}if(this._pasteAction||this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){var _e=_c.length-_d.length;_b=_c.substr(this._begin_pos,_e);}else if(this.getCompositionData(_a)){_b=this.getCompositionData(_a);}else{_b=this._stat_composition.getData(_a);}return _b;};_pEditBase.clearBuffer=function(_a,_b,_c){if(_a===null||_a===undefined){return;}var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);this._setText(_d);this._setValue(_d);this.setElementCaretPos(_b,_b);};_pEditBase.restoreBuffer=function(_a,_b,_c){if(_a===null||_a===undefined){return;}this._setText(_a);this._setValue(_a);this.setElementCaretPos(_b,_c);};_pEditBase.writeBuffer=function(_a){var _b=this._text;if(_b===undefined||_b===null){_b="";}_b=_b.replace(/\r\n/g,"\n");var _c=_a.getElementValue();_c=_c.replace(/\r\n/g,"\n");if(_a&&_c!=_b){_a.setElementValue(_b);}return _b;};_pEditBase.setValue=function(_a){var _b=this.comp._input_element;if(nexacro._isNull(_a)||_a===""){this._setText("");this._setValue(_a);this._undoStack.push(_a);if(_b){if(nexacro.Browser=="Runtime"){this.setElementCaretPos(0,0,_b);}else{this.setElementCaretPos(0,0);}}}else{this._setText(_a);this._setValue(_a);this._undoStack.push(_a,_a,this._begin_pos,this._end_pos);}if(_b){if(nexacro.OS=="iOS"&&_b){if(!this.comp.password){_b.setElementInputType("text",true);_b.setElementInputTypeKeypad(this.comp.inputtype);}}_b.setElementValue(_a,true);}};_pEditBase._on_default_input_mousedown=function(_a,_b,_c,_d){this._old_text=this._text;this._old_value=this._value;var _e=this._stat_mouse.getCurrentStatus();if(_e=="mousedown"){this._is_apply_autoselect=false;}this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseDown);this._mousedown_process(_a);if(_c&&!this._is_selected()){this.comp.setSelect();}};_pEditBase._on_default_input_mousemove=function(_a){if(this._text==_a.getElementValue()){this._setCaret(_a);}};_pEditBase._on_default_input_mouseup=function(_a,_b,_c,_d){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);this._mouseup_process(_a);if(this._is_apply_autoselect){this._is_apply_autoselect=false;_a._event_stop=true;}if(_a.readonly){_a._deleteCaret();}};_pEditBase._on_default_input_touchstart=function(_a){this._old_text=this._text;this._old_value=this._value;this._mousedown_process(_a);};_pEditBase._on_default_input_touchmove=function(_a){};_pEditBase._on_default_input_touchend=function(_a){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);this._setCaret(_a);if(_a.readonly){_a._deleteCaret();}};_pEditBase._on_default_input_select=function(_a){if(this._accept_select_event===false){this._accept_select_event=true;if(nexacro.Browser=="Chrome"||nexacro.Browser=="Gecko"){var _b=_a.getElementCaretPos();if(!(_b.begin==this._begin_pos&&_b.end==this._end_pos)){this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else if(_b.begin==_b.end){this._select_text="";}}return;}if(nexacro.Browser!="Edge"){this._setCaret(_a);}if(this._text&&(this._begin_pos!=this._end_pos)){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}else{this._select_text="";}};_pEditBase._on_default_input_selectionchange=function(_a){if(_a&&_a._input_handle){if(!this._is_composition()&&!_a._is_ios_composition){var _b=_a._input_handle;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_b.selectionStart;this._end_pos=_b.selectionEnd;this._input_begin_pos=this._begin_pos;}}if(this._text&&(this._begin_pos!=this._end_pos)){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}};_pEditBase._on_default_input_focus=function(_a,_b){var _c=false;var _d=this._stat_mouse.getCurrentStatus();var _e=this._stat_focus.getCurrentStatus();if(_d==nexacro.EditBase.Status.MouseDown&&_e!=nexacro.EditBase.Status.Focus){_c=true;}if(this._accept_focus_event===false){this._accept_focus_event=true;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);if(!_c&&_a.readonly){_a._deleteCaret();}return;}this._focus_process(_a,_c);if(_e!=nexacro.EditBase.Status.Focus){if(!this.comp._activate_flag){this._setFocusValue();}}if(_c){if(nexacro.Browser!="Edge"&&nexacro.Browser!="IE"){_a._event_stop=true;}}if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.comp._activate_flag=false;if(((nexacro.Browser=="Runtime")||(nexacro.Browser!="Runtime"&&this._mouseflag&&mouse_stat=="mousedown"))&&_e!=nexacro.EditBase.Status.Focus&&this._stat_focus.getCurrentStatus()==nexacro.EditBase.Status.Focus){var _f=this.comp._getWindow();var _g=_f?_f._indexOfCurrentFocusPaths(this.comp):0;if(_g<0&&this.comp._is_subcontrol){_g=_f?_f._indexOfCurrentFocusPaths(this.comp.parent):0;}if(_g<0&&nexacro.Browser=="Runtime"&&!application._is_on_alert){this.comp._on_focus(true);}}};_pEditBase._on_default_input_blur=function(_a,_b){if((!this.comp._input_element.getRootWindowHandle())||(_b===_a._handle&&_a.password)){return true;}if(this._accept_blur_event===false){this._accept_blur_event=true;return false;}if(this._is_on_killfocus&&this._stat_mouse.getCurrentStatus()===nexacro.EditBase.Status.MouseDown){this._stat_mouse.setStatus(nexacro.EditBase.Status.MouseUp);}this._blur_process(_a);this._stat_focus.setStatus(nexacro.EditBase.Status.Blur);return true;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){if(nexacro.OSVersion>=6.0){if(nexacro.BrowserVersion==10){_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(this._is_cancel_event==true){return false;}if(this._is_selected()&&this._select_text==""){_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=this._text;var _f=this._value;if(!_e){_e="";}if(!_f){_f="";}if(!_a.usemultiline){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");_f=_f.replace(/\r\n/g,"");_f=_f.replace(/\n/g,"");}if(_d==_e&&_d==_f&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=_d.length))){this._setCaret(_a);return false;}if(_d==_f&&this._is_composition()){return false;}if(!this._set_old_prop){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;}if(this._is_selected()&&!this._cutAction){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();this._set_old_prop=true;if(this._pasteAction){this._isPasteActionComplete=false;}return false;}if(this._keycode==nexacro.KeyCode_ImeInput&&(this._stat_composition.getCurrentStatus()!=nexacro.EditBase.Status.CompositionEnd)){var _g=this.getCompositionData(_a);var _h=_a.getElementCaretPos();if(!this._is_composition()){if(_g!="　"&&_g!=""){this._on_input_compositionstart(_g);}else{this.setElementCaretPos(this._old_begin_pos+1,this._old_begin_pos+1,_a);_a.setElementBlur();_a.setElementFocus();return false;}}else{if(this._is_hangul(_g)){if(_h.begin!=this._begin_pos){var _i=_g.substr(0,1);this._on_input_compositionend(_i);var _j=this._fire_text_event(_i);_g=this.getCompositionData(_a);if(_g.length>0){this._on_input_compositionstart(_g);}}else if(this._compositionend_value===_d){this._on_input_compositionend(_g);}else{this._on_input_compositionupdate(_g);}}else{this._on_input_compositionupdate(_g);}}}else if(this._is_composition()){var _g=this.getCompositionData(_a);if(!this._is_hangul(_g)){this._on_input_compositionupdate(_g);}else{this._on_input_compositionend(_g);}}var _i="";_i=this.getInsertText(_a);var _j=this._fire_text_event(_i);this._compositionend_value=_d;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._set_old_prop=false;this.onUpdateStyle(_c);return _j;};}else if(nexacro.BrowserVersion==9){_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=this._text;var _f=this._value;if(!_e){_e="";}if(!_f){_f="";}if(!_a.usemultiline){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");_f=_f.replace(/\r\n/g,"");_f=_f.replace(/\n/g,"");}if(_d==_e&&_d==_f&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=_d.length))){this._setCaret(_a);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._keycode==nexacro.KeyCode_ImeInput){var _g=this.getCompositionData(_a);var _h=_a.getElementCaretPos();if(!this._is_composition()){if(_g!="　"){this._on_input_compositionstart(_g);}}else{if(this._is_hangul(_g)){if(_h.begin!=this._begin_pos){var _i=_g.substr(0,1);this._on_input_compositionend(_i);var _j=this._fire_text_event(_i);_g=this.getCompositionData(_a);if(_g.length>0){this._on_input_compositionstart(_g);}}else if(this._compositionend_value===_d){this._on_input_compositionend(_g);}else{this._on_input_compositionupdate(_g);}}else{this._on_input_compositionupdate(_g);}}}else if(this._is_composition()){var _g=this.getCompositionData(_a);if(!this._is_hangul(_g)){this._on_input_compositionupdate(_g);}}var _i=this.getInsertText(_a);var _j=this._fire_text_event(_i);this._compositionend_value=_d;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_c);return _j;};}else{_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=this._text;var _f=this._value;if(!_e){_e="";}if(!_f){_f="";}if(!_a.usemultiline){if(typeof (_e)=="string"){_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(typeof (_f)=="string"){_f=_f.replace(/\r\n/g,"");_f=_f.replace(/\n/g,"");}}if(_d==_e&&_d==_f&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=_d.length))){this._setCaret(_a);return false;}if(!this._set_old_prop){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;}if(this._is_selected()&&!this._cutAction){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();this._set_old_prop=true;return;}if(this._keycode==nexacro.KeyCode_ImeInput){var _g=this.getCompositionData(_a);var _h=_a.getElementCaretPos();if(!this._is_composition()){if(_g&&_g.charAt(_g.length-1)!="　"){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){this._on_input_compositionstart(_g);}}else{this._on_input_compositionend(_g);}}else{if(_g&&_g.length>0){if(this._is_hangul(_g)){if(_h.begin!=this._begin_pos){var _i=_g.substr(0,1);this._on_input_compositionend(_i);var _j=this._fire_text_event(_i);var _k=_g.substring(1,_g.length);if(_k.length>0){this._on_input_compositionstart(_k);}}else{this._on_input_compositionupdate(_g);}}else{this._on_input_compositionupdate(_g);}}else{}}}else if(this._is_composition()){var _g=this.getCompositionData(_a);if(!this._is_hangul(_g)){this._on_input_compositionupdate(_g);}}var _i=this.getInsertText(_a);var _j=this._fire_text_event(_i);this._compositionend_value=_d;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._set_old_prop=false;this.onUpdateStyle(_c);return _j;};}}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(!_d){_d="";}if(!_e){_e="";}if(!_a.usemultiline){_d=_d.replace(/\r\n/g,"");_d=_d.replace(/\n/g,"");_e=_e.replace(/\r\n/g,"");_e=_e.replace(/\n/g,"");}if(_c==_d&&_c==_e&&(_c==""||_c&&(_b.maxlength==0||_b.maxlength>=_c.length))){this._setCaret(_a);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._keycode==nexacro.KeyCode_ImeInput){var _f=this.getCompositionData(_a);if(!this._is_composition()){if(_f!="　"){this._on_input_compositionstart(_f);}}else{if(this._is_hangul(_f)){if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _g=_f.substr(0,1);this._compositionend_value=_c.substr(0,_c.length-1);this._on_input_compositionend(_g);var _h=this._fire_text_event(_g);_f=_f.substr(1,_f.length-1);if(_f.length>0){this._on_input_compositionstart(_f);}}else{this._on_input_compositionupdate(_f);}}else{this._on_input_compositionupdate(_f);}}}else if(this._is_composition()){var _f=this.getCompositionData(_a);if(!this._is_hangul(_f)){this._on_input_compositionupdate(_f);}}var _g=this.getInsertText(_a);var _h=this._fire_text_event(_g);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _h;};}}else if(nexacro.OS=="iOS"){var ver_arr=nexacro.OSVersion.split(".");var major_ver=ver_arr[0];var minor_ver=ver_arr[1];if(major_ver<7){_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=this._text;var _e=this._value;if(this._is_composition()&&this._imefirsttxt==_c&&(_c==""||_c&&(_b.maxlength==0||_b.maxlength>=_c.length))){return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._charcode>=12593&&this._charcode<=12643){if(!this._is_composition()){this._imefirsttxt=this._text;var _f=this.getCompositionData(_a);this._on_input_compositionstart(_f);}else{var _f=this.getCompositionData(_a);if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _g=_f.substr(0,1);var _h=_f.length-1;var _i=_c.substr(0,this._begin_pos);var _j=_c.substr(this._begin_pos+_h,_c.length-1);this._compositionend_value=_i+_j;this._on_input_compositionend(_g);var _k=this._fire_text_event(_g);_f=_f.substr(1,_f.length-1);if(_f.length>0){this._imefirsttxt=this._compositionend_value;this._on_input_compositionstart(_f);}}else{this._on_input_compositionupdate(_f);}}}else if(this._is_composition()){var _f=this.getCompositionData(_a);if(!this._is_hangul(_f)){this._on_input_compositionupdate(_f);}}var _g=this.getInsertText(_a);var _k=this._fire_text_event(_g);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _k;};}else{_pEditBase._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=this.comp;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;var _f=this._value;if(this._is_composition()&&this._imefirsttxt==_c&&(_c==""||_c&&(_b.maxlength==0||_b.maxlength>=_c.length))){return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._charcode>=12593&&this._charcode<=12643){if(!this._is_composition()){this._imefirsttxt=this._text;this._input_begin_pos=(!_d||_d== -1)?0:_d.begin-1;var _g=this.getCompositionData(_a);this._on_input_compositionstart(_g);}else{var _g=this.getCompositionData(_a);if(this._compositionend_value&&(this._compositionend_value.length<_c.length)){var _h=_g.substr(0,1);var _i=_g.length-1;var _j=_c.substr(0,this._begin_pos);var _k=_c.substr(this._begin_pos+_i,_c.length-1);this._compositionend_value=_j+_k;this._on_input_compositionend(_h);var _l=this._fire_text_event(_h);_g=_g.substr(1,_g.length-1);if(_g.length>0){this._imefirsttxt=this._compositionend_value;this._on_input_compositionstart(_g);}}else{this._on_input_compositionupdate(_g);}}}else if(this._is_full_japaness(this._precharcode)&&this._charcode==0&&(major_ver>=10&&minor_ver>=3)){if(this.getCompositionData(_a)==""){this.setElementCaretPos(_d.end,_d.end,_a);}var _g=this.getCompositionData(_a);this._on_input_compositionend(_g);_a._is_ios_composition=false;}else{var _g=this._stat_composition.getData(_a);if(this._is_composition()&&this._is_hangul(_g)){this._on_input_compositionend(_g);}if(this._is_full_japaness(this._precharcode)&&this._keycode!=8&&this._charcode==0&&!(major_ver>=10&&minor_ver>=3)){if(this.getCompositionData(_a)==""){return false;}}}var _h=this.getInsertText(_a);var _l=this._fire_text_event(_h);this._compositionend_value=_c;if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this.onUpdateStyle(_b);return _l;};}}else if(nexacro.Browser=="IE"&&(nexacro.BrowserVersion==11||(nexacro.BrowserType=="IE10"&&nexacro._getRealBrowserVersion()==11))){_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=_a.getElementCaretPos();var _f=this._text;var _g=this._value;if(!_f){_f="";}if(!_g){_g="";}if(!this._is_composition()&&_d==_f&&_d==_g&&(_d==""||_d&&(_c.maxlength==0||_c.maxlength>=this.getLength(_a,_f)))){this._setCaret(_a);this.onUpdateStyle(_c);return false;}this._old_old_text=this._old_text;this._old_old_value=this._old_value;this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._check_backspace(_a)){this.restoreBuffer(_d,_e.begin,_e.end);}var _h=this.getInsertText(_a);var _i=_d.length-this._text.length;if(this._text.length==_d.length&&this._text!=_d){var _j=_d.substr(this._begin_pos,_e.begin-this._begin_pos);if(_j.length>0){var _k=_j;_j=this.applyInputmode(_j);if(_c.inputmode=="lower"){if(_j==_k.toLowerCase()){_j=_k;}}else if(_c.inputmode=="upper"){if(_j==_k.toUpperCase()){_j=_k;}}_j=this._apply_inputfilter(_j);_j=this._apply_inputtype(_j);if(_j==""){this._is_insertkey=true;_h=_k;}else{_h=_j;}}}if(this._bInsert){this._bInsert=false;}if(this._is_hangul(_h)&&_i>_h.length){var _l=_h.length;this._input_begin_pos=this._input_begin_pos-(_i-_l);if(this._input_begin_pos<0){this._input_begin_pos=0;this._text=this._old_text;this._old_text=this._old_old_text;this._old_value=this._old_old_value;this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();if(_i>1){_i-=1;}}_h=_d.substr(this._input_begin_pos,_i);}var _m=this._fire_text_event(_h);if(!this._is_composition()){this._stat_composition.init();}this.onUpdateStyle(_c);return _m;};}else{_pEditBase._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=this.comp;var _d=_a.getElementValue();var _e=_a.getElementCaretPos();var _f=this._text;var _g=this._value;if(!_f){_f="";}if(!_g){_g="";}if(!this._is_composition()&&_d==_f&&_d==_g&&(_d==""||(_d&&(_c.maxlength==0||_c.maxlength>=this.getLength(_a,_f))))){this._setCaret(_a);this.onUpdateStyle(_c);return false;}this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;if(this._is_selected()){this.clearBuffer(this._text,this._begin_pos,this._end_pos);this.syncValue();}if(this._check_backspace(_a)){this.restoreBuffer(_d,_e.begin,_e.end);}var _h=this.getInsertText(_a);if(nexacro.Browser=="Runtime"||nexacro.Browser=="Edge"){if(this._text.length==_d.length&&this._text!=_d){var _i=_d.substr(this._begin_pos,_e.begin-this._begin_pos);if(_i.length>0){var _j=_i;_i=this.applyInputmode(_i);if(_c.inputmode=="lower"){if(_i==_j.toLowerCase()){_i=_j;}}else if(_c.inputmode=="upper"){if(_i==_j.toUpperCase()){_i=_j;}}_i=this._apply_inputfilter(_i);_i=this._apply_inputtype(_i);if(_i==""){this._is_insertkey=true;_h=_j;}else{_h=_i;}}}}if(nexacro.OS=="Android"&&nexacro.Browser=="Chrome"){if(_c.maxlength>0&&_d.length>_c.maxlength&&_f.length>=_c.maxlength&&this._select_text==""){var _k=_d.substr(_e.end-1,_d.length-this._text.length);if(this._is_composition()){if(this._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionUpdate){var _l=this._stat_composition._curr_data;this._input_begin_pos=this._mobile_elme_pos=(_e.begin>_c.maxlength)?_c.maxlength:_e.begin;_h=_k;if(!this._is_hangul(_l)){var _m=window.navigator.appVersion.indexOf("LG");if(_m<0){this._input_begin_pos=this._mobile_elme_pos=(_e.begin>_c.maxlength)?_c.maxlength:_e.begin;_h=_k;_a.setElementValue(null);_a.setElementValue(this._text);this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);}_m=null;}this._is_mobile_drag=true;}}else{this._input_begin_pos=this._mobile_elme_pos=_e.begin-1;this._is_mobile_drag=true;}_k=null;}}var _n=this._fire_text_event(_h);if(!this._is_composition()){this._stat_composition.init();}this.onUpdateStyle(_c);return _n;};}_pEditBase._on_input_keyinput_after=function(){if(this._isPasteActionComplete){this._pasteAction=false;this._cutAction=false;}};_pEditBase._on_default_input_copy=function(_a){};_pEditBase._on_default_input_cut=function(_a){this._cutAction=true;var _b=_a.getElementCaretPos();var _c=_a.getElementValue();if(!_b||_b== -1){this._undoStack.push(_c,_c,0,0);}else{this._begin_pos=_b.begin;this._end_pos=_b.end;this._undoStack.push(_c,_c,_b.begin,_b.end);}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._on_input_keyinput(_a);});}};_pEditBase._on_default_input_paste=function(_a){this._pasteAction=true;var _b=_a.getElementCaretPos();var _c=_a.getElementValue();if(!_b||_b== -1){this._undoStack.push(_c,_c,0,0);}else{this._undoStack.push(_c,_c,_b.begin,_b.end);}if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){if(!(_d._ctrlkey&&_d._keycode==86)){_d.setElementCaretPos(_d._old_begin_pos,_d._old_begin_pos);}_d._pasteAction=true;_d._on_input_keyinput(_a);});}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._on_default_input_compositionstart=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();if(_a==""||this._is_hangul(_a)){if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){var _d=_c.substr(this._input_begin_pos,1);this._on_default_input_compositionend(_d);}}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pEditBase._on_default_input_compositionstart=function(_a){this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionstart=function(_a){if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else if(nexacro.OS=="Android"){_pEditBase._on_default_input_compositionstart=function(_a){if(this._keycode==0){this._input_begin_pos=this.comp._input_element.getElementCaretPos().begin;}else{this._input_begin_pos=this._begin_pos;}this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}else{_pEditBase._on_default_input_compositionstart=function(_a){this._input_begin_pos=this._begin_pos;this._compositionstart_value=this._text;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionStart,_a);};}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_pEditBase._on_default_input_compositionupdate=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();if(_a==""||this._is_hangul(_a)){this._bInsert=true;if(this._compositionstart_value.length!=_c.length){if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate){this._on_default_input_compositionstart(_a);}}if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart){this._input_begin_pos=_d.end-_a.length;this._compositionstart_value=_c;}}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else if(nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionupdate=function(_a){if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}else{_pEditBase._on_default_input_compositionupdate=function(_a){this._precharcode=this._charcode;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionUpdate,_a);};}if(nexacro.Browser=="Edge"||(nexacro.Browser=="IE"&&(nexacro.BrowserVersion==11||(nexacro.BrowserType=="IE10"&&nexacro._getRealBrowserVersion()==11)))){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,1);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(_a==""||this._is_hangul(_a)){if(this._stat_mouse.getCurrentStatus()!=nexacro.EditBase.Status.MouseDown&&this._bInsert){this._accept_keyinput_event=false;}if(this._accept_keyinput_event){this._fire_text_event(_g);this._text=_i;this._value=_i;return true;}else{this._accept_keyinput_event=true;}}};}else if(nexacro.Browser=="Chrome"&&nexacro.BrowserVersion>=53){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,_a.length);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(this._accept_keyinput_event){this._fire_text_event(_g);return true;}else{this._accept_keyinput_event=true;}};}else if(nexacro.OS=="Mac OS"&&nexacro.Browser=="Safari"){var BrowserVersion=window.navigator.appVersion.split('Version/')[1];BrowserVersion=BrowserVersion.split(' ')[0];var major_ver=BrowserVersion.split('.');if(major_ver[0]>=10&&major_ver[1]>0){_pEditBase._on_default_input_compositionend=function(_a){this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._bStatChangeOnly){return;}var _b=this.comp._input_element;var _c=_b.getElementValue();var _d=_b.getElementCaretPos();var _e=this;var _f=_c.substr(0,this._input_begin_pos);var _g=_c.substr(this._input_begin_pos,_a.length);var _h=_c.substr(_d.end,_c.length-_d.end);var _i=_f+_g+_h;if(this._accept_keyinput_event){this._fire_text_event(_g);return true;}else{this._accept_keyinput_event=true;}};}else{_pEditBase._on_default_input_compositionend=function(_a){this._precharcode=0;this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);};}BrowserVersion=major_ver=null;}else if(nexacro._isDesktop()&&nexacro.Browser=="Safari"){_pEditBase._on_default_input_compositionend=function(_a){this._precharcode=0;this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);if(this._is_compositionfocus){var _b=this.comp._input_element;this._is_compositionfocus=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();this._stat_composition.init();}};}else{_pEditBase._on_default_input_compositionend=function(_a){this._precharcode=0;this._compositionstart_value="";this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,_a);};}_pEditBase._fire_text_event=function(_a){var _b=true;var _c=true;var _d=false;var _e=false;var _f=false;var _g=this.comp;var _h=_g._input_element;var _i=this._cutAction?this._old_text:this._text;var _j=this._value;var _k=_g.autoskip;var _l=this._textEventInfo;var _m=this._get_newText_from_text_event(_a);if(!_i){_i="";}var _n=this._input_begin_pos;var _o=_n+_a.length;var _p=_a;var _q=_a;if(this._is_insertkey){this._is_insertkey=false;_m=this._text;_o=this._end_pos;}var _r=_m.substr(0,_n);var _s=_m.substr(_o,_m.length-_o);var _t=this._stat_composition.getPreviousData();var _u=this._stat_composition.getData();var _v=_r+this._select_text+_s;_f=this._check_maxlength();this._initinfo_from_text_event(_a,_m,_n,_o);if(this._check_filterable(_a)){_a=this.applyInputmode(_a);_a=this._apply_inputfilter(_a);_a=this._apply_inputtype(_a);if(_p.length>0&&_a.length==0){_e=true;_a=this._select_text;}this._select_text="";if(!_e){_c=this._check_maxlength_from_text_event(_a);if(!_c){_a="";_m=_g.text;}else{_a=this._apply_maxlength_from_text_event(_a);if(_a!=_p){_d=true;}}}if(_c){this._accept_text_changed_status=0;}_m=_r+_a+_s;var _w=this.getLength(_h,_m,false,null,_g.lengthunit);if(_g.maxlength>0&&_w>_g.maxlength){_m=_m.substring(0,_g.maxlength);}}_b=this._after_filterprocess_from_text_event(_a,_m,_c,_d);if(this._is_composition()){_q="";}_l.setTextInfo(_q,_i,_b.newText,_t,_u,_v,_b.bInsert,_b.bCut);if(!_e){_b=_g._on_fire_textchangeEventSet(_l);if(_b.bTextchangeRet){if(_b.fireCancharEvent){if(_b.bCancahrchangeRet&&_b.bOncharRet){this._setValue(_l.posttext);this.syncValue();if(!this._is_undo){var _x=_n+_a.length;this._undoStack.push(this._value,this._value,_x,_x);}}else{if(this._is_hangul(_a)){this._cancel_event_char_from_text_event(_n,_n);}else{this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();_h.setElementValue(this._text);this.setElementCaretPos(_n,_n,_h);}return _b;}}if(_l.pretext!=_l.posttext||this._accept_text_changed_status==1){this._setText(_l.posttext);this.syncValue();if(_b.bChangeInputValue){_h.setElementValue(_l.posttext);}_g.on_fire_ontextchanged(_g,this._old_text,this._text);if(this._accept_text_changed_status==1){this._accept_text_changed_status=2;}}if(_f!=this._check_maxlength()&&_c&&!this._pasteAction&&this._is_hangul(_a)&&nexacro.Browser!="Runtime"){this._accept_text_changed_status=1;}if(_q!=_l.chartext){_n+=_l.chartext.length;_h.setElementValue(_l.posttext);this.setElementCaretPos(_n,_n,_h);}else{_n+=_a.length;this._after_eventset_fired_from_text_event(_n);}}else{this._cancel_event_textchange_from_text_event(_n,_o);}}if(!_b.bInsert){this._not_insert_from_text_event(_n,_o);}if(_b.bCut){this._cut_from_text_event(_n,_o);}if(_e){this._cancel_from_text_event(_m,_n,_o);}if(_k){this._autoskip_from_text_event(_p);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.OSVersion>=6.0){if(nexacro.SystemLang=="ja"){if(nexacro.BrowserVersion>=9){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);if(!this._is_selected()){this._select_text="";}};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;if(!this._is_on_killfocus){if(!this._set_timer_by_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();if(!this._is_on_killfocus){_d.setElementFocus();}this._accept_keyinput_event=false;}_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_c._text);_c._set_timer_by_killfocus=false;});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementFocus();_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_c._text);_c._set_timer_by_killfocus=false;});}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this;var _e=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_e.setElementBlur();_e.setElementFocus();_e.setElementValue(this._text);this.setElementCaretPos(_b,_b,_e);}else{this._set_timer_by_killfocus=true;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_e.setElementValue(_d._text);_d._set_timer_by_killfocus=false;});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){if(!_a&&!this._is_composition()&&!this._is_undo){this._text=this._value;return {newText:this._value,bInsert:false,bCut:false};}return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;if(!this._is_on_killfocus){if(!this._set_timer_by_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;if(!((this._keycode==nexacro.Event.KEY_BACKSPACE||this._keycode==nexacro.Event.KEY_DELETE)&&this._text=="")){_d.setElementBlur();_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c._accept_focus_event=false;_c.setElementCaretPos(_a,_a,_d);});}}}else{this._set_timer_by_killfocus=true;var _e=this._text;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_e);_c._set_timer_by_killfocus=false;});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_d.setElementBlur();_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c._accept_focus_event=false;_c.setElementCaretPos(_a,_a,_d);});}else{this._set_timer_by_killfocus=true;var _e=this._text;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_d.setElementValue(_e);_c._set_timer_by_killfocus=false;});}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this;var _e=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_focus_event=false;this._accept_blur_event=false;_e.setElementBlur();_e.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._accept_focus_event=false;_d.setElementCaretPos(_b,_b,_e);});}else{this._set_timer_by_killfocus=true;var _f=this._text;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_e.setElementValue(_f);_d._set_timer_by_killfocus=false;});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}}else{if(nexacro.BrowserVersion>=9){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};if(nexacro.BrowserVersion==11){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_a;this._cancel_from_text_event(this._old_value,_a,_a);};}_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);if(!this._is_selected()){this._select_text="";}};if(nexacro.Browser=="Edge"){_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};}else{_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};}_pEditBase._cut_from_text_event=function(_a,_b){var _c=this;var _d=this.comp._input_element;this._setText(this._text);this._setValue(this._text);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_d.setElementBlur();_d.setElementFocus();}if(this._pasteAction&&(nexacro.BrowserVersion==9||nexacro.BrowserVersion==10)){_d.setElementValue(this._text);nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(_a,_a,_d);});}else{_d.setElementValue(this._text);this.setElementCaretPos(_a,_a,_d);}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){this._is_cancel_event=true;var _d=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(nexacro.BrowserVersion==11){if(this._is_composition()){this._accept_keyinput_event=false;this._bStatChangeOnly=true;this._on_input_compositionend("");this._bStatChangeOnly=false;}}else{this._accept_keyinput_event=false;this._on_input_compositionend("");}this._accept_focus_event=false;this._accept_blur_event=false;if(nexacro.Browser!="Edge"){_d.setElementBlur();_d.setElementFocus();}_d.setElementValue(this._text);this.setElementCaretPos(_b,_b,_d);if(this._is_cancel_event==true){this._is_cancel_event=false;}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(this._is_composition()){this._on_input_compositionend("");this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_b.setElementBlur();_b.setElementFocus();}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}}}else{if(nexacro.SystemLang=="ja"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=function(_a,_b,_c,_d){if(_a&&!this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._value=_b.substr(0,_c)+_b.substr(_d,_b.length-_d);}};_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){if(!_a&&!this._is_composition()&&!this._is_undo){this._text=this._value;return {newText:this._value,bInsert:false,bCut:false};}return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){var _b=this.comp._input_element;if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_b);}};_pEditBase._cancel_event_char_from_text_event=nexacro._emptyFn;_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._accept_blur_event=false;this._accept_focus_event=false;_c.setElementBlur();_c.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_c);}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();this._accept_blur_event=false;this._accept_focus_event=false;_c.setElementBlur();_c.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a,_c);}};_pEditBase._cancel_from_text_event=function(_a,_b,_c){var _d=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();this._accept_blur_event=false;this._accept_focus_event=false;_d.setElementBlur();_d.setElementValue(this._text);if(!this._is_on_killfocus){this.setElementCaretPos(_b,_b,_d);}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;if(this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){var _c=this._compositionend_value;}else{var _c=_b.getElementValue();}return _c;};_pEditBase._initinfo_from_text_event=function(_a,_b,_c,_d){if(_a&&!this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd){this._value=_b.substr(0,_c)+_b.substr(_d,_b.length-_d);}};_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength2(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){if(!this._is_on_killfocus){this.setElementCaretPos(_a,_a);}};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){this._old_begin_pos=_a;this._old_end_pos=_b;var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._accept_blur_event=false;_c.setElementBlur();var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_c.setElementValue(_e);_d.setElementCaretPos(_a,_b,_c);});};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();if(this._is_composition()){this._accept_keyinput_event=false;this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementBlur();_c.setElementFocus();}_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);};_pEditBase._not_insert_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(!this._is_on_killfocus){this._accept_keyinput_event=false;this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);}else{var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_c.setElementValue(_d._text);});}};_pEditBase._cut_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();if(!this._is_on_killfocus){this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setElementBlur();_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_a,_c);}else{var _d=this;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_c.setElementValue(_d._text);});}};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();if(!this._is_on_killfocus){this._accept_blur_event=false;this._accept_focus_event=false;this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_b.setElementBlur();_b.setElementFocus();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);}else{var _c=this;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_b.setElementValue(_c._text);});}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){if(!(_a!=""&&!this._is_hangul(_a))){this._accept_keyinput_event=false;}this._apply_autoskip();}};}}}else if(nexacro.Browser=="Chrome"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(_a,_b,_c);};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);_c.setElementValue(this._text,true);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._text);this._setValue(this._value);this.syncValue();_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(_a);this._setValue(_a);this.syncValue();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else if(nexacro.Browser=="Gecko"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;this._cancel_from_text_event(this._old_value);};_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){_a.setElementBlur();_a.setElementFocus();}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;this._setText(this._text);this._setValue(this._value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){_a.setElementBlur();_a.setElementFocus();}_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){if(!this._accept_cut_process){this._accept_cut_process=true;return;}var _b=this.comp._input_element;this._setText(_a);this._setValue(_a);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;if(this._is_composition()){this._accept_keyinput_event=false;this._accept_cut_process=false;_b.setElementBlur();_b.setElementFocus();}if(this._old_begin_pos!=this._old_end_pos){this._accept_select_event=false;}_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}this._accept_cut_process=true;};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};}else{if(nexacro.OS=="iOS"){_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();if(this._is_hangul(_a)&&this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionEnd&&(this._compositionend_value&&this._compositionend_value.length>0)){_c=this._compositionend_value;}return _c;};}else{_pEditBase._get_newText_from_text_event=function(_a){var _b=this.comp._input_element;var _c=_b.getElementValue();return _c;};}_pEditBase._initinfo_from_text_event=nexacro._emptyFn;_pEditBase._check_maxlength_from_text_event=function(_a){return this._check_maxlength();};_pEditBase._apply_maxlength_from_text_event=function(_a){return this._apply_maxlength(_a);};_pEditBase._after_filterprocess_from_text_event=function(_a,_b,_c,_d){return {newText:_b,bInsert:_c,bCut:_d};};_pEditBase._after_eventset_fired_from_text_event=function(_a){this.setElementCaretPos(_a,_a);};if(nexacro.Browser=="Safari"){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_focus_event=false;this._accept_blur_event=false;this._accept_keyinput_event=false;_c.setElementBlur();_c.setElementValue("");_c.setElementFocus();_c.setElementValue(this._text);this.setElementCaretPos(_a,_b,_c);};}else if(nexacro.Browser=="MobileSafari"){_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._setText(this._old_value);this._setValue(this._old_value);this.syncValue();this._accept_keyinput_event=false;this._on_default_input_compositionend("");this.setElementCaretPos(0,0,_c);_c.setElementValue("",true);this._old_begin_pos=_a;this._old_end_pos=_b;this._begin_pos=_a;this._end_pos=_b;this._input_begin_pos=_a;var _d=this;var _e=this._old_value;nexacro.OnceCallbackTimer.callonce(_d.comp,function(){_d._setText(_e);_d._setValue(_e);_d.syncValue();_d._old_value=_e;_d._old_text=_e;_c.setElementValue(_e,true);_d.setElementCaretPos(_a,_b,_c);_d._compositionend_value=_c.getElementValue();});};}else{_pEditBase._cancel_event_char_from_text_event=function(_a,_b){var _c=this.comp._input_element;this._old_begin_pos=_a;this._old_end_pos=_b;this._cancel_from_text_event(this._old_value);};}_pEditBase._cancel_event_textchange_from_text_event=function(_a,_b){var _c=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_c.setInputElementCompositeClear();}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();_c.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_c);};_pEditBase._not_insert_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_a.setInputElementCompositeClear();}this._filteredtext=true;_a.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_a);};_pEditBase._cut_from_text_event=function(){var _a=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_a.setInputElementCompositeClear();}this._filteredtext=true;this._setText(this._text);this._setValue(this._value);this.syncValue();_a.setElementValue(this._text);this.setElementCaretPos(this._begin_pos,this._end_pos,_a);};_pEditBase._cancel_from_text_event=function(_a){var _b=this.comp._input_element;if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");_b.setInputElementCompositeClear();}this._filteredtext=true;this._setText(_a);this._setValue(_a);this.syncValue();_b.setElementValue(this._text);this.setElementCaretPos(this._old_begin_pos,this._old_end_pos,_b);};_pEditBase._autoskip_from_text_event=function(_a){var _b=this._check_maxlength();if(!_b){this._apply_autoskip();}};};_pEditBase._is_composition=function(){return (this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionStart||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.CompositionUpdate);};_pEditBase._is_selected=function(){return this._begin_pos!=this._end_pos;};_pEditBase._is_cleared=function(_a){var _b=_a.getElementValue();if(_b==""&&_b!=this._text){return true;}return false;};_pEditBase._is_hangul=function(_a){var _b=new RegExp("[\\uac00-\\ud7af\\u3130-\\u318f\\u1100-\\u11ff]");if(_b.test(_a)){return true;}return false;};_pEditBase._check_filterable=function(_a){if(_a==null){return false;}if(this._is_hangul(_a)||!this._is_composition()){return true;}return false;};_pEditBase._set_enable=function(_a){if(this.comp&&this.comp._input_element){this.comp._input_element.setElementEnable(_a);}};_pEditBase._setText=function(_a){if(!nexacro._isNull(_a)){if(!(typeof _a=="string")){_a=nexacro._toString(_a);}_a=_a.replace(/\r\n/g,"\n");}else{_a="";}this._text=_a;};_pEditBase._setValue=function(_a){if(!nexacro._isNull(_a)){if(!(typeof _a=="string")){_a=nexacro._toString(_a);}}this._value=_a;};_pEditBase._getText=function(){return this._text;};_pEditBase._getValue=function(){return this._value;};_pEditBase._getFocusText=function(){return this._focus_text;};_pEditBase._getFocusValue=function(){return this._focus_value;};_pEditBase._setCaret=function(_a){var _b=_a.getElementCaretPos();if(_b&&_b!= -1){this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;this._begin_pos=_b.begin;this._end_pos=_b.end;if(!this._is_composition()&&!_a._is_ios_composition){this._input_begin_pos=_b.begin;}}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditBase._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this._select_text=this._text;this.setElementCaretPos(0,_c.length,_a);this.onUpdateStyle(_b);}};}else if(nexacro.OS=="Android"){_pEditBase._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this;var _d=this._select_text=this._text;this._is_apply_autoselect=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(0,_d.length,_a);},0);}};}else{_pEditBase._apply_autoselect=function(_a,_b){var _c=this.comp;if(_c.autoselect){var _d=this._select_text=this._text;this._is_apply_autoselect=true;this.setElementCaretPos(0,_d.length,_a);}};}if(nexacro.Browser=="Edge"||nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"||nexacro.Browser=="IE"){_pEditBase._apply_autoskip=function(){var _a=this;nexacro.OnceCallbackTimer.callonce(_a.comp,function(){_a.comp.on_apply_autoskip();},0);};}else{_pEditBase._apply_autoskip=function(){var _a=this.comp;_a.on_apply_autoskip();};}_pEditBase.applyInputmode=function(_a){if(!_a){return _a;}var _b=this.comp.inputmode;if(_b){switch(_b.toLowerCase()){case "upper":_a=_a.toUpperCase();break;case "lower":_a=_a.toLowerCase();break;default:break;}}return _a;};_pEditBase._setFocusValue=function(){this._focus_text=this._text;this._focus_value=this._value;};_pEditBase._calcCaret=function(_a,_b,_c,_d){if(_a&&_a!= -1){var _e=_a.begin;var _f=_c.length;var _g=_d.length;if(_f>_g){var _h=_f-_g;var _i=_h%2?true:false;if(_b=="center"){if(_i){var _j=_e-_h;if(_j<0){_e=0;}else if(_j>=_g){_e=_g;}else{_e=_j+1;}}else{var _k=_h/2;var _j=_e-_k;if(_j<=0){_e=0;}else if(_j>=_g){_e=_g;}else{_e=_j;}}}else if(_b=="right"){if((_e-_h)<=0){_e=0;}else{_e-=_h;}}}else if(_f<_g){_e=_a.begin;}}else{var _e=0;}return {begin:_e,end:_e};};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){_pEditBase._apply_style=function(_a){var _b=this.comp;if(_b&&_b._is_created){var _c=(_a.width<=0)?false:true;var _d=_a.width;_a.setElementSize((_d>0)?_d=_d-1:_d,_a.height);nexacro.OnceCallbackTimer.callonce(this.comp,function(){_a.setElementSize(_c?_d+1:_d,_a.height);},0);}};}else{_pEditBase._apply_style=nexacro._emptyFn;}_pEditBase._apply_elementtype=function(_a){if(_a&&!_a.password){_a.setElementInputType(this.comp.inputtype);}};_pEditBase._check_backspace=function(_a){var _b=_a.getElementValue();if(_b.length==(this._text.length-1)){if(this._keycode==0){if(!this._cutAction&&!this._pasteAction&&!this._is_composition()){return true;}}}return false;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};_pEditBase._setAccessibilityNotifyLabel=function(){var _a=this.comp;if(_a){_a._refreshAccessibilityValue();var _b=_a.on_find_CurrentStyle_accessibility(_a._pseudo);var _c=_a._getAccessibilityLabel(_b);if(_a.value==null&&_a.displaynulltext.length>0){_c=_c+" "+_a.displaynulltext;_a._setAccessibilityLabel(_c);}return _c;}return null;};delete _pEditBase;_pEditBase=null;nexacro.EditNormal=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._pre_char="";this._typeRegex=undefined;this._typeRegex1=undefined;};_pEditNormal=nexacro._createPrototype(nexacro.EditBase,nexacro.EditNormal);nexacro.EditNormal.prototype=_pEditNormal;_pEditNormal._type_name="EditNormal";_pEditNormal._filterRegexMap={alpha:"a-zA-Z",comma:",",digit:"0-9",symbol:"!\"#$%&'()*\\/;:<=>?@\\[\\\\\\]\\^_`{|}~'\\\\\\u20a9",sign:"+\\-",space:" \t",dot:"."};_pEditNormal._typeRegexMap={alpha:"a-zA-Z",comma:",",digit:"0-9",dot:".",english:"a-zA-Z",symbol:"!\"#$%&+,.'()*\\-/;:<=>?@[\\\\\\]\\^_`{|}~'\\u20a9",number:"0-9\\-.,",numberandenglish:"0-9\\-.,\\a-zA-Z",sign:"+\\-",space:" \t",half:"\\uff61-\\uff9f\\uffe8-\\uffee\\!\"#$%&'()*+,\\-./;:<=>?@[\\\\\\]\\^_`{|}~'\\a-zA-Z\\0-9+",full:"\\uff01-\\uff60\\uffe0-\\uffe6"};_pEditNormal._destroy=function(){this._filterRegexMap=null;this._typeRegexMap=null;this._typeRegex=null;this._typeRegex1=null;nexacro.EditBase.prototype._destroy.call(this);};_pEditNormal.getWCharLen=function(_a){var _b=_a.charCodeAt(0);if(((_b&0xff80)==0)||_b==0x20a9){return 1;}else if((_b&0xff00)<0x0800){return 2;}else{return 3;}};_pEditNormal._is_english=function(_a){var _b=new RegExp("[\\u0041-\\u007a]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_half_japaness=function(_a){var _b=new RegExp("[\\uff61-\\uff9f]");if(_b.test(_a)){return true;}return false;};_pEditNormal._is_full_japaness=function(_a){var _b=new RegExp("[\\u3040 -\\u30ff]");if(_b.test(_a)){return true;}return false;};_pEditNormal.setInputfilter=function(_a){var _b=_a.split(",");var _c="";var _d=_b.length;for(var _f=0;_f<_d;_f++ ){var _e=this._filterRegexMap[_b[_f]];if(_e){_c+=_e;}}if(_c.length){this._filterRegex=new RegExp("["+_c+"]");}else{this._filterRegex=undefined;}};_pEditNormal.setInputType=function(_a){var _b=_a.split(/\s*,\s*/);var _c="";var _d=_b.length;for(var _g=0;_g<_d;_g++ ){var _e=this._typeRegexMap[_b[_g]];if(_e){_c+=_e;}}if(_c.length){this._typeRegex=new RegExp("["+_c+"]");if(_a.indexOf("full")!= -1){var _f=this._typeRegexMap["half"];this._typeRegex1=new RegExp("["+_f+"]");}}else{this._typeRegex=undefined;this._typeRegex1=undefined;}};_pEditNormal.syncValue=function(){var _a=this.comp;var _b=_a._input_element;_a.value=this._value;if(_a.password){_a.text=this._text.replace(/./gi,"*");if(_b){_b.setElementPassword(_a.password);}}else{_a.text=this._text;}};_pEditNormal.setSelectText=function(_a,_b){if(_b&&_b.length>0){var _c=this.comp;var _d=this._begin_pos!==undefined?this._begin_pos:0;var _e=this._end_pos!==undefined?this._end_pos:0;if(_d==_e){return "";}var _f=this._text;if(_c.maxlength&&!(( +_c.maxlength)!=( +_c.maxlength))){var _g=this.getLength(_a,_f);if(_c.maxlength<=_g){return "";}}var _h=_f.split("");var _g=[];var _i="";for(var _m=0,_n=_b.length;_m<_n;_m++ ){_i=_b.charAt(_m);if(this._filterRegex){if(this._filterRegex.test(_i)){continue;}}if(this._typeRegex){if(!this._typeRegex.test(_i)){if(_c.inputtype=="full"){if(this.getWCharLen(_i)==1||this._typeRegex1.test(_i)){continue;}}else{continue;}}if(_c.inputtype!="full"&&this.getWCharLen(_i)>1){continue;}}_g.push(_i);}var _j=_c.getSelectedText();var _k=_g.join("");if(_k.length>0){var _l=_f.substring(0,_d)+_k+_f.substr(_e);if(this._text!=_l){this._setText(_l);this.writeBuffer(_a);this._setValue(this._text);this.syncValue();this._begin_pos=_d;this._end_pos=_d+_k.length;_a.setElementSetSelect(this._begin_pos,this._end_pos);}return _j;}}return "";};_pEditNormal.applyInputmode=function(_a){if(!_a){return _a;}var _b=this.comp.inputmode;var _c="";var _d=0;var _e=_a.length;if(_b){switch(_b.toLowerCase()){case "upper":{for(_d=0;_d<_e;_d++ ){var _f=_a.charAt(_d);var _g=this.getWCharLen(_f);if(_g==1){_f=_f.toUpperCase();}_c+=_f;}}break;case "lower":{for(_d=0;_d<_e;_d++ ){var _f=_a.charAt(_d);var _g=this.getWCharLen(_f);if(_g==1){_f=_f.toLowerCase();}_c+=_f;}}break;default:{_c=_a;}break;}}return _c;};_pEditNormal.setLengthunit=function(_a){this._lengthunit=_a;};_pEditNormal.getLength=function(_a,_b,_c,_d,_e){if(_b===undefined){return 0;}if(_e===undefined){_e=this._lengthunit;}if(_c){if(_e=="utf8"){return this.utf8ByteCount(_a,_b,_c,_d);}else if(_e=="ascii"){return this.asciiByteCount(_a,_b,_c,_d);}else{var _f=this.comp;if(_d===undefined){_d=_f.maxlength;}var _g=_b;if(_d<_b.length){_g=_g.substring(0,_d);}return {"len":_b.length,"str":_g};}}else{if(_e=="utf8"){return this.utf8ByteCount(_a,_b);}else if(_e=="ascii"){return this.asciiByteCount(_a,_b);}else{return _b.length;}}};_pEditNormal.utf8Len=function(_a){if(_a>=0xD800&&_a<=0xDFFF){throw new Error("Illegal argument: "+_a);}if(_a<0){throw new Error("Illegal argument: "+_a);}if(_a<=0x7F){return 1;}if(_a<=0x7FF){return 2;}if(_a<=0xFFFF){return 3;}if(_a<=0x1FFFFF){return 4;}if(_a<=0x3FFFFFF){return 5;}if(_a<=0x7FFFFFFF){return 6;}throw new Error("Illegal argument: "+_a);};_pEditNormal.isHighSurrogate=function(_a){return _a>=0xD800&&_a<=0xDBFF;};_pEditNormal.isLowSurrogate=function(_a){return _a>=0xDC00&&_a<=0xDFFF;};_pEditNormal.toCodepoint=function(_a,_b){if(!this.isHighSurrogate(_a)){throw new Error("Illegal argument: "+_a);}if(!this.isLowSurrogate(_b)){throw new Error("Illegal argument: "+_b);}_a=(0x3FF&_a)<<10;var _c=_a|(0x3FF&_b);return _c+0x10000;};_pEditNormal.utf8ByteCount=function(_a,_b,_c,_d){if(_b===undefined){return 0;}var _e=0;if(_c){var _f=this.comp;if(_d===undefined){_d=_f.maxlength;}var _g=_b.length;for(var _k=0,_l=_b.length;_k<_l;_k++ ){var _h=_b.charCodeAt(_k);if(this.isHighSurrogate(_h)){var _i=_h;var _j=_b.charCodeAt( ++_k);_e+=this.utf8Len(this.toCodepoint(_i,_j));}else{_e+=this.utf8Len(_h);}if(_d==_e){_g=_k;break;}else if(_d<_e){_g=_k-1;break;}}return {"len":_e,"str":_b.substring(0,_g+1)};}for(var _k=0,_l=_b.length;_k<_l;_k++ ){var _h=_b.charCodeAt(_k);if(this.isHighSurrogate(_h)){var _i=_h;var _j=_b.charCodeAt( ++_k);_e+=this.utf8Len(this.toCodepoint(_i,_j));}else{_e+=this.utf8Len(_h);}}return _e;};_pEditNormal.asciiByteCount=function(_a,_b,_c,_d){if(_b===undefined){return 0;}var _e=0,_f;if(_c){var _g=this.comp;if(_d===undefined){_d=_g.maxlength;}var _h=_b.length;for(var _j=0,_k=_b.length;_j<_k;_j++ ){_f=_b.charCodeAt(_j);var _i=_b.substr(_j,1);if(_f>255&&!this._is_half_japaness(_i)){_e++ ;if(_d>=_e){_h=_j-1;}}_e++ ;if(_d>=_e){_h=_j;}}return {"len":_e,"str":_b.substring(0,_h+1)};}else{for(var _j=0,_k=_b.length;_j<_k;_j++ ){_f=_b.charCodeAt(_j);var _i=_b.substr(_j,1);if(_f>255&&!this._is_half_japaness(_i)){_e++ ;}_e++ ;}return _e;}};_pEditNormal.deleteChar=function(_a){var _b=this._text?this._text:"";var _c=this._begin_pos;var _d=this._end_pos;if(_a){if(_c==_d){_c-- ;}}else{if(_c==_d){_d++ ;}}var _e=_b.substr(0,_c);var _f=_b.substr(_d,_b.length-_d);var _g=_e+_f;this._setText(_g);this._setValue(_g);this.setElementCaretPos(_c,_c);if(_b!=_g){return true;}else{return false;}};_pEditNormal._on_default_input_keydown=function(_a,_b,_c,_d,_e){var _f=this.comp;if(!_f){return false;}var _g=_f.readonly;var _h=true;if(_g==true){this.onUpdateStyle(_f);if(_d&&_b==67||_d&&_b==65){return true;}return false;}if(this._check_maxlength()){this._setCaret(_a);}if(_b==nexacro.KeyCode_ImeInput){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.OSVersion<6.0&&!this._is_composition()){this._input_begin_pos=this._old_begin_pos;}}}else{if(this._is_composition()&&(_b==8||_b==46||(nexacro.OS!="iOS"&&_b==32)||(_b>=33&&_b<=40))){if(this._is_hangul(this.getCompositionData(_a))){this._on_input_compositionend("");this._stat_composition.init();this._compositionend_value="";}}if(!_e){var _i=_a.getElementCaretPos();if(_i!= -1){if(_b==37){if(_i.begin>0){this._input_begin_pos=this._begin_pos=this._end_pos=_a.getElementCaretPos().begin-1;}}else if(_b==39){if(_i.begin<this._text.length){this._input_begin_pos=this._begin_pos=this._end_pos=_a.getElementCaretPos().begin+1;}}}}if(_b==9){if(this._is_composition()){var _j=this.getCompositionData(_a);this._on_input_compositionend(_j);this._fire_text_event(_j);}if(_f.acceptstab||(_d&&!_f.acceptstab)){this.insertTabChar(_a);this._on_input_keyinput(_a);_a._event_stop=true;return false;}}if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return false;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return false;}}if(_b==229){this._accept_select_event=false;}var _k=false;if(_b==9&&_f&&_f.acceptstab==false){_k=true;}this.onUpdateStyle(_f,_k);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;};_pEditNormal._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=_c||_b;var _h=true;var _i;var _j=false;var _k=false;var _l=false;var _m=this.comp;var _n=_a.getElementValue();var _o=this._text?this._text:"";var _p=this._textEventInfo;var _q=this._input_begin_pos;var _r=this._end_pos;var _s=_q;this._charcode=_c;if(!_m){return false;}if(_a.readonly){if(_g==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}var _t=false;if(nexacro.OS=="iOS"&&(_g==nexacro.Event.KEY_ENTER)){var _u=this._begin_pos-1>=0?this._begin_pos-1:0;var _v="";if(_o!=_a.text){_v=_o.substr(_u,1);};if(this._is_hangul(_v)&&this._begin_pos>0){_t=true;}}if(_g==nexacro.Event.KEY_BACKSPACE||(_g==nexacro.Event.KEY_DELETE&&_g==this._keycode)||(nexacro.Browser=="MobileSafari"&&_g==127)){var _w=this.deleteChar(_g==8?true:false);this._select_text="";_p.setTextInfo("",_o,this._text,"","",_o);_s=this._begin_pos;_j=_w;if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&_w){this._accept_keyinput_event=false;}}else if(_g!=nexacro.KeyCode_ImeInput&&(_g!=nexacro.Event.KEY_ENTER||_t)&&_c!=0){if(_a.password&&_a.maxlength>0||_t){var _x=String.fromCharCode(_g);if(_t){_x=_v;}var _y=_x;_x=this.applyInputmode(_x);_x=this._apply_inputfilter(_x);_x=this._apply_inputtype(_x);if(_y!=_x&&_x.length==0){_j=false;}else{if(_t){var _z=_o.substr(0,_u);var _aa=_o.substr(this._end_pos,_o.length-this._end_pos);var _ab=_z+_v+_aa;_p.setTextInfo(_v,_o,_ab,"","",_o);_s=_u;_j=true;this._compositionend_value=_ab;this._on_input_compositionend(_v);if(nexacro.Browser=="MobileSafari"){}}else{var _z=_o.substr(0,_q);var _aa=_o.substr(_r,_o.length-_r);var _ab=_z+_x+_aa;_p.setTextInfo("",_o,_ab,"","",_o);_s=_q+_p.chartext.length;if(_ab.length>_a.maxlength){_l=true;}_j=true;if(nexacro.Browser=="MobileSafari"){this._accept_keyinput_event=false;}}}}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&_b==27){if(_n!=_o){_p.setTextInfo("",_o,_n,"","",_o);_j=true;}}}if(_j){_i=_m.on_fire_ontextchange(_p);if(_i){_i=_m.on_fire_cancharchange(_m,_p.chartext,_p.pretext,_p.posttext);if(_i){_i=_m.on_fire_onchar(_p);if(_i){if(_l){_i=false;}else if(_p.pretext!=_p.posttext){this._setText(_p.posttext);this._setValue(_p.posttext);this.setElementCaretPos(this._begin_pos,this._begin_pos);this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,_s,_s);}_m._textchanging=true;_m.on_fire_ontextchanged(_m,_p.pretext,_p.posttext);_m._textchanging=false;}else{if(_t){this._setText(_p.posttext);this._setValue(_p.posttext);this.setElementCaretPos(this._begin_pos,this._begin_pos);this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,_s,_s);}_m._textchanging=true;_m.on_fire_ontextchanged(_m,_p.pretext,_p.posttext);_m._textchanging=false;}else{_h=false;_k=true;}}}}}if(!_i){_h=false;_k=true;this._setText(_o);this._setValue(_o);this.syncValue();this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);if(this._is_selected()){this._select_text=this._text.substring(this._begin_pos,this._end_pos);}}if(_a.password&&_a.maxlength>0&&_m.autoskip){this._autoskip_from_text_event(_x);}}else if((nexacro.OS=="iOS"&&((this.comp.inputtype=="number"&&!(_b==nexacro.Event.KEY_ENTER))||(_c>=12593&&_c<=12643)))||_b==nexacro.Event.KEY_SPACE){_k=this._check_keypressPrevent(_b);if(_k){_h=false;}}if(_k){if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&!this._accept_keyinput_event){this._accept_keyinput_event=true;}_a._event_stop=true;}this.onUpdateStyle(this.comp);return _h;};_pEditNormal._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;var _g=_b;var _h=this._val;var _i=_a.getElementCaretPos();this._accept_select_event=true;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_g>=37&&_g<=40)){this._select_text="";}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&nexacro.BrowserVersion>=9&&(_g==8||_g==46)){this._text=_a.getElementValue();}if((_g==0||_g==13)||(_d&&_g==90)){if(!_h||(_h&&!this._is_hangul(_h.charAt(this._begin_pos)))){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _j=this.getCompositionData(_a);this._on_input_compositionend(_j);this._fire_text_event(_j);this.onUpdateStyle(this.comp);}}}}if(_g==13){this._keyup_process_enter(_a);}if(_g==27){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(this._is_composition()){var _j=this._stat_composition.getData();if(this._is_hangul(_j)){this._on_input_compositionend("");}else{this._on_input_compositionend("");_j="";}this._fire_text_event(_j);}}}if(_g==8){if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&nexacro.OSVersion>=6.0){if(this._is_composition()&&(_i.begin!=this._begin_pos)){if((this._compositionstart_value==this._text)&&(this.getCompositionData(_a)=="")){this._on_input_compositionend("");this._fire_text_event("");}}}else{if(this._is_composition()){if((this._compositionstart_value==this._text)&&(this.getCompositionData(_a)=="")){this._on_input_compositionend("");this._fire_text_event("");}}}}if(nexacro.Browser=="IE"&&nexacro.OSVersion<6.0){var _j=this.getCompositionData(_a);if((_b==121||_b==120)&&this._is_composition()&&!this._is_hangul(_j)){this._on_input_compositionupdate(_j);}else{var _k=this;nexacro.OnceCallbackTimer.callonce(_k.comp,function(){_k._setCaret(_a);},0);}}else if(nexacro.OS=="iOS"){if(this._filteredtext){this._filteredtext=false;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else{this._setCaret(_a);}}else{var _l=this._check_maxlength_from_text_event();if(!_l){var _m=this.comp.maxlength;if(_m&&this._text.length>_m){if(!(this._is_composition()&&!this._is_hangul(this.getCompositionData(_a)))){var _n=this._text.substr(0,_m);_a.setElementValue(_n);}}}this._setCaret(_a);}if(!this._is_composition()){this._compositionend_value="";this._stat_composition.init();}this._charcode=0;if(nexacro.OS=="Android"&&nexacro.Browser=="Chrome"&&this._is_mobile_drag){var _o=window.navigator.appVersion.indexOf("LG");var _p=_a.getElementValue();if(_o>0){if(this._is_composition()){if(!this._is_hangul(this.getCompositionData(_a))){var _q=_p.split(this._textEventInfo.postimetext);var _r=_q.length;_p="";for(var _s=0;_s<_r;_s++ ){if(_q[_s]!=""){_p+=_q[_s];}}_a.setElementValue(null);_a.setElementBlur();_a.setElementFocus();_a.setElementValue(_p);_a._input_handle.value=_p;this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);this.clearBuffer(_p,this._mobile_elme_pos,this._mobile_elme_pos);_q=_r=null;}}else{_a.setElementValue(null);_a.setElementValue(_p);this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);}}else{_a.setElementValue(null);_a.setElementValue(_p);this.setElementCaretPos(this._mobile_elme_pos,this._mobile_elme_pos,_a);if(this._is_composition()){this._compositionend_value="";this._stat_composition.init();}}this._is_mobile_drag=false;_p=_o=null;}};_pEditNormal._check_maxlength=function(){var _a=this.comp;var _b=_a._input_element;var _c=this._value;if(!_c){_c="";}if(_a.maxlength>0){if(_c.length){var _d=this.getLength(_b,_c,true);if(_a.maxlength<=_d.len){return false;}}}return true;};_pEditNormal._check_maxlength2=function(_a){if(!_a||_a.length==0){return true;}var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();if(!_d){_d="";}if(_b.maxlength>0){var _e=this._input_begin_pos;var _f=_e+_a.length;_d=_d.substr(0,_e)+_d.substr(_f,_d.length-_f);if(_d.length){var _g=this.getLength(_c,_d,true);if(_b.maxlength<=_g.len){return false;}}}return true;};_pEditNormal._apply_maxlength=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_a;var _e=this._value;if(!_e){_e="";}if(_b.maxlength>0){var _f=this.getLength(_c,_e,true);if(_b.maxlength>_f.len){_d=this.getLength(_c,_a,true,_b.maxlength-_f.len).str;}}return _d;};_pEditNormal._apply_maxlength2=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_a;var _e=_c.getElementValue();if(!_e){_e="";}if(_b.maxlength>0){var _f=this._input_begin_pos;var _g=_f+_a.length;_e=_e.substr(0,_f)+_e.substr(_g,_e.length-_g);var _h=this.getLength(_c,_e,true);if(_b.maxlength>_h.len){_d=this.getLength(_c,_a,true,_b.maxlength-_h.len).str;}}return _d;};_pEditNormal._apply_inputfilter=function(_a){if(!_a){_a="";}var _b=_a?_a.length:0;var _c=_a.split("");var _d=[];for(var _f=0;_f<_b;_f++ ){var _e=_c[_f];if(this._filterRegex){if(this._filterRegex.test(_e)){continue;}}_d.push(_e);}_d=_d.join("");return _d;};_pEditNormal._apply_inputtype=function(_a){if(!_a){_a="";}_a=_a.replace(/\r\n/g,"\n");var _b=this.comp.inputtype;var _c=_a?_a.length:0;var _d=_a.split("");var _e=[];for(var _g=0;_g<_c;_g++ ){var _f=_d[_g];if(_f!='\n'&&this._typeRegex){if(!this._typeRegex.test(_f)){if(_b.indexOf("full")!= -1){if(this.getWCharLen(_f)==1||(this._typeRegex1&&this._typeRegex1.test(_f))){continue;}}else{continue;}}if((_b.indexOf("full")== -1)&&this.getWCharLen(_f)>1){if(!(this._is_half_japaness(_f))){continue;}}}_e.push(_f);}_e=_e.join("");return _e;};_pEditNormal._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(_a._is_ios_composition_returned){_a.setElementValue(this._text);this._setCaret(_a);_a._is_ios_composition_returned=false;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}if(nexacro.Browser=="Safari"){if(this._is_composition()){this._is_compositionfocus=true;}else{this._is_compositionfocus=false;}}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditNormal._blur_process=function(_a){if(this._is_composition()){if(this.getCompositionData(_a)){var _b=this.getCompositionData(_a);}else{var _b=this._stat_composition.getData(_a);if(_b==_a.getElementValue()){_b="";}}var _c=this._on_input_compositionend(_b);_a.setInputElementCompositeClear();if(nexacro.OS=="iOS"&&nexacro.Browser=="MobileSafari"&&_a._is_ios_composition_returned){var _d=this.comp.maxlength;if(_d>0){_a._is_ios_composition=false;if(this._focus_text.length>=_d){if(this.comp._bind_event){_a.setElementValue(null);_a.setElementValue(this._focus_text);}else{if(this._old_text==this._focus_text){_a.setElementValue(null);_a.setElementValue(this._focus_text);}}}else if(this._focus_text.length<=_d&&this._value>=_d){_a.setElementValue(null);_a.setElementValue(this._value);}}_d=null;}if(!_c){this._fire_text_event(_b);}this._stat_composition.init();this._compositionend_value="";this.onUpdateStyle(this.comp);}if(nexacro.OS=="iOS"&&(_a._keypad_type=="change"||_a._keypad_type=="changed")){_a.setElementInputTypeKeypad(_a._orgtype);_a._tap_blocked=false;_a._is_longpressed=false;}this._setCaret(_a);if(nexacro.Browser=="Gecko"){if(this._is_composition()){if(this._is_on_killfocus){_a.setElementBlur();}}}};_pEditNormal._mouseup_process=function(_a){var _b=_a.getElementCaretPos();if(this._is_composition()||((_b.begin!=this._begin_pos&&_b.end!=this._end_pos)&&nexacro.Browser!="Runtime")){_a._useTimer=false;this._setCaret(_a);if(nexacro.Browser=="Edge"&&_b.begin==_b.end){this.comp._setcaret=false;}if(nexacro.Browser=="Edge"){if(this._text){if(this._begin_pos==this._end_pos){this._select_text="";}else{this._select_text=this._text.substring(this._begin_pos,this._end_pos);}}}}else if(nexacro._isDesktop()&&nexacro.Browser=="Runtime"){_a._useTimer=false;this._setCaret(_a);if(this._text){if(this._begin_pos==this._end_pos){this._select_text="";}else{this._select_text=this._text.substring(this._begin_pos,this._end_pos);}}}else{_a._useTimer=true;var _c=this;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _d=_a.getElementValue();if(_d==""&&_d!=_c._text){_c._setText(_d);_c._setValue(_d);_c.syncValue();}}_c._setCaret(_a);if(_c._text){if(_c._begin_pos==_c._end_pos){_c._select_text="";}else{_c._select_text=_c._text.substring(_c._begin_pos,_c._end_pos);}}});}};_pEditNormal._mousedown_process=function(_a){if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){this._accept_select_event=true;if(this._is_composition()){var _b=this._stat_composition.getData();this._on_input_compositionend(_b);this._fire_text_event(_b);this._compositionend_value="";this._stat_composition.init();if(!this._is_hangul(_b)){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){this._accept_focus_event=false;_a.setElementBlur();_a.setElementFocus();}else if(nexacro.Browser=="Edge"){var _c=this._text;_a.setElementValue(null);_a.setElementBlur();_a.setElementFocus();this._setText(_c);_a.setElementValue(_c);_c=null;}}}}};_pEditNormal._keyup_process_enter=function(_a){if(nexacro.Browser=="Runtime"){this._setText(_a.getElementValue());}var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d){this.comp._on_fire_changeEventSet(_b,_c,_d,_e);}};_pEditNormal._check_keypressPrevent=function(_a){var _b=false;var _c=String.fromCharCode(_a);var _d=_c;_c=this._apply_inputfilter(_c);_c=this._apply_inputtype(_c);if(_d!=_c){_b=true;}return _b;};delete _pEditNormal;_pEditNormal=null;nexacro.MultilineEdit=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}};_pMultilineEdit=nexacro._createPrototype(nexacro.EditNormal,nexacro.MultilineEdit);nexacro.MultilineEdit.prototype=_pMultilineEdit;_pMultilineEdit._type_name="MultilineEdit";_pMultilineEdit.setPosition=function(){var _a=this.comp;var _b=_a._input_element;var _c=_a._control_element;var _d=_a._client_width;var _e=_a._client_height;if(_d==0||_e==0){return;}if(_b&&_b._handle){var _f=nexacro._getCachedPaddingObj("0 1 0 1");var _g=_a.on_find_CurrentStyle_align(_a._pseudo);var _h=_a.on_find_CurrentStyle_padding(_a._pseudo);var _i=nexacro.Component._default_textarea_align.valign;var _j=_g.halign;if((_a.wordwrap=="none"||_a.wordwrap=="false"||_a.wordwrap==false)&&(_a._scrollbars==2||_a._scrollbars==3||_a._scrollbars==8||_a._scrollbars==12||_a._scrollbars==32)){_j=nexacro.Component._default_textarea_align.halign;}_b.setElementPosition(0,0,true);_b.setElementSize(_d,_e);if(_h&&(_h.top||_h.right||_h.bottom||_h.left)){_b.setElementPadding(_h);}else{_b.setElementPadding(_f);}_b.setElementAlignXY(_j,_i);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pMultilineEdit._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this._select_text=this._text;var _d=_b._input_element.getScrollTop();_b._scrolltop=_d;var _e=_b._input_element.getScrollLeft();this.setElementCaretPos(0,_c.length,_a);if(_d!=_b._input_element.getScrollTop()){_b._input_element.setScrollTop(_d);}if(_e!=_b._input_element.getScrollLeft()){_b._input_element.setScrollLeft(_e);}this.onUpdateStyle(_b);}};}else if(nexacro.OS=="Android"){_pMultilineEdit._apply_autoselect=function(_a){var _b=this.comp;if(_b.autoselect){var _c=this;var _d=this._select_text=this._text;this._is_apply_autoselect=true;nexacro.OnceCallbackTimer.callonce(_c.comp,function(){_c.setElementCaretPos(0,_d.length,_a);},0);}};}else{_pMultilineEdit._apply_autoselect=function(_a,_b){var _c=this.comp;if(_c.autoselect){var _d=this._select_text=this._text;this._is_apply_autoselect=true;this.setElementCaretPos(0,_d.length,_a);if(nexacro.Browser=="Gecko"){var _e=_c.hscrollbar?_c.hscrollbar.pos:0;var _f=_c.vscrollbar?_c.vscrollbar.pos:0;nexacro.OnceCallbackTimer.callonce(_c,function(){if(_c.vscrollbar){_c.vscrollbar.set_pos(_f);}if(_c.hscrollbar){_c.hscrollbar.set_pos(_e);}},70);}}};}_pMultilineEdit.onUpdateStyle=function(_a,_b){var _c=0;var _d=0;if(_b==true){if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"&&_a&&_a._input_element){_c=_a._input_element.getScrollTop();_d=_a._input_element.getScrollLeft();}else{_b=false;}}this.setPosition();if(nexacro.SystemLang=="ja"){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==11){_a._update_scroll();}}if(_a._refform){nexacro.OnceCallbackTimer.callonce(_a,function(){if(_b==true){if(_a.vscrollbar){_a._input_element.setScrollTop(_c);}if(_a.hscrollbar){_a._input_element.setScrollLeft(_d);}}_a._update_scroll();});}else{_a._update_scroll();}};_pMultilineEdit.onResetHScroll=function(_a){_a._reset_hscroll();};_pMultilineEdit.insertTabChar=function(_a){var _b=_a.getElementValue();var _c=this._begin_pos;var _d=this._end_pos;var _e=_b.substr(0,this._begin_pos);var _f=_b.substr(this._end_pos,_b.length-this._end_pos);_b=_e+this._strTab+_f;_c=_c+this._strTab.length;this._text=_b;_a.setElementValue(_b);this.setElementCaretPos(_c,_c,_a);};_pMultilineEdit._keyup_process_enter=function(_a){return;};_pMultilineEdit._on_getAccessibilityAdditionalLabel=function(_a){var _b=this.comp;var _c=_b._input_element;if(_c&&_c._wantAccessibilityAdditionalLabel){if(!_c._wantAccessibilityAdditionalLabel()){return "";}if(_b.text!==undefined&&_b.value!==undefined){if(!_a){_a=0;}return _b._getCaretLineString(null,_a);}}return "";};delete _pMultilineEdit;_pMultilineEdit=null;nexacro.EditMaskString=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._mask_PassWDST="{";this._mask_PassWDED="}";this._mask_MARKCHAR="_";this._mask_PASSCHAR="*";this._chkEmpty=String.fromCharCode(0x08);this._isPWInput=false;this._cPassChar=null;this._cMaskChar=null;this._value=null;this._text="";this._strMaskedValue=[];this._bufMask=[];this._bufPass=[];this._strMask=[];this._keypress=false;};_pEditMaskString=nexacro._createPrototype(nexacro.EditBase,nexacro.EditMaskString);nexacro.EditMaskString.prototype=_pEditMaskString;_pEditMaskString._type_name="EditMaskString";_pEditMaskString._maskChr={"@":/[\u0020-\u00ff]/,"#":/[0-9]/,"*":/[a-zA-Z]/,"9":/[a-zA-Z0-9]/,"A":/[A-Z]/,"a":/[a-z]/,"Z":/[A-Z0-9]/,"z":/[a-z0-9]/,"!":/[0-9]/};if(nexacro.OS!="iOS"){_pEditMaskString._on_default_input_compositionstart=nexacro._emptyFn;_pEditMaskString._on_default_input_compositionupdate=nexacro._emptyFn;_pEditMaskString._on_default_input_compositionend=nexacro._emptyFn;}_pEditMaskString._init=function(){nexacro.EditBase.prototype._init.call(this);if(!this._cPassChar){this._cPassChar=this._mask_PASSCHAR;}if(!this._cMaskChar){this._cMaskChar=this._mask_MARKCHAR;}this._value=null;this._text="";this._strMaskedValue=[];this._bufMask=[];this._bufPass=[];this._strMask=[];};_pEditMaskString._destroy=function(){this._cPassChar=null;this._cMaskChar=null;this._strMaskedValue=null;this._bufMask=null;this._bufPass=null;this._strMask=null;this._maskChr=null;nexacro.EditBase.prototype._destroy.call(this);};_pEditMaskString.setMask=function(_a){this._init();var _b=false;var _c=false;var _d=false;var _e=_a.length;var _f=_a.split("");var _g=this._maskChr;var _h=0;var _i=0;var _j=0;for(_i=0;_i<_e;_i++ ){_h=0;if(_c==false&&_f[_i]=="'"){if(_b==false){_b=true;}else{_b=false;}continue;}if(_c==false&&_f[_i]=="\\"&&!_b){_c=true;continue;}else if(_c){_c=false;}else if(_b==false){if(_g[_f[_i]]){_h=_g[_f[_i]];}if(_f[_i]==this._mask_PassWDST){_d=true;continue;}if(_f[_i]==this._mask_PassWDED){_d=false;continue;}}this._bufMask[_j]=_h;this._bufPass[_j]=_d;this._strMask[_j]=_f[_i];_j++ ;}this._nMaxedLength=_a.length;};_pEditMaskString.setValue=function(_a){var _b=this.comp._input_element;if(nexacro._isNull(_a)){this._setValue(_a);this._setMaskedValue(this.makeMaskedValue(""));this._setText(this.makeText(this._strMaskedValue));}else{this._setValue(_a.toString());this._setMaskedValue(this.makeMaskedValue(this._value));this._setText(this.makeText(this._strMaskedValue));}this._undoStack.push(this._value,this._text);if(_b){_b.setElementValue(this._value,true);}};_pEditMaskString.isFilled=function(){var _a=this._bufMask;var _b=_a.length;var _c=this._strMaskedValue;if(_b==0){return false;}for(var _d=0;_d<_b;_d++ ){if(_a[_d]!=0&&_c[_d]==this._chkEmpty){return false;}}return true;};_pEditMaskString.inputText=function(_a){var _b=false;var _c=this._begin_pos;var _d=this._end_pos;var _e=this._text;var _f=this._strMaskedValue.concat();if(_c!=_d){}else{_c=this.findNextPos(_f,_c-1);}if(this._nMaxedLength<=_c){_b=true;}var _g=_c;var _h=_a.length;var _i=_a.split("");if(!_b){for(var _j=0;_j<_h;_j++ ){_g=this.onInputChar(_f,_i[_j],_g);}_e=this.makeText(_f);}return {newText:_e,newMaskedValue:_f,end:_g};};_pEditMaskString.onInputChar=function(_a,_b,_c){var _d=true;var _e=this._bufMask[_c];var _f=this._strMask[_c];if(_e!==undefined&&_e!=0){if(_f=="A"||_f=="Z"){_b=_b.toUpperCase();}else if(_f=="a"||_f=="z"){_b=_b.toLowerCase();}if(!_e.test(_b)){_d=false;}}else{return _c;}if(_d){_a[_c]=_b;_c=this.findNextPos(_a,_c);}return _c;};_pEditMaskString.deleteChar=function(_a){var _b=this._text;var _c=this._begin_pos;var _d=this._end_pos;if(_a){if(_d==_c&&_c!=0){_c-- ;}this.clearBuffer2(this._text,this._strMaskedValue,_c,_d);}else{if(_d==_c&&_d<_b.length){_d++ ;}this.clearBuffer2(this._text,this._strMaskedValue,_c,_d);}};_pEditMaskString.syncValue=function(){var _a=this.comp;_a.value=this._value;_a.text=this._text;};_pEditMaskString.getValue=function(){if(!this._value){return;}var _a=this._value;if(this._nTrimType){if(this._nTrimType==1){_a=_a.replace(/^\s+/,"");}else if(this._nTrimType==2){_a=_a.replace(/\s+$/,"");}else if(this._nTrimType==3){_a=_a.replace(/^\s+/,"");_a=_a.replace(/\s+$/,"");}return _a;}return _a;};_pEditMaskString.makeMaskedValue=function(_a){var _b=this._strMask;var _c=this._bufMask;var _d=this._maskChr;_a=_a.split("");var _e=_b.length;var _f=_a.length;var _g=false;var _h=[];var _i;var _j,_k,_l;if(_f==_e){for(_k=0;_k<_f;_k++ ){if(_c[_k]==0&&_a[_k]==_b[_k]){continue;}else if(_c[_k]==0){break;}}if(_k==_a.length){_g=true;}}for(_k=0,_l=0;_k<_e;_k++ ){_j=_b[_k];_i=_c[_k];if(_i!=0&&_d[_j]){do{_j=_a[_l];_l++ ;}while(_j&&!_i.test(_j)&&!(_j==this._FillMaskChar)&&!(_j=="\u200e"))if(nexacro._isNull(_j)||(_j==this._FillMaskChar)){_j=this._chkEmpty;}}else if(_g&&_b[_k]==_j){_l++ ;}_h[_k]=_j;}return _h;};_pEditMaskString.makeText=function(_a){var _b;var _c=[];var _d;var _e,_f,_g;var _h=this._strMask.length;for(_b=0;_b<_h;_b++ ){_d=_a[_b];_e=this._bufMask[_b];_f=this._bufPass[_b];_g=this._strMask[_b];if(_e!=0){if(nexacro._isNull(_d)||_d==this._chkEmpty||_d==this._FillMaskChar){_d=this._cMaskChar;}else if(_f){_d=this._cPassChar;this._isPWInput=true;}else if(_g=="A"||_g=="Z"){_d=_d.toUpperCase();}else if(_g=="a"||_g=="z"){_d=_d.toLowerCase();}}_c[_b]=_d;}return _c.join("");};_pEditMaskString.makeValue=function(_a){var _b,_c;var _d;var _e;var _f=this._strMask.length;var _g=[];for(_b=0,_c=0;_b<_f;_b++ ){_e=this._bufMask[_b];if(_e!=0){_d=_a[_b];if(!nexacro._isNull(_d)&&_d!=this._chkEmpty){_g[_c]=_d;_c++ ;}else if(!nexacro._isNull(this._FillMaskChar)){_g[_c]=this._FillMaskChar;_c++ ;}}}var _h=_g.join("");if(this._nTrimType){if(this._nTrimType==1){_h=_h.replace(/^\s+/,"");}else if(this._nTrimType==2){_h=_h.replace(/\s+$/,"");}else if(this._nTrimType==3){_h=_h.replace(/^\s+/,"");_h=_h.replace(/\s+$/,"");}}return _h;};_pEditMaskString.findFirstInputPos=function(_a){var _b;var _c=this._strMask.length;var _d;var _e=false;for(_b=0;_b<_c;_b++ ){var _f=this._bufMask[_b];if(_f!=0){_e=true;_d=_a[_b];if(_d==this._chkEmpty||nexacro._isNull(_d)){return _b;}}}if(_e){return this.findPrevPos(_a,_c)+1;}return 0;};_pEditMaskString.findNextPos=function(_a,_b){var _c;var _d=this._strMask.length;var _e;for(_c=_b+1;_c<_d;_c++ ){_e=this._bufMask[_c];if(_e!=0){return _c;}}for(_c=0;_c<_d;_c++ ){if(this._bufMask[_c]!=0){return this.findPrevPos(_a,_d)+1;}}return _d;};_pEditMaskString.findPrevPos=function(_a,_b){var _c;var _d=this._strMask.length;var _e;for(_c=_b-1;_c>=0;_c-- ){_e=this._bufMask[_c];if(_e!=0){return _c;}}for(_c=_d-1;_c>=0;_c-- ){if(this._bufMask[_c]!=0){return this.findFirstInputPos(_a);}}return 0;};_pEditMaskString.writeBuffer=function(_a){var _b;if(this._text){_b=this._text;}else{_b="";}var _c=this.comp;var _d=_c.displaynulltext;var _e=_a.getElementValue();if(_a&&_e!=_b){_a.setElementValue(_b);}return _b;};_pEditMaskString.clearBuffer=function(_a,_b,_c){var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);this._setMaskedValue(this.makeMaskedValue(_d));this._setText(_d);this._setValue(_d);this.setElementCaretPos(_b,_b);};_pEditMaskString.clearBuffer2=function(_a,_b,_c,_d){var _e= -1;var _f;var _g;var _h=[];for(var _k=_c;_k<_d;_k++ ){_f=this._bufMask[_k];_g=this._strMask[_k];if(_f!=0&&_g!="^"){_h.push(_b[_k]);_b[_k]=this._chkEmpty;_a[_k]=this._cMaskChar;if(_e== -1){_e=_k;}}else{if((_d-_c)<2){var _i=0;var _j=_k;while(this._bufMask[_j]==0||this._strMask[_j]=="^"){_j-- ;_i++ ;}_h.push(_b[_k-_i]);_b[_k-_i]=this._chkEmpty;_a[_k-_i]=this._cMaskChar;if(_e== -1){_e=_k-_i;}}else{_h.push(_b[_k]);if(_e== -1){_e=_k;}}}}if(_e== -1){_e=_c;}this._deleted_char=_h.join("");this._setMaskedValue(_b);this._setText(this.makeText(this._strMaskedValue));if(_a!=this._text){this._setValue(this.makeValue(this._strMaskedValue));}this.setElementCaretPos(_e,_e);};_pEditMaskString._setMaskedValue=function(_a){this._strMaskedValue=_a;};_pEditMaskString._set_old_info=function(){this._old_text=this._text;this._old_value=this._value;this._oldMaskedValue=this._strMaskedValue;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;};_pEditMaskString._apply_input_filter=function(_a){var _b=false;var _c=false;var _d=this._begin_pos;var _e=this._end_pos;var _f=this._text;var _g=this._strMaskedValue.concat();if(_d!=_e){}else{_d=this.findNextPos(_g,_d-1);}if(this._nMaxedLength<=_d){_c=true;}var _h=_d;var _i=_a.length;var _j=_a.split("");if(!_c){for(var _k=0;_k<_i;_k++ ){_h=this.onInputChar(_g,_j[_k],_h);}_f=this.makeText(_g);}for(var _k=0,_l=_g.length;_k<_l;_k++ ){if(_g[_k]!=this._strMaskedValue[_k]){_b=true;break;}}if(_b){this._setMaskedValue(_g);this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));}this.setElementCaretPos(_h,_h);};_pEditMaskString._check_value=function(){var _a=this._strMaskedValue;var _b=this._bufMask;var _c=true;for(var _d=0,_e=_a.length;_d<_e;_d++ ){if(_b[_d]!=0&&_a[_d]!=this._chkEmpty){_c=false;}}return _c;};_pEditMaskString.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e=this._text;var _f=_a.getElementValue();var _g=this._strMask;var _h=_c.length-_d.length;var _i=this._deleted_char.length;if(this._pasteAction){if(_h==0){var _j=false;for(var _m=0,_n=_c.length;_m<_n;_m++ ){if(!_j&&_c[_m]!=_d[_m]){_b+=_c[_m];_j=true;}else if(_j){_b+=_c[_m];}}}else if(_h<0){var _k=_d.substr(0,this._begin_pos);var _l=_d.substr(this._begin_pos+_i,_d.length-(this._begin_pos+_i));_b=_c.substr(_k.length,_c.length-(_k.length+_l.length));}else{_b=_c.substr(this._begin_pos,_h+_i);}}else if(this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){if(_h==0){var _j=false;for(var _m=0,_n=_c.length;_m<_n;_m++ ){if(_c[_m]!=_d[_m]){_b+=_c[_m];_j=true;}else if(_j){break;}}}else if(_h<0){var _k=_d.substr(0,this._begin_pos);var _l=_d.substr(this._begin_pos+_i,_d.length-(this._begin_pos+_i));_b=_c.substr(_k.length,_c.length-(_k.length+_l.length));}else{_b=_c.substr(this._begin_pos,_h);}}else{_b=this._stat_composition.getData(_a);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditMaskString._setElementValue=function(_a,_b,_c,_d,_e){if(_e){_a.setElementValue(this._text,true);}else{_a.setElementValue(this._text);}if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}else if(nexacro.Browser=="Safari"||nexacro.Browser=="MobileSafari"){_pEditMaskString._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){var _e=this;this.setElementCaretPos(_b,_c,_a);nexacro.OnceCallbackTimer.callonce(this.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c);}};}else{_pEditMaskString._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){if(nexacro.Browser=="Chrome"&&nexacro.OSVersion>=10.0){this.setElementCaretPos(_b,_c,_a);var _e=this;nexacro.OnceCallbackTimer.callonce(this.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c,_a);}}else{this.setElementCaretPos(_b,_c);}};}_pEditMaskString._changeFocusText=function(_a){var _b=this._value;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();if(!_b){this._setMaskedValue(this.makeMaskedValue(""));}else{this._setMaskedValue(this.makeMaskedValue(_b));}var _e=this.makeText(this._strMaskedValue);this._setText(_e);this.syncValue();if(_c!=_e){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._accept_blur_event=false;}_a.setElementValue(_b);if(nexacro.Browser=="Gecko"){this.setElementCaretPos(_d.begin,_d.end,_a);}}};_pEditMaskString._check_backspace=function(_a){var _b=_a.getElementValue();if(this._select_text.length==0&&(_b.length==(this._text.length-1))){if(!this._cutAction&&!this._pasteAction&&!this._is_composition()){return true;}}return false;};_pEditMaskString._mousedown_process=function(_a){this._oldMaskedValue=this._strMaskedValue.concat();};_pEditMaskString._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){_b._setCaret(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setMaskedValue(_b.makeMaskedValue(_c));_b._setText(_b.makeText(_b._strMaskedValue));if(_b._value){_b._setValue(_b.makeValue(_b._strMaskedValue));}_b.syncValue();_b._setElementValue(_a,_b._begin_pos,_b._end_pos);_b.setElementCaretPos(_b._begin_pos,_b._begin_pos,_a);}}if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditMaskString._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(!this._bChangeFocusText){this._changeFocusText(_a);this._bChangeFocusText=true;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditMaskString._blur_process=function(_a){var _b=_a.getElementValue();if(!this._value){this._setMaskedValue(this.makeMaskedValue(""));}else{this._setMaskedValue(this.makeMaskedValue(this._value));}var _c=this.makeText(this._strMaskedValue);this._setText(_c);this.syncValue();this._bChangeFocusText=false;if(_b!=_c||!this._value){_a.setElementValue(this._value);}};_pEditMaskString._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d||_c!=_e){if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){this._accept_keyinput_event=false;}this.comp._on_fire_changeEventSet(_b,_c,_d,_e);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}};_pEditMaskString._on_default_input_keydown=function(_a,_b,_c,_d,_e){var _f=this.comp;this._setCaret(_a);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}if(!_f._accept_keydown_event(_b)){_a._event_stop=true;}};_pEditMaskString._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=true;var _h=_c||_b;var _i=this.comp;if(!_i){return false;}if(_a.readonly){if(_h==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}if(_h==nexacro.Event.KEY_BACKSPACE||(_h==nexacro.Event.KEY_DELETE&&_h==this._keycode)||(nexacro.Browser=="MobileSafari"&&_h==127)){var _j=this._value;var _k=this._text;var _l=this.deleteChar(_h==8?true:false);var _m=this._text;var _n=this._textEventInfo;_n.setTextInfo("",_k,_m,"","",_k);_g=_i.on_fire_ontextchange(_n);if(_g){_g=_i.on_fire_cancharchange(_i,_n.chartext,_n.pretext,_n.posttext);if(_g){_g=_i.on_fire_onchar(_n);}if(_g){this.syncValue();this._setElementValue(_a,this._begin_pos,this._end_pos,true,true);if(_n.pretext!=_n.posttext){if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}_i._textchanging=true;_i.on_fire_ontextchanged(_i,_n.pretext,_n.posttext);_i._textchanging=false;}}}if(!_g){this._setMaskedValue(this._oldMaskedValue);this._setText(_k);this._setValue(_j);this.syncValue();this.setElementCaretPos(this._begin_pos,this._end_pos);}this._select_text="";_a._event_stop=true;}else if(nexacro.OS=="iOS"){this._keypress=true;}return _g;};_pEditMaskString._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_b>=37&&_b<=40)){this._select_text="";}if(_b==13){this._keyup_process_enter(_a);return;}this._setCaret(_a);};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion==10){_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);if(!this._cutAction){if(this._pasteAction){this._isPasteActionComplete=false;}return;}}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}this._isPasteActionComplete=true;};}else if(nexacro.BrowserVersion>=9){_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);if(!this._cutAction){return;}}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}}else if(nexacro.OS=="iOS"){_pEditMaskString._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=_a.getElementCaretPos();var _d=this._text;if(!_d){_d="";}var _e="";if(_b==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer2(_b,this._strMaskedValue,_c.begin,_c.begin+1);}if(_a._type=="date"){_e=_b;}else{_e=this.getInsertText(_a);if(this._is_composition()){if(this._keypress){_e=_e.substr(_e.length-1,1);this._keypress=false;}else{_e="";}}}this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskString._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;if(!_e){_e="";}var _f="";if(_c==_e){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer2(this._text,this._strMaskedValue,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer2(_c,this._strMaskedValue,_d.begin,_d.begin+1);}if(_a._type=="date"){_f=_c;}else{_f=this.getInsertText(_a);}this._fire_text_event(_f);if(!this._is_composition()){this._stat_composition.init();}};}_pEditMaskString._fire_text_event=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();var _e=this._textEventInfo;var _f=_b.autoskip;var _g=false;if(this._is_undo){this._setMaskedValue(this.makeMaskedValue(_d));this._setText(this.makeText(this._strMaskedValue));this._setValue(this.makeValue(this._strMaskedValue));}else{this._apply_input_filter(_a);}_e.setTextInfo(_a,this._old_text,this._text,"","",this._old_text);var _h=_b.on_fire_ontextchange(_e);if(_h){_h=_b.on_fire_cancharchange(_b,_e.chartext,_e.pretext,_e.posttext,_e.pretext);if(_h){_h=_b.on_fire_onchar(_e);if(_h){if(_e.pretext!=_e.posttext||this._isPWInput){this._isPWInput=false;this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}this._setElementValue(_c,this._begin_pos,this._end_pos,true);_b.on_fire_ontextchanged(_b,this._old_text,this._text);}else{this._setElementValue(_c,this._begin_pos,this._end_pos,true);}}}}if(!_h){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setMaskedValue(this._oldMaskedValue);this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._setElementValue(_c,this._old_begin_pos,this._old_end_pos,true);return;}if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}if(_f){_g=this.isFilled();if(_g){this._apply_autoskip();}}};delete _pEditMaskString;_pEditMaskString=null;nexacro.EditMaskNumber=function(_a){nexacro.EditBase.call(this,_a);if(_a){this.comp=_a;}this._dispComponent=false;this._dispComma=false;this._nMin=0;this._nMax=0;this._nDecimalMin= -1;this._nDecimalMax=0;this._default_grouping=[3];this._default_decimal_point=".";this._default_thousands_sep=",";this._default_positive_sign="";this._default_negative_sign="-";this._default_positive_sign_posn=1;this._default_negative_sign_posn=1;this._positive_sign=this._default_positive_sign;this._negative_sign=this._default_negative_sign;this._positive_sign_posn=this._default_positive_sign_posn;this._negative_sign_posn=this._default_negative_sign_posn;this._grouping=this._default_grouping;this._strPoint=this._default_decimal_point;this._strSeparator=this._default_thousands_sep;this._nSignType=3;this._keypress=false;};_pEditMaskNumber=nexacro._createPrototype(nexacro.EditBase,nexacro.EditMaskNumber);nexacro.EditMaskNumber.prototype=_pEditMaskNumber;_pEditMaskNumber._type_name="EditMaskNumber";_pEditMaskNumber._init=function(){nexacro.EditBase.prototype._init.call(this);this._dispComponent=false;this._dispComma=false;this._nMin=0;this._nMax=0;this._nDecimalMin= -1;this._nDecimalMax=0;};_pEditMaskNumber.isFilled=function(){var _a=this._text.length;var _b=this._text.indexOf(this._strPoint);if(this._nDecimalMax== -1){return false;}else if(this._nDecimalMax==0){if(this._nMax>0&&(this._nMax<=_a)){return true;}else{return false;}}else{if(_b== -1){return false;}if((_a-_b-1)>=this._nDecimalMax){return true;}}return false;};_pEditMaskNumber.filterChar=function(_a){if(this.isDigit(_a)){return _a;}else if(_a==this._strPoint){return _a;}else if(_a==this._strSeparator){return _a;}else if(_a=='-'&&(this._nSignType==3||this._nSignType==0)){return _a;}else if(_a=='+'&&(this._nSignType==3||this._nSignType==1)){return _a;}return "";};_pEditMaskNumber.setMask=function(_a){var _b=this.trimLeft(_a);var _c=_b.charAt(0);if(_c=='!'){this._nSignType=2;}else if(_c=='+'){this._nSignType=1;}else if(_c=='-'){this._nSignType=0;}else{this._nSignType=3;}if(_a.length<=0){this._nMin=0;this._nMax=0;this._nDecimalMax= -1;this._nDecimalMin=0;return;}this._nMin=0;this._nMax=0;this._nDecimalMax=0;this._nDecimalMin=0;this._dispComma=(_a.indexOf(",")>=0);var _d;var _e=false;for(var _f=0,_g=_a.length;_f<_g;_f++ ){_d=_a.charAt(_f);if(_d=='.'){_e=true;}else if(_d=='#'||_d=='0'||_d=='9'||_d==','){if(_e){this._nDecimalMax++ ;if(_d=='0'){this._nDecimalMin=this._nDecimalMax;}}else{if(_d=='0'||(this._nMin>0&&_d!=',')){this._nMin++ ;}this._nMax++ ;}}}};_pEditMaskNumber.setDisplayMask=function(_a){var _b,_c;var _d=false;var _e=false;var _f=_a.length;var _g=this.trimLeft(_a);var _h=_g.charAt(0);var _i=0;var _j=0;this._init();this._dispComponent=true;if(_h=='!'){this._nSignType=2;}else if(_h=='+'){this._nSignType=1;}else if(_h=='-'){this._nSignType=0;}else{this._nSignType=3;}if(_a.length<=0){this._dispComma=true;this._nDecimalMax= -1;this._nDecimalMin=0;}else{this._dispComma=(_a.indexOf(this._default_thousands_sep)>=0);for(_c=0;_c<_f;_c++ ){_b=_a.charAt(_c);if(_b==this._default_decimal_point){_e=true;}else if(_b=="#"||_b=="0"||_b=="9"){if(_e){this._nDecimalMax++ ;if(_b=="0"){this._nDecimalMin=this._nDecimalMax;}else if(_b=="9"){_j++ ;}}else{if(_b=="9"){_i++ ;this._nMin=1;}else if(_b=="0"||this._nMin>0){this._nMin++ ;}this._nMax++ ;}}}}};_pEditMaskNumber.syncValue=function(){var _a=this.comp;_a.value=this._value;_a.text=this._text;};_pEditMaskNumber.getValue=function(){return this._value;};_pEditMaskNumber.setValue=function(_a){var _b=this.comp?this.comp._input_element:null;if(nexacro._isNull(_a)){this._setValue(_a);this._setText(this.makeText("",false));}else{_a=_a.toString();this._setValue(this.normalizeValue(_a,true,true));this._setText(this.makeText(this._value,false));}this._undoStack.push(this._value,this._text);if(_b){if(nexacro.OS=="iOS"&&_b){_b.setElementInputType("text",true);_b.setElementInputTypeKeypad(this.comp.type);}_b.setElementValue(this._value,true);}};_pEditMaskNumber.deleteChar=function(_a){var _b=this._text;var _c=this._begin_pos;var _d=this._end_pos;var _e={};if(_a){if(_d==_c&&_c!=0){_c-- ;var _f=_b.charAt(_c);if(_f==this._strSeparator){_c-- ;}}this.clearBuffer(_b,_c,_d);}else{if(_d==_c&&_c!=_b.length){var _f=_b.charAt(_d);if(_f==this._strSeparator){_d++ ;}_d++ ;}this.clearBuffer(_b,_c,_d);}};_pEditMaskNumber.makeText=function(_a,_b){if(_b===undefined){_b=true;}var _c=0;var _d= -1;var _e=false;var _f=0;var _g=0;var _h=_a;var _i=this.split(_h);_c=_i.sign;_e=_i.pointexist;var _j=_i.numVal;var _k=_i.decVal;_g=_j.length;_f=_k?_k.length:0;if(this._nMin>_g){var _l="";for(var _n=0,_o=this._nMin-_g;_n<_o;_n++ ){_l+="0";}if(!_b){_j=_l+_j;}}if(this._nDecimalMin>_f){var _l="";for(var _n=0,_o=this._nDecimalMin-_f;_n<_o;_n++ ){_l+="0";}if(!_b){_k=_k+_l;}}else if(this._nDecimalMax!= -1&&this._nDecimalMax<_f){if(!_b&&(this._nLimitType!=3+1||this._nDecimalMax==0)){_k=_k.substring(0,this._nDecimalMax)+_k.substr(_f,_k.length);}}if(this._dispComma){_j=this.applyComma(_j);}if(_c<0){strSign=this._negative_sign;_d=this._negative_sign_posn;}else if(_c>0){strSign=this._positive_sign;_d=this._negative_sign_posn;}else{strSign="";}if(_k.length>0){_j+=this._strPoint;_j+=_k;}else{if(_b&&_e&&this._nDecimalMax>0){_j+=this._strPoint;}else if(!_b&&_e){var _m=_j.length;this._begin_pos=(this._begin_pos>_m)?_m:this._begin_pos;this._end_pos=(this._end_pos>_m)?_m:this._begin_pos;}}switch(_d){case 0:_j="("+_j+")";break;case 1:case 3:case 4:_j=strSign+_j;break;case 2:_j+=strSign;break;default:_j=strSign+_j;break;}return _j;};_pEditMaskNumber.makeDisplayText=function(_a,_b){var _c=this.split(_a,_b);var _d,_e;var _f="";var _g= -1;var _h=_c.sign;var _i=_c.pointexist;var _j=_c.numVal;var _k=_c.decVal;var _l=_j.length;var _m=_k?_k.length:0;if(this._nMin>_l){_e=this._nMin-_l;for(_d=0;_d<_e;_d++ ){_f+="0";}_j=_f+_j;}else if(this._nMin==0&&this._nMin!=this._nMax){if(_j=="0"){_j="";}}if(this._nDecimalMin>_m){_f="";_e=this._nDecimalMin-_m;for(_d=0;_d<_e;_d++ ){_f+="0";}_k=_k+_f;}else if(this._nDecimalMax!= -1&&this._nDecimalMax<_m){if((this._nLimitType!=3+1||this._nDecimalMax==0)){_k=_k.substring(0,this._nDecimalMax)+_k.substr(_m,_k.length);}}if(this._dispComma){_j=this.applyComma(_j);}if(_k.length>0){_j+=this._strPoint;_j+=_k;}if(_h<0){strSign=this._negative_sign;_g=this._negative_sign_posn;}else if(_h>0){strSign=this._positive_sign;_g=this._negative_sign_posn;}else{strSign="";}switch(_g){case 0:_j="("+_j+")";break;case 1:case 3:case 4:_j=strSign+_j;break;case 2:_j+=strSign;break;default:_j=strSign+_j;break;}return _j;};_pEditMaskNumber.normalizeValue=function(_a,_b,_c){if(_a.length<=0){return _a;}if(this._dispComponent&&isFinite(_a)==false){return _a;}if(_b===undefined){_b=true;}_a=this.removeMask(_a,_c);if(_a.charAt(_a.length-1)==this._strPoint){_a=_a+"0";}if(_b){var _d=(_a.charAt(0)=='-')?1:0;while(_a.charAt(0+_d)=='0'&&_a.charAt(1+_d)!=this._strPoint&&_a.length!=(1+_d)){_a=_a.substring(0,0+_d)+_a.substr(0+_d+1,_a.length);}var _e=_a.indexOf(this._strPoint);if(_e>=0){var _f;for(_f=_a.length-1;_f>_e+1;_f-- ){if(_a.charAt(_f)!='0'){break;}}_a=_a.substring(0,_f+1);}}if(_a.charAt(0)=='+'){_a=_a.substr(1);}else if(_a.length<=0||parseFloat(_a)==0.0){if(_a.charAt(0)=='-'){_a=_a.substr(1);}}_a=_a.replace(this._strPoint,this._default_decimal_point);return _a;};_pEditMaskNumber.split=function(_a,_b){var _c=0;var _d;if((_c=_a.indexOf('+'))>=0){_d= +1;_c=1;}else if((_c=_a.indexOf('-'))>=0){_d= -1;_c=1;}else{_d=0;_c=0;}var _e;if(_b){_e=_a.indexOf(this._strPoint,_c);}else{_e=_a.indexOf(this._default_decimal_point,_c);}var _f="",_g,_h="";if(_e<0){_f=_a.substr(_c);_g=false;}else{_f=_a.substr(_c,_e-_c);_h=_a.substr(_e+1);_g=true;}return {"sign":_d,"pointexist":_g,"numVal":_f,"decVal":_h};};_pEditMaskNumber.writeBuffer=function(_a){var _b=this._text;var _c=this.comp;var _d=_c.displaynulltext;var _e=_a.getElementValue();if(_a&&_e!=_b){_a.setElementValue(_b);var _f=_a.getElementValue();}return _b;};_pEditMaskNumber.clearBuffer=function(_a,_b,_c){var _d=_a.substr(0,_b)+_a.substr(_c,_a.length-_c);var _e=_d;var _f="";var _g=this.normalizeValue(_d,false);var _h=_d.indexOf(this._strPoint);if(_h>0){_e=_d.substring(0,_h);_f=_d.substring(_h+1,_d.length);}var _i=this.normalizeValue(_e,false);var _j=this.makeText(_i,true);if(_e.length!=_j.length){var _k=_e.length-_j.length;if(_b!=0){_b=_b-_k;}}if(_h>0){_j=_j+this._strPoint+_f;}this._setText(_j);this._setValue(_g);this.setElementCaretPos(_b,_b);};_pEditMaskNumber.clearBuffer2=function(_a,_b,_c){if(_b==_c){return {"text":_a,"end":_c};}if(_b>_c){var _d=_b;_b=_c;_c=_d;}var _e=_a.substr(_b,_c-_b);var _f=_a.substring(0,_b)+_a.substring(_c);var _g=_e;if(_e.indexOf(this._strPoint)>0){_e=this.makeText(this.normalizeValue(_f));_c=this.findIndex(_f,_e,_b,true);_f=_e;if(_c<0){_c=0;}else if(_e.length<_c){_c=_e.length;}}else if(this._is_selected()&&_g==this._strSeparator){_c=_b;_f=_a;}else{var _h=_f.indexOf(this._strPoint);if(_h<0){_h=_f.length;}if(_b<=_h){_e=this.makeText(this.normalizeValue(_f));_c=this.findIndex(_f,_e,_b,false);_f=_e;}else{_c=_b;var _i=this._nDecimalMin-(_f.length-(_h+1));var _j="";if(_i>0){for(var _k=0;_k<_i;_k++ ){_j+="0";}}_f+=_j;}}return {"text":_f,"end":_c,"pstrDeleted":_g};};_pEditMaskNumber.isDigit=function(_a){if(!this._digit){this._digit=/[0-9]/;}if(this._digit.test(_a)){return true;}return false;};_pEditMaskNumber.isPlusSign=function(_a){if(_a=="+"){return true;}return false;};_pEditMaskNumber.isMinusSign=function(_a){if(_a=="-"){return true;}return false;};_pEditMaskNumber.isComma=function(_a){if(_a==this._strPoint){return true;}return false;};_pEditMaskNumber.isSign=function(_a){if(this.isPlusSign(_a)||this.isMinusSign(_a)){return true;}return false;};_pEditMaskNumber.trim=function(_a){return _a.replace(/^\s\s*/,'').replace(/\s\s*$/,'');};_pEditMaskNumber.trimLeft=function(_a){return _a.replace(/^\s\s*/,'');};_pEditMaskNumber.trimRight=function(_a){return _a.replace(/\s\s*$/,'');};_pEditMaskNumber.removeMask=function(_a,_b){_a=this.trim(_a);var _c=_a.length;var _d;var _e=false;var _f=false;var _g=[];if(_b){for(_d=0;_d<_c;_d++ ){var _h=_a.charAt(_d);if((_h=='+'||_h=='-')&&(_f===false)){_g.push(_h);_f=true;}else if(this.isDigit(_h)){_g.push(_h);_f=true;}else if(_h==this._default_decimal_point&&_e===false){_g.push(_h);_e=true;_f=true;}else if(_h!=this._default_thousands_sep){if(!this._pasteAction){return "";}}}}else{for(_d=0;_d<_c;_d++ ){var _h=_a.charAt(_d);if((_h=='+'||_h=='-')&&(_f===false)){_g.push(_h);_f=true;}else if(this.isDigit(_h)){_g.push(_h);_f=true;}else if(_h==this._strPoint){if(_e===false){_g.push(_h);_e=true;_f=true;}}else if(_h!=this._strSeparator){if(!this._pasteAction){return "";}}}}return _g.join("");};_pEditMaskNumber.applyComma=function(_a){var _b=this._grouping;var _c=this._strSeparator;if(_c.length>0){var _d=_a.split("");var _e=_a.length;var _f=(_c.length+1)*_a.length;var _g=[];var _h=0,_i=_e;var _j=_f;var _k=0;while(_b[_k]&&_i>0){var _l=_b[_k];if(_l=="\\"){_k++ ;_l=parseInt(_b[_k])|0;}if(_l>0){_h=_l;while(_l-- >0&&_i>0){_g[ --_j]=_d[ --_i];}if(_i>0){_g[ --_j]=_c;}}else if(_l==0&&_i>_h){_l=_h;while(_l-- >0){_g[ --_j]=_d[ --_i];}if(_i>0){_g[ --_j]=_c;}}else if(_l==0&&_i<=_h&&_i>0){_l=_i;while(_l-- >0){_g[ --_j]=_d[ --_i];}}else{break;}if(_b.length==2&&_k==0){_k++ ;}}return _g.slice(_j,_f+_j).join("");}return _a;};_pEditMaskNumber.findIndex=function(_a,_b,_c,_d){var _e=0;var _f=_a.indexOf(this._strPoint);var _g=_b.indexOf(this._strPoint);if(_f<0){_f=_a.length-1;}if(_g<0){_g=_b.length-1;}if(_d){var _h=new RegExp(this._strSeparator,"g");var _i=_a;if(this._dispComma){_i=_i.replace(_h,"");}var _j=_b.substring(0,_g+1);if(this._dispComma){_j=_j.replace(_h,"");}_j.replace(this._strPoint,"");var _k=_c+_j.length-_i.length;if(this._dispComma){var _l=_f-_c;for(var _m=_c;_m<_f;_m++ ){if(_a.charAt(_m)==this._strSeparator){_l-- ;}if(_b.charAt(_m)==this._strSeparator){_l++ ;}}_e=_g-_l;if(_b.indexOf(this._strPoint)>=0){_e=_g;}}else{_e=_k;}}else{if(_c==_f){_e=_g;}else if(this._dispComma){var _l=_f-_c;for(var _m=_c;_m<_f;_m++ ){if(_a.charAt(_m)==this._strSeparator){_l-- ;}if(_b.charAt(_m)==this._strSeparator){_l++ ;}}_e=_g-_l;}else{_e=_g-(_f-_c);}}return _e;};_pEditMaskNumber.onInputDigit=function(_a,_b,_c){var _d=_a.indexOf(this._strPoint);var _e=_d>=0;if(!_e){_d=_a.length;}var _f=_c;if(_d<_c){if(!this.isLimit(_a)){_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;}}else{if(!this.isLimit(_a)){if(this._dispComma){_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;_d++ ;var _g=_a.length;var _h=_a.indexOf("-");var _i="";if(0<=_h){_i+="-";}if(_i!=""){_a=this.normalizeValue(_a);if(_a.charAt(1)==0){_a=_i+_a;}_a=this.makeText(_a);}else{_a=this.makeText(this.normalizeValue(_a));}var _j=_a.length;_d=_a.indexOf(this._strPoint);if(_g!=_j){_c++ ;}}else{_a=_a.substring(0,_c)+_b+_a.substr(_c,_a.length);_c++ ;_d++ ;}}}if(_d>this._nMin&&_d>1){if(_a.charAt(0)=='0'){if(_a.charAt(1)==this._strSeparator){_a=_a.substr(2);_c-=2;}else if((this._nMin<=0)&&(_a.charAt(1)!=this._strPoint)){_a=_a.substr(1);_c-- ;}}else if(_a.charAt(0)=='+'||_a.charAt(0)=='-'){if(_a.charAt(1)=='0'&&_a.charAt(2)=='0'){_a=_a.substring(0,1)+_a.substr(2,_a.length);_c-- ;}}}var _k=this.comp._input_element;var _l=_k.getElementValue();var _m=this.makeText(this.normalizeValue(_l));if(this._text&&_l.length==this._text.length){if(!this._pasteAction){var _n=this._text.charAt(_f);var _o=this.isDigit(_n);if(!_o){_a=this._text.substring(0,_f+1)+_b+this._text.substr(_f+2,this._text.length);_c=_f+2;}else{_a=_m;_c=_f+1;}}}return {"text":_a,"pos":_c};};_pEditMaskNumber.isLimit=function(_a){var _b=_a.length;var _c=_a.indexOf(this._strPoint);var _d=0;var _e=0;if(_c!= -1){_d=_c;_e=_b-(_c+1);}var _f=(_a.charAt(0)=='-'||_a.charAt(0)=='+')?true:false;if(_f){_b-- ;if(this._end_pos<=_c){_d-- ;}}if(this._nLimitType==3){if(this._nDecimalMax==0||_c== -1){return (_b>=this._nMax);}if(this._nMax>0&&this._nDecimalMax>0){if(this._end_pos<=_c){return (_d>=this._nMax);}else if(this._end_pos>_c){return (_e>=this._nDecimalMax);}else{return false;}}}else if(this._nLimitType==2){if(this._nMax>0&&this._nDecimalMax>0){if(this._begin_pos>_c){return (_e>=this._nDecimalMax);}}else if(this._nMax>0&&this._nDecimalMax==0&&_c>0){if(this._begin_pos>_c){return (_e>=this._nDecimalMax);}}}else if(this._nLimitType==1){if(this._nDecimalMax==0||_c== -1){return (_b>=this._nMax);}if(this._nMax>0&&this._nDecimalMax>0){if(this._end_pos<=_c){return (_d>=this._nMax);}else{return false;}}}else if(this._nLimitType==0){return false;}return false;};_pEditMaskNumber._set_old_info=function(){this._old_text=this._text;this._old_value=this._value;this._old_begin_pos=this._begin_pos;this._old_end_pos=this._end_pos;};_pEditMaskNumber._is_maskchar=function(_a){if(this.isDigit(_a)||_a==this._strPoint){return _a;}else if(this.isSign(_a)&&(this._nSignType==3||this._nSignType==0)){return _a;}else if(this.isSign(_a)&&(this._nSignType==3||this._nSignType==1)){return _a;}return "";};_pEditMaskNumber._apply_filter=function(_a){var _b=false;var _c={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};var _d=this._is_maskchar(_a);if(this.isSign(_d)){_c=this._apply_sign_filter(_d,(this._value?this._value:""),this._text,this._input_begin_pos);}else if(this.isComma(_d)){_c=this._apply_comma_filter(_d,(this._value?this._value:""),this._text,this._input_begin_pos);}else if(this.isDigit(_d)){_c=this._apply_digit_filter(_d,(this._value?this._value:""),this._text,this._input_begin_pos);}return _c;};_pEditMaskNumber._apply_sign_filter=function(_a,_b,_c,_d){var _e=_c.charAt(0);if(this.isPlusSign(_a)&&(this._nSignType==1||this._nSignType==3)){if(this.isPlusSign(_e)){_b=this.normalizeValue(_c,true);_c=this.makeText(_b);_d-=1;}else if(this.isMinusSign(_e)){_b=this.normalizeValue(_c.substr(1),true);_c=_a+this.makeText(_b);}else{_c=_a+this.makeText(_b);_d+=1;}}else if(this.isMinusSign(_a)&&(this._nSignType==0||this._nSignType==3)){if(this.isMinusSign(_e)){_b=this.normalizeValue(_c.substr(1),true);_c=this.makeText(_b);_d-=1;}else if(this.isPlusSign(_e)){_b=this.normalizeValue(_c.substr(1),true);_c=_a+this.makeText(_b);}else{_b=_a+this.normalizeValue(_c,true);_c=this.makeText(_b);_d+=1;}}return {value:_b,text:_c,caret:_d,bChange:true};};_pEditMaskNumber._apply_comma_filter=function(_a,_b,_c,_d){var _e=true;var _f=_b.indexOf(this._default_decimal_point);if(_f== -1){var _g=true;var _h=this._input_begin_pos;var _i=_c.substr(0,_h);var _j=_c.substr(_h);var _k=_j.length;if(this._nDecimalMax==0){_g=false;}else if(_c.indexOf(_a)> -1){_g=false;}else if(this._nLimitType==2||this._nLimitType==3){_g=(_k<=this._nDecimalMax)?true:false;}if(_g){_c=_i+_a+_j;if(_k==0){_e=false;}}}if(_e){_b=this.normalizeValue(_c,false);}if(_f> -1||(_f== -1&&_g)){_d=_c.indexOf(_a)+1;}return {value:_b,text:_c,caret:_d,bChange:true};};_pEditMaskNumber._apply_digit_filter=function(_a,_b,_c,_d){var _e=this.onInputDigit(_c,_a,_d);var _c=_e.text;return {value:this.normalizeValue(_c),text:_c,caret:_e.pos,bChange:true};};_pEditMaskNumber._setLocale=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);this._strPoint=_b.decimal_point;if(_b.thousands_sep){this._strSeparator=_b.thousands_sep;}else{this._strSeparator=this._default_thousands_sep;}if(!_b.grouping||_b.grouping[0]==0){this._grouping=this._default_grouping;}else{this._grouping=_b.grouping;}if(_b.positive_sign){this._positive_sign=_b.positive_sign;}else{this._positive_sign=this._default_positive_sign;}if(_b.negative_sign){this._negative_sign=_b.negative_sign;}else{this._negative_sign=this._default_negative_sign;}if(_b.p_sign_posn!=undefined||_b.p_sign_posn!=null){this._positive_sign_posn=_b.p_sign_posn;}else{this._positive_sign_posn=this._default_positive_sign_posn;}if(_b.n_sign_posn!=undefined||_b.n_sign_posn!=null){this._negative_sign_posn=_b.n_sign_posn;}else{this._negative_sign_posn=this._default_negative_sign_posn;}};_pEditMaskNumber.getInsertText=function(_a){var _b="";var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e=this._text;var _f=_a.getElementValue();if(this._pasteAction||this._keycode==13||this._stat_composition.getCurrentStatus()==nexacro.EditBase.Status.None){var _g=_c.length-_d.length;if(_g==0){var _h=false;for(var _k=0,_l=_c.length;_k<_l;_k++ ){if(_c[_k]!=_d[_k]){_b+=_c[_k];_h=true;}else if(_h){break;}}}else{var _i=this._old_begin_pos;var _j=this._begin_pos;if(_i!=_j){_b=_c.substr(_i,_g-(_i-_j));}else{_b=_c.substr(this._begin_pos,_g);}}}else{_b=this._stat_composition.getData(_a);}return _b;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d,_e){if(_e){_a.setElementValue(this._text,true);}else{_a.setElementValue(this._text);}if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}else if(nexacro.Browser=="Safari"){_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){var _e=this;nexacro.OnceCallbackTimer.callonce(_e.comp,function(){_e._accept_focus_event=false;_e.setElementCaretPos(_b,_c,_a);});}else{this.setElementCaretPos(_b,_c);}};}else{_pEditMaskNumber._setElementValue=function(_a,_b,_c,_d){_a.setElementValue(this._text);if(_d){this.setElementCaretPos(_b,_c,_a);}else{this.setElementCaretPos(_b,_c);}};}_pEditMaskNumber._changeFocusText=function(_a){var _b=this._value;var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e="";if(!_b){_e=this.makeText("",true);}else{if(_a.readonly){_e=this.makeText(_b,false);}else{_e=this.makeText(_b,true);}}this._setText(_e);this.syncValue();if(_a&&_c!=_e){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this._accept_blur_event=false;}_a.setElementValue(_b);if(nexacro.Browser=="Gecko"){this.setElementCaretPos(_d.begin,_d.end,_a);}}};_pEditMaskNumber._check_keypressPrevent=function(_a){var _b=false;var _c={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};var _d=String.fromCharCode(_a);var _e=_d;_c=this._apply_filter(_d);if(!_c.bChange){_b=true;}return _b;};_pEditMaskNumber._check_backspace=function(_a){var _b=_a.getElementValue();if(_b.length==(this._text.length-1)){if(!this._cutAction&&!this._pasteAction&&!this._is_composition()){return true;}}return false;};_pEditMaskNumber._mouseup_process=function(_a){if(this._is_composition()){this._setCaret(_a);}else{var _b=this;nexacro.OnceCallbackTimer.callonce(_b.comp,function(){_b._setCaret(_a);if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=9){var _c=_a.getElementValue();if(_c==""&&_c!=_b._text){_b._setText(_b.makeText(_c,true));if(_b._value){_b._setValue(_b.normalizeValue(_b._text));}_b.syncValue();_b._setElementValue(_a,_b._begin_pos,_b._end_pos);_b.setElementCaretPos(_b._begin_pos,_b._begin_pos,_a);}}if(_b._text){if(_b._begin_pos==_b._end_pos){_b._select_text="";}else{_b._select_text=_b._text.substring(_b._begin_pos,_b._end_pos);}}});}};_pEditMaskNumber._focus_process=function(_a,_b){var _c=this.comp;var _d=_c._getWindow();var _e=_a.getElementValue();if(!this._bChangeFocusText){this._changeFocusText(_a);this._bChangeFocusText=true;}else{this._setText(_e);}if(_d&&_d._keydown_element&&_c._setcaret){this.setElementCaretPos(_c._caret_pos.begin,_c._caret_pos.end,_a);_c._setcaret=false;}this._apply_autoselect(_a,_b);this._stat_focus.setStatus(nexacro.EditBase.Status.Focus);};_pEditMaskNumber._blur_process=function(_a){var _b=_a.getElementValue();if(!this._value){var _c=this.makeText("",false);}else{var _c=this.makeText(this._value,false);}this._setText(_c);this.syncValue();this._bChangeFocusText=false;if(_b!=_c||!this._value){_a.setElementValue(this._value,true);}};_pEditMaskNumber._keyup_process_enter=function(_a){var _b=this._getFocusText();var _c=this._getFocusValue();var _d=this._getText();var _e=this._getValue();if(_b!=_d||_c!=_e){if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&nexacro.BrowserVersion<=10){this._accept_keyinput_event=false;}this.comp._on_fire_changeEventSet(_b,_c,_d,_e);this.setElementCaretPos(this._begin_pos,this._begin_pos,_a);}};_pEditMaskNumber._on_default_input_keydown=function(_a,_b,_c,_d,_e){this._setCaret(_a);this._keycode=_b;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(_d&&(_b==90)){this._is_undo=true;this._undoStack.doUndo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}else if(_d&&(_b==89)){this._is_undo=true;this._undoStack.doRedo();this._setCaret(_a);this._on_input_keyinput(_a);this._is_undo=false;_a._event_stop=true;return;}};_pEditMaskNumber._on_default_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=true;var _h=_c||_b;var _i=this.comp;var _j=this._textEventInfo;var _k=false;if(!_i){return false;}if(_a.readonly){if(_h==nexacro.Event.KEY_BACKSPACE){_a._event_stop=true;}return false;}this._set_old_info();if(_b==nexacro.Event.KEY_SPACE){if(nexacro._isNull(this._value)){var _l=this.makeText("",false);}else{var _l=this.makeText(this._value,false);}this._filteredtext=false;_j.setTextInfo("",this._old_text,_l,"","",this._old_text);_k=true;}if(_h==nexacro.Event.KEY_BACKSPACE||(_h==nexacro.Event.KEY_DELETE&&_h==this._keycode)||(nexacro.Browser=="MobileSafari"&&_h==127)){this.deleteChar(_h==8?true:false);_j.setTextInfo("",this._old_text,this._text,"","",this._old_text);_k=true;}if(_k){_g=_i.on_fire_ontextchange(_j);if(_g){_g=_i.on_fire_cancharchange(_i,_j.chartext,_j.pretext,_j.posttext);if(_g){_g=_i.on_fire_onchar(_j);}if(_g){this._setText(_j.posttext);this._setValue(this.normalizeValue(_j.posttext));this.syncValue();if(nexacro.OSVersion>=6.0&&nexacro.Browser=="IE"&&(nexacro.BrowserVersion==10||nexacro.BrowserVersion==9)){this._accept_keyinput_event=false;}_a.setElementValue(this._text,true);this.setElementCaretPos(this._end_pos,this._end_pos,_a);if(_j.pretext!=_j.posttext){if(!this._is_undo){this._undoStack.push(this._value,this._text,this._end_pos,this._end_pos);}_i._textchanging=true;_i.on_fire_ontextchanged(_i,_j.pretext,_j.posttext);_i._textchanging=false;}}}if(!_g){this._setText(this._old_text);this._setValue(this.normalizeValue(this._old_text));this.syncValue();this.setElementCaretPos(this._old_begin_pos,this._old_end_pos);}this._select_text="";_a._event_stop=true;}else if(nexacro.OS=="iOS"){bPrevent=this._check_keypressPrevent(_b);if(bPrevent){_a._event_stop=true;}this._keypress=true;}return _g;};_pEditMaskNumber._on_default_input_keyup=function(_a,_b,_c,_d,_e){var _f=this.comp;this._altkey=_c;this._ctrlkey=_d;this._shiftkey=_e;if(!_e&&(_b>=37&&_b<=40)){this._select_text="";}if(_b==13){this._keyup_process_enter(_a);return;}if(nexacro.OS=="iOS"||nexacro.OS=="Android"){if(this._filteredtext){this._filteredtext=false;this.setElementCaretPos(this._begin_pos,this._end_pos,_a);}else{this._setCaret(_a);}}else{this._setCaret(_a);}};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(nexacro.BrowserVersion==10){_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}if(!this._set_old_prop){this._set_old_info();}if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);this._set_old_prop=true;if(!this._cutAction){if(this._pasteAction){this._isPasteActionComplete=false;}return;}}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}this._set_old_prop=false;};}else if(nexacro.BrowserVersion>=9){_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=this._text;if(!_d){_d="";}var _e="";if(_c==_d){this._setCaret(_a);return false;}if(!this._set_old_prop){this._set_old_info();}if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);this._set_old_prop=true;return;}if(this._is_cleared(_a)&&!this._cutAction){this.clearBuffer(_c,this._begin_pos,this._end_pos);}_e=this.getInsertText(_a);this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}this._set_old_prop=false;};}}else if(nexacro.OS=="iOS"){_pEditMaskNumber._on_default_input_keyinput=function(_a){if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _b=_a.getElementValue();var _c=_a.getElementCaretPos();var _d=this._text;if(!_d){_d="";}var _e="";if(_b==_d){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_d,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer(_b,_c.begin,_c.end);}_e=this.getInsertText(_a);if(this._is_composition()){if(this._keypress){_e=_e.substr(_e.length-1,1);this._keypress=false;}else{_e="";}}this._fire_text_event(_e);if(!this._is_composition()){this._stat_composition.init();}};}else{_pEditMaskNumber._on_default_input_keyinput=function(_a){var _b=this._stat_mouse.getCurrentStatus();if(_b=="mousedown"&&!(nexacro.Browser=="Edge"&&this._is_composition())){_a.setElementValue(this._value);return false;}if(this._accept_keyinput_event===false){this._accept_keyinput_event=true;return false;}if(_a.readonly){return false;}if(!this.comp){return false;}var _c=_a.getElementValue();var _d=_a.getElementCaretPos();var _e=this._text;if(!_e){_e="";}var _f="";if(_c==_e){this._setCaret(_a);return false;}this._set_old_info();if(this._is_selected()){this.clearBuffer(_e,this._begin_pos,this._end_pos);}if(this._check_backspace(_a)){this.clearBuffer(_c,_d.begin,_d.end);}_f=this.getInsertText(_a);this._fire_text_event(_f);if(!this._is_composition()){this._stat_composition.init();}};}_pEditMaskNumber._fire_text_event=function(_a){var _b=this.comp;var _c=_b._input_element;var _d=_c.getElementValue();var _e=this._textEventInfo;var _f=_b.autoskip;var _g=false;var _h=false;var _i=false;var _j={value:null,text:"",begin_pos:this._input_begin_pos,bChange:false};if(this._is_undo){this._setText(_d);this._setValue(this.normalizeValue(this._text));}else if(this._pasteAction){var _k=0;while(_k<_a.length){var _l=_a.charAt(_k);_j=this._apply_filter(_l);if(_j.bChange){this._setValue(_j.value);this._setText(_j.text);this.setElementCaretPos(_j.caret,_j.caret);}_k++ ;}if(_d!=this._text){this.setValue(this._text);}}else{_j=this._apply_filter(_a);if(_j.bChange){this._setValue(_j.value);this._setText(_j.text);this.setElementCaretPos(_j.caret,_j.caret);}}if(_d!=this._text){_g=true;this._filteredtext=true;}_e.setTextInfo(_a,this._old_text,this._text,"","",this._old_text);var _j=_b.on_fire_ontextchange(_e);if(_j){_j=_b.on_fire_cancharchange(_b,_e.chartext,_e.pretext,_e.posttext,_e.pretext);if(_j){_j=_b.on_fire_onchar(_e);if(_j){if(_d!=_e.posttext){_i=true;}if(_e.pretext!=_e.posttext){this.syncValue();if(!this._is_undo){this._undoStack.push(this._value,this._text,this._begin_pos,this._begin_pos);}this.setElementCaretPos(this._begin_pos,this._end_pos,_c);_b.on_fire_ontextchanged(_b,this._old_text,this._text);}}}}if(!_j){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this._setText(this._old_text);this._setValue(this._old_value);this.syncValue();this._setElementValue(_c,this._old_begin_pos,this._old_end_pos,true);return;}if(_g||_i){if(this._is_composition()){this._stat_composition.setStatus(nexacro.EditBase.Status.CompositionEnd,"");}this.syncValue();if(nexacro.OS=="Mac OS"&&_g&&this._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionEnd&&!this._is_hangul(_a)){var _m=this;nexacro.OnceCallbackTimer.callonce(_m.comp,function(){_m._accept_keyinput_event=false;_m._accept_blur_event=false;_m._accept_focus_event=false;_c.setElementBlur();_c.setElementFocus();_m._accept_blur_event=false;_m._accept_focus_event=false;_c.setElementBlur();_c.setElementFocus();_m._accept_keyinput_event=true;_m._setElementValue(_c,_m._begin_pos,_m._begin_pos,true);_m._stat_composition.init();});}else if(nexacro._isDesktop()&&nexacro.Browser=="Safari"&&_g&&this._stat_composition._curr_stat==nexacro.EditBase.Status.CompositionEnd&&!this._is_hangul(_a)){var _m=this;nexacro.OnceCallbackTimer.callonce(_m.comp,function(){nexacro.__setDOMNodeValue(_c._input_handle,null);_m._setElementValue(_c,_m._begin_pos,_m._begin_pos,true);_m._is_compositionfocus=true;});}else{this._setElementValue(_c,this._begin_pos,this._end_pos,true);}}if(nexacro._isDesktop()&&nexacro.Browser=="Safari"){if(!_g&&this._is_composition()&&!this._is_hangul(_a)&&this._stat_composition._curr_stat!="none"){var _m=this;nexacro.OnceCallbackTimer.callonce(_m.comp,function(){nexacro.__setDOMNodeValue(_c._input_handle,null);_m._setElementValue(_c,_m._begin_pos,_m._begin_pos,true);_m._is_compositionfocus=true;});}}if(_f){_h=this.isFilled();if(_h){this._apply_autoskip();}}};delete _pEditMaskNumber;_pEditMaskNumber=null;nexacro.EditMaskDate=function(_a){nexacro.EditMaskString.call(this,_a);};_pEditMaskDate=nexacro._createPrototype(nexacro.EditMaskString,nexacro.EditMaskDate);nexacro.EditMaskDate.prototype=_pEditMaskDate;_pEditMaskDate._type_name="EditMaskDate";_pEditMaskDate._maskChr={"y":/[0-9]/,"M":/[0-9]/,"d":/[0-9]/,"h":/[0-9]/,"H":/[0-9]/,"m":/[0-9]/,"s":/[0-9]/,"l":/[0-9]/,"~":/[uAC00-\uFAFF]/,"^":/[uAC00-\uFAFF]/};delete _pEditMaskDate;_pEditMaskDate=null;nexacro.EditBase.Status=function(_a){this.id=_a;this.init();};var _pEditBaseStatus=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.Status);nexacro.EditBase.Status.prototype=_pEditBaseStatus;_pEditBaseStatus._type_name="EditBaseStatus";_pEditBaseStatus._prev_stat="";_pEditBaseStatus._curr_stat="";_pEditBaseStatus.init=function(){this._prev_stat=nexacro.EditBase.Status.None;this._curr_stat=nexacro.EditBase.Status.None;};_pEditBaseStatus.setStatus=function(_a){this._prev_stat=this._curr_stat;this._curr_stat=_a;};_pEditBaseStatus.getCurrentStatus=function(){return this._curr_stat;};_pEditBaseStatus.getPreviousStatus=function(){return this._prev_stat;};delete _pEditBaseStatus;_pEditBaseStatus=null;nexacro.EditBase.CompositionStatus=function(_a){nexacro.EditBase.Status.call(this,_a);};var _pEditBaseCompositionStatus=nexacro._createPrototype(nexacro.EditBase.Status,nexacro.EditBase.CompositionStatus);nexacro.EditBase.CompositionStatus.prototype=_pEditBaseCompositionStatus;_pEditBaseCompositionStatus._type_name="EditBaseCompositionStatus";_pEditBaseCompositionStatus._prev_stat="";_pEditBaseCompositionStatus._curr_stat="";_pEditBaseCompositionStatus._prev_data="";_pEditBaseCompositionStatus._curr_data="";_pEditBaseCompositionStatus.init=function(){this._prev_stat=nexacro.EditBase.Status.None;this._curr_stat=nexacro.EditBase.Status.None;this._prev_data="";this._curr_data="";};_pEditBaseCompositionStatus.setStatus=function(_a,_b){this._prev_stat=this._curr_stat;this._curr_stat=_a;this._prev_data=this._curr_data;this._curr_data=_b;};_pEditBaseCompositionStatus.getData=function(){return this._curr_data;};_pEditBaseCompositionStatus.getPreviousData=function(){return this._prev_data;};delete _pEditBaseCompositionStatus;_pEditBaseCompositionStatus=null;nexacro.EditBase.Status.None="none";nexacro.EditBase.Status.MouseDown="mousedown";nexacro.EditBase.Status.MouseUp="mouseup";nexacro.EditBase.Status.Click="click";nexacro.EditBase.Status.Select="select";nexacro.EditBase.Status.MouseMove="mousemove";nexacro.EditBase.Status.MouseDrag="drag";nexacro.EditBase.Status.MouseDragMove="dragmove";nexacro.EditBase.Status.MouseDrop="drop";nexacro.EditBase.Status.NoSelectDrag="noselectdrag";nexacro.EditBase.Status.Focus="focus";nexacro.EditBase.Status.Blur="blur";nexacro.EditBase.Status.CompositionStart="start";nexacro.EditBase.Status.CompositionUpdate="update";nexacro.EditBase.Status.CompositionEnd="end";nexacro.EditBase.UndoStack=function(_a){this.init();this.comp=_a;};var _pEditBaseUndoStack=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.UndoStack);nexacro.EditBase.UndoStack.prototype=_pEditBaseUndoStack;_pEditBaseUndoStack._type_name="EditBaseUndoStack";_pEditBaseUndoStack.undoStack=[{value:0,selectionStart:0,selectionEnd:0}];_pEditBaseUndoStack.comp=null;_pEditBaseUndoStack.undoPosition=0;_pEditBaseUndoStack.init=function(){this.undoStack=[{value:0,text:0,selectionStart:0,selectionEnd:0}];this.undoPosition=0;};_pEditBaseUndoStack._destroy=function(){this.comp=null;this.undoStack=null;};_pEditBaseUndoStack.push=function(_a,_b,_c,_d){if(!_b){if(!_a){_b="";}else{_b=_a;}}var _e={value:_a,text:_b,selectionStart:_c,selectionEnd:_d};var _f=this.undoStack[this.undoPosition];if(_f.value===_a){this.refreshUndoItem(_e);}else{this.undoStack.length= ++this.undoPosition;this.undoStack.push(_e);}};_pEditBaseUndoStack.restoreUndoItem=function(_a){var _b=this.comp._input_element;if(_b){_b.text=_a.text;_b.value=_a.value;_b._updateInputValue();_b.setElementSetSelect(_a.selectionStart,_a.selectionEnd);}};_pEditBaseUndoStack.refreshUndoItem=function(_a){var _b=false;var _c=this.undoStack[this.undoPosition];if(_c.value!==_a.value||_c.text!==_a.text||_c.selectionStart!==_a.selectionStart||_c.selectionEnd!==_a.selectionEnd){_b=true;}if(_b){this.undoStack[this.undoPosition]=_a;}};_pEditBaseUndoStack.doUndo=function(){if(this.comp&&this.comp.readonly){return;}if(this.undoPosition>1){this.restoreUndoItem(this.undoStack[ --this.undoPosition]);}};_pEditBaseUndoStack.doRedo=function(){if(this.comp&&this.comp.readonly){return;}if(this.undoPosition<this.undoStack.length-1){this.restoreUndoItem(this.undoStack[ ++this.undoPosition]);}};delete _pEditBaseUndoStack;_pEditBaseUndoStack=null;nexacro.EditBase.TextEventInfo=function(_a){this.init();this.comp=_a;};var _pEditBaseTextEventInfo=nexacro._createPrototype(nexacro.Object,nexacro.EditBase.TextEventInfo);nexacro.EditBase.TextEventInfo.prototype=_pEditBaseTextEventInfo;_pEditBaseTextEventInfo._type_name="EditBaseTextEventInfo";_pEditBaseTextEventInfo.init=function(){this.chartext=null;this.pretext=null;this.posttext=null;this.preimetext=null;this.postimetext=null;this.prechareventtext=null;this.bInsert=true;this.bCut=false;};_pEditBaseTextEventInfo._destroy=function(){this.comp=null;this.chartext=null;this.pretext=null;this.posttext=null;this.preimetext=null;this.postimetext=null;this.prechareventtext=null;this.bInsert=true;this.bCut=false;};_pEditBaseTextEventInfo.setTextInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.chartext=_a;this.pretext=_b;this.posttext=_c;this.preimetext=_d;this.postimetext=_e;this.prechareventtext=_f;this.bInsert=_g;this.bCut=_h;};delete _pEditBaseTextEventInfo;_pEditBaseTextEventInfo=null;}