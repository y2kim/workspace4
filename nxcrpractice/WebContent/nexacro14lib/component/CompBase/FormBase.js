if(!nexacro.Form){nexacro.LayoutChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"onlayoutchanged";this.fromobject=this.fromreferenceobject=_a;this.bubbles=true;this.oldlayout=_c;this.newlayout=_d;this.oldlayoutwidth=_e;this.newlayoutwidth=_f;this.oldlayoutheight=_g;this.newlayoutheight=_h;};var _pLayoutChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.LayoutChangeEventInfo);nexacro.LayoutChangeEventInfo.prototype=_pLayoutChangeEventInfo;_pLayoutChangeEventInfo._type_name="LayoutChangeEventInfo";delete _pLayoutChangeEventInfo;nexacro.DeviceButtonEventInfo=function(_a,_b){this.eventid="ondevicebutton";this.fromobject=_a;this.fromreferenceobject=_a;this.button=_b.button;};var _pDeviceButtonEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DeviceButtonEventInfo);nexacro.DeviceButtonEventInfo.prototype=_pDeviceButtonEventInfo;_pDeviceButtonEventInfo._type_name="DeviceButtonEventInfo";delete _pDeviceButtonEventInfo;nexacro.BindItem=function(_a,_b,_c,_d,_e){nexacro.Object.call(this);this.name=_a||"";this.compid=_b||"";this.propid=_c||"";this.datasetid=_d||"";this.columnid=_e||"";this._en_type=1;this._dataset=null;this._comp=null;};var _pBindItem=nexacro.BindItem.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindItem);_pBindItem._type_name="BindItem";_pBindItem.set_name=function(_a){if(_a&&this.name!=_a){this.name=_a;}};_pBindItem.set_compid=function(_a){if(_a&&this.compid!=_a){this.compid=_a;}};_pBindItem.set_propid=function(_a){if(_a&&this.propid!=_a){this.propid=_a;}};_pBindItem.set_datasetid=function(_a){if(_a&&this.datasetid!=_a){this.datasetid=_a;}};_pBindItem.set_columnid=function(_a){if(_a&&this.columnid!=_a){this.columnid=_a;}};_pBindItem.init=function(_a,_b,_c,_d,_e){this.set_name(_a);this.set_compid(_b);this.set_propid(_c);this.set_datasetid(_d);this.set_columnid(_e);};_pBindItem.destroy=function(){this._dataset=null;this._comp=null;nexacro.Object.prototype.destroy.call(this);};_pBindItem.bind=function(){if(this.parent&&!this.parent._is_loading){if(this.compid==""||this.propid==""||this.datasetid==""||this.columnid==""){return;}this.parent._bind_manager._setBinditem(this,false);this.parent._bind_manager._notify(this);}};_pBindItem._checkType=function(_a){if(typeof _a=="string"&&_a==this.propid){this._en_type=2;}};delete _pBindItem;nexacro.BindManager=function(_a){nexacro.Object.call(this);this.datasets={};this.exception="";this._form=_a;};var _pBindManager=nexacro.BindManager.prototype=nexacro._createPrototype(nexacro.Object,nexacro.BindManager);_pBindManager._type_name="BindManager";_pBindManager.destroy=function(){this.datasets=null;this._form=null;nexacro.Object.prototype.destroy.call(this);};_pBindManager.on_changevalue=function(_a,_b){var _c=_b.propid;var _d=this._FindBindItem(_a,_c);var _e=_b.val;if(_d&&_d._en_type==2){this.exception=_a;var _f=_d._dataset;var _g=_f.rowposition;var _h=_f._getDataColIndex(_d.columnid);if(_h!==undefined){var _i=_f.setColumn(_g,_h,_e);if(_i==true){var _j=_f.getColumn(_g,_h);if(_j!=_e){_e=_j;}this.exception=null;return true;}else{this.exception=null;return false;}}}this.exception=null;return true;};_pBindManager.on_valuechanged=function(_a,_b){var _c=_a;var _d=_b.row;var _e=_b.col;var _f=_b.columnid;var _g=_b.newvalue;if(_c.rowposition==_d||_d<0){if(_e<0){return this._notifyAll(_c.name,null, -1,true,null);}else{return this._notifyAll(_c.name,_f,_e,false,_g);}}return true;};_pBindManager.on_load=function(_a,_b){var _c=_a;if(_c.rowcount==0&&_b.reason==0){return this._notifyAll(_c.name,null, -1,true,null);}return true;};_pBindManager._delayBinds=function(){var _a=this._form.binds.length;for(var _c=0;_c<_a;_c++ ){var _b=this._form.binds[_c];if(_b._dataset){continue;}this._setBinditem(_b,false);this._notify(_b);}};_pBindManager._forceBinds=function(){var _a=this._form.binds.length;for(var _c=0;_c<_a;_c++ ){var _b=this._form.binds[_c];this._setBinditem(_b,false);this._notify(_b);}};_pBindManager._setBinditem=function(_a,_b){if(!_a){return;}var _c=this._form.binds;var _d=_a.datasetid;var _e=_a._dataset;var _f=_a._comp;if(!_e||_d!=_e.id){_e=this._form._getDatasetObject(_d);}if(!_a._comp){_f=this._form._findChildObject(_a.compid);}if(!_e||!_f){return;}if(!_b){_a._dataset=_e;_a._comp=_f;_a._checkType(_f.on_getBindableProperties());if(this.datasets[_d]){var _g=nexacro._indexOf(this.datasets[_d],_a);if(_g> -1){this.datasets[_d].splice(_g,1);if(_f._bind_event){_f._bind_event._removeHandler(this,this.on_changevalue);delete _f._bind_event;_f._bind_event=null;}}this.datasets[_d].push(_a);}else{this.datasets[_d]=[];this.datasets[_d].push(_a);_e.setEventHandler("onload",this.on_load,this);_e.setEventHandler("onvaluechanged",this.on_valuechanged,this);}if(!_f._bind_event){_f._bind_event=new nexacro.EventListener("onbinditem");_f._bind_event._setHandler(this,this.on_changevalue);}}else{if(this.datasets[_d]){var _g=nexacro._indexOf(this.datasets[_d],_a);if(_g> -1){this.datasets[_d].splice(_g,1);if(this.datasets[_d].length==0){_e.removeEventHandler("onload",this.on_load,this);_e.removeEventHandler("onvaluechanged",this.on_valuechanged,this);delete this.datasets[_d];}}}if(_f._bind_event){_f._bind_event._removeHandler(this,this.on_changevalue);delete _f._bind_event;}}};_pBindManager._FindBindItem=function(_a,_b){var _c=this._form.binds;for(var _e=0,_f=_c.length;_e<_f;_e++ ){var _d=_c[_e];if(_d._comp==_a&&_d.propid==_b&&_d.datasetid&&_d.columnid){return _d;}}return null;};_pBindManager._dettachSBindItem=function(_a){if(!_a._bind_event){return;}_a._bind_event._removeHandler(this);var _b=this._form.binds;var _c=_b.length;for(var _g=0;_g<_c;_g++ ){if(_b[_g]._comp==_a){var _d=_b[_g].datasetid;if(this.datasets[_d]){var _e=nexacro._indexOf(this.datasets[_d],_b[_g]);if(_e> -1){var _f=this.datasets[_d][_e].parent;this.datasets[_d][_e].destroy();this.datasets[_d].splice(_e,1);_b[_g].parent=_f;}_b[_g]._comp=null;}}}};_pBindManager._notify=function(_a){var _b=_a._dataset;var _c=_a._comp;if(_b&&_c){var _d=_b.rowposition;if(_a._en_type==2){if(_c.enable){if(_d<0){_c._setEnable(false);}else{if(_c._real_enable){_c._setEnable(true);}}}var _e=_b._getDataColIndex(_a.columnid);if(_e>=0&&_c.on_change_bindSource){_c.on_change_bindSource(_a.propid,_a._dataset,_d,_e, -1);}}else{if(_a.columnid&&_a.columnid!=""){var _e=_b._getDataColIndex(_a.columnid);if(_e==undefined){_e= -1;}var _f=_b.getColumn(_d,_e);if(_a.propid){if(_c["set_"+_a.propid]){_c["set_"+_a.propid](_f);}else if(_c.style&&_c.style["set_"+_a.propid]){_c.style["set_"+_a.propid](_f);}}}}}};_pBindManager._notifyAll=function(_a,_b,_c,_d,_e){var _f=this.datasets[_a];var _g=null;var _h= -1;if(!_f){return true;}for(var _l=0,_m=_f.length;_l<_m;_l++ ){_g=_f[_l];if(!_g._dataset){continue;}if(_g.columnid==""){continue;}var _i=_g._dataset;_h=_i.rowposition;var _j=_g._comp;if(_j){if(_g._en_type==2){if(_d){if(_j.enable&&_j._isPropEnable()){if(_h<0){_j._setEnable(false);}else{_j._setEnable(true);}}else if(!_j.enable){if(_h>=0){_j._setEnable(true);}}_c=_i._getDataColIndex(_g.columnid);if(_c>=0){if(_j.on_change_bindSource){_j.on_change_bindSource(_g.propid,_g._dataset,_h,_c, -1);}}else{if(_j.on_init_bindSource){_j.on_init_bindSource(_g.columnid,_g.propid,_g._dataset);}}}else{if(_c>=0){if(_g.columnid==_b&&_j.on_change_bindSource){_j.on_change_bindSource(_g.propid,_g._dataset,_h,_c, -1);}}else{if(_g.columnid==_b&&_j.on_init_bindSource){_j.on_init_bindSource(_g.columnid,_g.propid,_g._dataset);}}}}else{var _k;if(_d){_k=_i.getConstColumn(_g.columnid);if(_k==undefined){_c=_i._getDataColIndex(_g.columnid);if(_c==undefined){_c= -1;}_k=_i.getColumn(_h,_c);}}else{if(_b==_g.columnid){_k=_e;}else{continue;}}if(_g.propid){if(_j["set_"+_g.propid]){_j["set_"+_g.propid](_k);}else if(_j.style&&_j.style["set_"+_g.propid]){_j.style["set_"+_g.propid](_k);}}}}}return true;};delete _pBindManager;nexacro.FormBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();this.binds=new nexacro.Collection();this._bind_manager=new nexacro.BindManager(this);this._layout_list=new nexacro.Collection();this.scrollbars="autoboth";this.dragscrolltype="all";this._css_selectors={_has_items:false,_has_attr_items:false};this._cssfinder_cache={};this._child_list=[];this._refform=this;this._scrollbars=3;this._load_manager=new nexacro.LoadManager(this);this._timerManager=new nexacro.TimerManager(this);this._includescriptlist=[];this._apply_client_padding=false;this._hotkey_list=[];this._load_callbacklist=[];this._is_loadcallback=false;this._is_form=true;this._is_loaded=false;this._is_completed=false;this._is_async=false;this._is_scrollable=true;this._url="";this._base_url="";this._last_focused=null;this._hittest_type="";this._default_layout=null;this._current_layout_name="default";this._cur_real_layout="default";this._obj_mousemove=null;this._locale="";};var _pFormBase=nexacro.FormBase.prototype=nexacro._createPrototype(nexacro.Component,nexacro.FormBase);_pFormBase._type_name="FormBase";_pFormBase.on_create=nexacro._emptyFn;_pFormBase.on_create_control_element=function(_a){if(!_a){return null;}var _b;if(this._is_scrollable){_b=this.on_create_scrollable_control_element(_a);}else{_b=this.on_create_normal_control_element(_a);}return _b;};_pFormBase.createComponent=function(_a){if(this._is_loading){return;}var _b=null;if(!this._is_window){_b=this.parent?this.parent._control_element:null;if(!_b){return false;}}var _c=this._control_element;if(!_c){_c=this.on_create_control_element(_b);if(this._is_nc_control){_c._is_nc_element=true;}var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);if(this._layout_list.length>0){this._initLayoutManager();}this._initStepContents();this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}if(this.positionstep!=null){this.on_apply_positionstep(this.positionstep);}if(this._hittest_type){_c.setElementHittestType(this._hittest_type);}if(!_a&&(this._is_window||_b._handle)){var _e=this._getWindow();this.on_created(_e);}}else{if(_b&&_b._handle){_b.appendChildElement(_c);_c.parent=this;if(this._layout_list.length>0){this._initLayoutManager();}this._initStepContents();var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}if(!_a){var _f=this._getWindow();this.on_created(_f);}}else{var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(this.tooltiptext){this.on_apply_prop_tooltip();}}}return true;};_pFormBase.on_create_contents=function(){var _a=this.components;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].createComponent(true);}};_pFormBase.on_created_contents=function(){var _a=this.objects.length;var _b=0;for(_b=0;_b<_a;_b++ ){this.objects[_b].on_created();}var _c=this.components;_a=_c.length;for(_b=0;_b<_a;_b++ ){var _d=false;if(_c[_b] instanceof nexacro.FormBase){_d=true;_c[_b]._is_loadcallback=this._load_callbacklist;}_c[_b].on_created();if(_d){_c[_b]._is_loadcallback=false;}}if(this.stepcontrol){this.stepcontrol.on_created();}if(this._is_scrollable){this.resetScroll();var _e=this._control_element;if(_e&&this.stepcontrol){_e.setElementHScrollPos(_e.client_width*_e._step_index);}}this.on_apply_prop_rtldirection();var _f=this.on_find_CurrentStyle_rtlimagemirroring(this._pseudo);this.on_apply_style_rtlimagemirroring(_f);_e=null;_c=null;var _g=this._getWindow();if(_g){nexacro._refreshWindow(_g._handle);}};_pFormBase.on_destroy_contents=function(){if(this._timerManager){this._timerManager.destroy();this._timerManager=null;}if(this._load_manager){var _a=this._load_manager;var _b=_a.transactionList;if(_b){this._stopTransaction(true);for(var _m=_b.length-1;_m>=0;_m-- ){var _c=_b[_m];if(_c._usewaitcursor){_c._hideWaitCursor(this);}_c=null;}_b=null;}this._load_manager.destroy();this._load_manager=null;}var _d=this.binds;var _e=_d.length;for(var _m=0;_m<_e;_m++ ){var _f=_d.get_id(_m);this._bind_manager._setBinditem(_d.get_item(_f),true);this[_f]=null;}var _g=this.components;_e=_g.length;for(var _m=0;_m<_e;_m++ ){var _h=_g.get_id(0);if(this[_h]){if(this[_h]._destroy){this[_h]._destroy();this[_h]=null;}}}var _i=this.objects;_e=_i.length;for(var _m=0;_m<_e;_m++ ){var _j=_i.get_id(0);if(this[_j]){if(this[_j].destroy){this[_j].destroy();}_i.delete_item(_j);delete this[_j];this[_j]=null;}}var _k=this._layout_list;_e=_k.length;for(var _m=0;_m<_e;_m++ ){var _l=_k.get_id(0);if(_l){if(_k[_l].destroy){_k[_l].destroy();}_k.delete_item(_l);}}if(this._bind_manager){this._bind_manager.destroy();this._bind_manager=null;}this.all.clear();this.all=null;this.components.clear();this.components=null;this.objects.clear();this.objects=null;this.binds.clear();this.binds=null;this._layout_list.clear();this._layout_list=null;this._css_selectors=null;this._cssfinder_cache=null;this._child_list=null;this._includescriptlist=null;this._hotkey_list=null;this._load_callbacklist=null;this._css_finder=null;this._ref_css_finder=null;this._find_csslist=null;if(this._default_layout){if(this._default_layout.destroy){this._default_layout.destroy();}this._default_layout=null;}this._obj_mousemove=null;};_pFormBase._clearUserFunctions=function(){var _a=null;if(this._type_name=="Div"){_a=nexacro.Div.prototype;}else if(this._type_name=="Tab"){_a=nexacro.Tab.prototype;}else if(this._type_name=="Tabpage"){_a=nexacro.Tabpage.prototype;}else if(this._type_name=="PopupDiv"){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Tab){_a=nexacro.Tab.prototype;}else if(this instanceof nexacro.Tabpage){_a=nexacro.Tabpage.prototype;}else if(this instanceof nexacro.PopupDiv){_a=nexacro.PopupDiv.prototype;}else if(this instanceof nexacro.Div){_a=nexacro.Div.prototype;}else if(this instanceof nexacro.Form){_a=nexacro.Form.prototype;}else if(this instanceof nexacro.Frame){_a=nexacro.Frame.prototype;}for(var _b in this){if(typeof this[_b]==="function"&&_a&&!_a[_b]){this[_b]=null;}}};_pFormBase._clear=function(){var _a=this.getElement();if(_a){this._is_init=true;this._pseudo="normal";this.currentstyle._empty();this._control_pseudo="";this._contents_pseudo="";this._clearEventListeners();if(this._timerManager&&this._timerManager.timerList.length>0){this._timerManager.clearAll();}_a.clearContents();if(this.stepcontrol){this._destroyStepControl();delete this.stepcontrol;}var _b=this.binds;var _c=_b.length;for(var _i=0;_i<_c;_i++ ){var _d=_b.get_id(_i);this._bind_manager._setBinditem(_b.get_item(_d),true);delete this[_d];}var _e=this.components;var _f=this.objects;this.all=new nexacro.Collection();this.components=new nexacro.Collection();this.objects=new nexacro.Collection();_c=_e.length;for(var _i=0;_i<_c;_i++ ){var _g=_e.get_id(_i);if(this[_g]){if(this[_g]._destroy){this[_g]._destroy();}}}_e.clear();_c=_f.length;for(var _i=0;_i<_c;_i++ ){var _h=_f.get_id(_i);if(this[_h]){if(this[_h].destroy){this[_h].destroy();}delete this[_h];}}_f.clear();this.all.clear();this.components.clear();this.objects.clear();this.binds.clear();this._hotkey_list=[];if(this._is_scrollable){this.resetScroll();}}this._is_created=false;this._is_loadcallback=false;};_pFormBase._initStepContents=function(){if(this._layout_list.length==0&&this._default_layout){var _a= -1,_b=0;var _c= -1,_d=0;_c=this._default_layout.stepindex;_d=this._default_layout.stepcount;this._on_prepare_stepcontents(_b,_a,_d,_c);this._on_refresh_stepcontents(_b,_a,_d,_c);}};_pFormBase.on_initEvent=nexacro._emptyFn;_pFormBase._init=nexacro._emptyFn;_pFormBase.loadIncludeScript=nexacro._emptyFn;_pFormBase.loadPreloadList=nexacro._emptyFn;_pFormBase._loadInclude=function(_a,_b,_c){var _d=nexacro._getServiceObject(_b);var _e=nexacro._makeurl(_b);this._load_manager.loadIncludeModule(_e,null,_c,_d);};_pFormBase.executeScript=function(_a,_b,_c){var _d=nexacro._makeurl(_a);if(_b){var _e=nexacro._executeScript(_b);if(_e){var _f=this._async;this._async=false;_e.call(this,_d,_c);this._executeScript(this);this._async=_f;}}else{var _g=this._includescriptlist;var _h,_i,_j;for(var _k=0,_l=_g.length;_k<_l;_k++ ){_h=_g[_k];_j=nexacro._makeurl(_h.url);if(_j==_d&&!_h.isexecute){if(!_h.isloadonly){for(var _m=0,_n=_h.deps.length;_m<_n;_m++ ){_i=_h.deps[_m];this.executeScript(_i,_b,_c);}}_h.isexecute=true;_h.fn.call(this);break;}}}};_pFormBase.executeIncludeScript=_pFormBase.executeScript;_pFormBase._executeScript=function(_a){if(_a&&_a._registerscriptfn){_a._registerscriptfn.call(_a);}_a._registerscriptfn=null;_a._includescriptlist.length=0;};_pFormBase.registerScript=function(_a,_b){var _c=this._includescriptlist;var _d=_c.length,_e;for(var _f=0;_f<_d;_f++ ){_e=nexacro._makeurl(_c[_f].url);if(_e==_a){_c[_f].fn=_b;return;}}this._registerscriptfn=_b;};_pFormBase.addIncludeScript=function(_a,_b){if(_b&&this._is_loading){var _c=[],_d;var _e;var _f=this._includescriptlist;for(var _g=0,_h=_f.length;_g<_h;_g++ ){_e=_f[_g];if(!_e.isloadonly){if(_e.url.match(_a)){_d=_e.deps.length;for(var _i=0;_i<_d;_i++ ){if(_e.deps[_i]==_b){continue;}}_e.deps.push(_b);}}if(_e.url==_b){return;}}this._includescriptlist.push({url:_b,deps:_c,isloadonly:false,fn:nexacro._emptyFn,isload:false,isexecute:false});}};_pFormBase.loadIncludeScript=function(_a,_b){var _c;var _d=this._includescriptlist;for(var _e=0,_f=_d.length;_e<_f;_e++ ){_c=_d[_e];_c.isloadonly=_b;if(_c.isload==false){_c.isload=true;this._loadInclude.call(this,_a,_c.url,this._async);}}};_pFormBase._make_find_csslist=function(){var _a=this._find_csslist;if(!_a){_a=[];var _b=this;var _c;while(_b){_c=_b._css_selectors;if(_c&&_c._has_items){_a.push(_c);}if(_b._is_frame&&_b._is_popup_frame&&_b._window_type!=5){break;}else if(_b.parent==null&&!_b._is_application){_b=application;}else{_b=_b.parent;}}this._find_csslist=_a;}return _a;};_pFormBase._addCss=function(_a,_b,_c,_d){var _e=_a.split(">");var _f=_e.length;var _g=this._css_selectors;_g._has_items=true;var _h="";var _i="";var _j="";for(var _n=0;_n<_f;_n++ ){var _k=_e[_n];if(_k=="*"){continue;}if(_k.substr(0,1)=="#"){_i+=_k;}else if(_k.substr(0,1)=="."){if(_i==""){_j=_k;}}else{if(_k.substr(0,2)=="*."){_k=_k.substring(1);}if(_i==""){_h=_k;}}}if(_h!=""){var _l=_g[_h];if(!_l){_g[_h]=_l={_is_selector:true};}_g=_l;}else if(_j!=""){var _l=_g[_j];if(!_l){_g[_j]=_l={_is_selector:true};}_g=_l;}if(_i!=""){var _l=_g[_i];if(!_l){_g[_i]=_l={_is_selector:true};}_g=_l;}_g._has_attr_items=true;var _m=_g[_b];if(!_m){_g[_b]=_m={};}var _n=0;var _o=_d.length;var _p;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;};_pFormBase.create=function(){this.on_create();};_pFormBase.initEvent=function(){this.on_initEvent();};_pFormBase._on_init=function(){if(this._is_created){this._clear();}else{if(this._clear_obj){this._clear_obj();}}if(this._is_loading){this._clearEventListeners();}this._init();this.create();this._is_loading=false;if(this.parent&&this.parent.form==this){this.parent._loadedForm();}var _a=this._url,_b=null;var _c=this._includescriptlist;for(var _d=0,_e=_c.length;_d<_e;_d++ ){_b=_c[_d];if(_b&&!_b.isloadonly){this.executeScript(_b.url,null,this);}}this._executeScript(this);this.initEvent();this._is_loaded=true;};_pFormBase._addPreloadList=function(_a,_b,_c,_d){if(!_b){return;}var _e,_f;if(_a=="data"){_f=nexacro._getServiceObject(_b,true);_e=nexacro._getServiceLocation(_b,this._base_url);this._load_manager.addPreloadItem(_a,_e,_c,_d,_f);}else{_f=nexacro._getServiceObject(_b);_e=nexacro._getFDLLocation(_b,this._base_url);this._load_manager.addPreloadItem(_a,_e,this,null,_f);}};_pFormBase._findForm=function(_a){return this;};_pFormBase._getReferenceContext=function(){return this;};_pFormBase._getDlgCode=function(_a,_b,_c,_d){var _e=this._getLastFocused();if(_e&&_e!=this){return _e._getDlgCode(_a,_b,_c,_d);}return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:false};};_pFormBase.setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjustPosition(this.left,this.top,null,null,_a,_b,this.parent._client_width,this.parent._client_height);var _c=this._control_element;if(_c){_c.setElementSize(_a,_b);this._updateClientSize(_c);}}};_pFormBase._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFormBase._destroy=function(){if(!this._is_alive||this._is_destroying){return;}return this.destroyComponent();};_pFormBase.destroy=function(){if(!this._is_alive){return;}var _a=this._on_beforeclose();if(this._checkAndConfirmClose(_a)==false){return false;}if(this._window){this._window._ignore_close_confirm=true;}this._on_close();return this.destroyComponent();};_pFormBase.loadCss=function(_a,_b,_c){if(_a){if(!_b){_b=this._base_url;}var _d=[];_d.push(nexacro._getServiceLocation(_a,_b));if(!application.checkversion){_d.push(".js");}var _e=nexacro._getServiceObject(_a);this._load_manager.loadCssModule(_d.join(""),null,_c,_e);}};_pFormBase.move=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getElement();var _i=this._adjust_left;var _j=this._adjust_top;var _k=this._adjust_width;var _l=this._adjust_height;var _m=false,_n=false;var _o=false;var _p=this.parent;if(_p){this._adjustPosition(_a,_b,_e,_f,_c,_d,_p._client_width,_p._client_height);}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}if(this._adjust_width!=_k||this._adjust_height!=_l){_m=true;if(_k==0||_l==0){_o=true;}}if(this._adjust_left!=_i||this._adjust_top!=_j){_n=true;}this.on_update_position(_m,_n);if(this._layout_list&&this._layout_list.length>0){this._checkValidLayout();}if(_o){this.currentstyle._empty();this._control_pseudo="";}this._updateControl(_h);this._updateContents(_h);};_pFormBase.resize=function(_a,_b){if(_a<0||_b<0){return;}if(_a==this._adjust_width&&_b==this._adjust_height){var _c=this.getElement();if(_c&&_c._handle&&_c._vml_elem){_c._refreshVMLContainerElement(_c,_c._vml_elem);}return;}var _d=this._adjust_width;var _e=this._adjust_height;var _f=false;if(_d!=this._adjust_left+_a||_e!=this._adjust_top+_b){this.width=_a;this.height=_b;_f=true;}this._update_position(_f,false);if(this._layout_list&&this._layout_list.length>0){this._checkValidLayout();}};_pFormBase.confirm=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}nexacro._skipDragEventAfterMsgBox=true;return nexacro._confirm(_d.frame,_a,_b,_c);};_pFormBase.alert=function(_a,_b,_c){var _d=this._getWindow();if(!_d){return;}nexacro._skipDragEventAfterMsgBox=true;application._is_on_alert=true;nexacro._alert(_d.frame,_a,_b,_c);application._is_on_alert=false;};_pFormBase.getOwnerFrame=function(){var _a=null;if(this.parent&&!(this.parent instanceof nexacro.Frame)){_a=this.parent.getOwnerFrame();}else{_a=this.parent;}return _a;};_pFormBase.lookup=function(_a){for(var _b=this;(_b!=null);_b=(_b.opener||_b.parent)){if(_a in _b){return _b[_a];}}};_pFormBase.lookupSetter=function(_a,_b){if(!_b){_b="set_"+_a;}for(var _d=this;(_d!=null);_d=(_d.opener||_d.parent)){var _c=_d[_b];if(_c){return new nexacro.SetterBinder(_d,_a,_c);}if(_a in _d){return new nexacro.PropBinder(_d,_a);}}return null;};_pFormBase.lookupFunc=function(_a){for(var _c=this;(_c!=null);_c=(_c.opener||_c.parent)){var _b=_c[_a];if(_b){return new nexacro.FuncBinder(_c,_b);}}return null;};_pFormBase.getLayoutInfo=function(_a,_b){var _c=this._layout_list[_a];if(_c){return _c[_b];}return;};_pFormBase._on_activate=function(){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_onactivate();}};_pFormBase._on_deactivate=function(){if(this.visible&&this._isEnable()&&this.enableevent){this.on_fire_ondeactivate();}};_pFormBase.on_fire_onactivate=function(){if(this.onactivate&&this.onactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"onactivate",true,this,this);this.onactivate._fireEvent(this,_a);}};_pFormBase.on_fire_ondeactivate=function(){if(this.ondeactivate&&this.ondeactivate._has_handlers){var _a=new nexacro.ActivateEventInfo(this,"ondeactivate",false,this,this);this.ondeactivate._fireEvent(this,_a);}};_pFormBase._on_beforeclose=function(_a){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return;}if(!_a){_a=this;}var _b="";var _c=this.components;var _d=_c.length;for(var _h=0;_h<_d;_h++ ){var _e=_c[_h];if(!(_e instanceof nexacro.FormBase)){continue;}var _f=_e._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}var _g=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_g);return _b;};_pFormBase._on_bubble_beforeclose=function(_a,_b,_c,_d){var _e=false;if(_b===undefined){_e=true;_c=this;if(!_d){_d=this;}}var _f="";if(this.visible&&this._isEnable()){if(this.enableevent){if(_e){_b=false;}_f=this.on_fire_onbeforeclose(this,_c,_d,_a);}}var _g="";if((!this.onbeforeclose||(this.onbeforeclose&&!this.onbeforeclose.stoppropagation))&&_b!==true&&this.parent&&!this.parent._is_application){_g=this.parent._on_bubble_beforeclose(_a,_b,_c,_d);}return this._appendBeforeCloseMsg(_f,_g);};_pFormBase._on_close=function(){if(!this._is_alive||(this._is_form&&!this._is_loaded)){return true;}var _a=this.components;var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(!(_c instanceof nexacro.FormBase)){continue;}_c._on_close();}this._on_bubble_close();};_pFormBase._on_bubble_close=function(_a,_b,_c){var _d=false;if(_a===undefined){_d=true;_b=this;if(!_c){_c=this;}}if(this.visible&&this._isEnable()){if(this.enableevent){if(_d){_a=false;}this.on_fire_onclose(this,_b,_c);}}var _e=this.parent;if(_e){if((!this.onclose||(this.onclose&&!this.onclose.stoppropagation))&&_a!==true&&!_e._is_application){return _e._on_bubble_close(_a,_b,_c);}}};_pFormBase.on_fire_onbeforeclose=function(_a,_b,_c,_d){if(this.onbeforeclose&&this.onbeforeclose._has_handlers){var _e=new nexacro.CloseEventInfo(_a,"onbeforeclose",_b,_c,_d);return this.onbeforeclose._fireEvent(this,_e);}};_pFormBase.on_fire_onclose=function(_a,_b,_c){if(this.onclose&&this.onclose._has_handlers){var _d=new nexacro.CloseEventInfo(_a,"onclose",_b,_c);return this.onclose._fireEvent(this,_d);}return true;};_pFormBase.loadForm=function(_a,_b,_c,_d){if(this._load_manager){var _e=nexacro._getFDLLocation(_a,_d);this._url=_e;this._base_url=nexacro._getBaseUrl(_e);if(this._load_manager){this._load_manager.clearAllLoad();}this._clearUserFunctions();this._is_loading=true;if(this.parent._is_frame&&this.parent.form==this){application._registerLoadforms(this);}this._clearCssInfo();var _f=nexacro._getServiceObject(_a);var _g=this._load_manager.loadMainModule(_e,undefined,_b,_c,_f);}};_pFormBase.getParentContext=function(){};_pFormBase._getFormBaseUrl=function(){return this._base_url;};_pFormBase._clearCssInfo=function(_a){this._css_finder=null;this._ref_css_finder=null;this._cssfinder_cache={};this._find_csslist=null;var _b=this.components;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]._is_form){_b[_d]._clearCssInfo(_a);}}if(!_a){this._css_selectors=null;this._css_selectors={_has_items:false,_has_attr_items:false};}};_pFormBase._findChildObject=function(_a){var _b=_a.indexOf(".");if(_b>0){var _c=_a.substring(0,_b).trim();_c=this[_c];if(_c){return _c._findChildObject(_a.substring(_b+1,_a.length).trim());}}else{return this[_a];}};_pFormBase._getDatasetObject=function(_a){var _b=this[_a];var _c=(this.opener||this.parent);if(_b==null&&_c&&_c!=application){_b=_c._getDatasetObject(_a);}if(_b==null){_b=application[_a];}return _b;};_pFormBase._checkContainerTabFocus=function(){if(this._is_form&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true){return true;}return false;};_pFormBase._checkContainerHeadingFocus=function(){if(this._is_form&&nexacro._enableaccessibility&&this._isAccessibilityEnable()==true&&this._isAccessibilityRoleHeading()){return true;}return false;};_pFormBase._getTabOrderLast=function(_a,_b,_c,_d){var _e=this._getSortedDecendants(this,true,_a);var _f;for(var _h=_e.length-1;_h>=0;_h-- ){_f=_e[_h];if(_b){if(_f._isEditableComponent(_c)){return _f;}else if(_d&&_f._is_form){var _g=_f._getTabOrderLast(_a,_b,_c,_d);if(_g){return _g;}}}else if(_a){if(_f._isAccessibilityEnable()){return _f;}else if(_f._is_form&&_f._child_list.length){var _g=_f._getTabOrderLast(true);if(_g){return _g;}}}else if(_f.on_get_prop_tabstop()){return _f;}}return null;};_pFormBase._getHeadingOrderLast=function(){var _a=this._getSortedDecendants(this,true,true);var _b;for(var _d=_a.length-1;_d>=0;_d-- ){_b=_a[_d];if(_b._isAccessibilityRoleHeading()){return _b;}else if(_b._is_form){var _c=_b._getHeadingOrderLast();if(_c){return _c;}}}return null;};_pFormBase._getTabOrderFirst=function(_a,_b,_c,_d){var _e=this._getSortedDecendants(this,true,_a);var _f;for(var _h=0,_i=_e.length;_h<_i;_h++ ){_f=_e[_h];if(_b){if(_f._isEditableComponent(_c)){return _f;}else if(_d&&_f._is_form){var _g=_f._getTabOrderFirst(_a,_b,_c,_d);if(_g){return _g;}}}else if(_a){if(_f._isAccessibilityEnable()){return _f;}else if(_f._is_form&&_f._child_list.length){var _g=_f._getTabOrderFirst(true);if(_g){return _g;}}}else if(_f.on_get_prop_tabstop()){return _f;}}return null;};_pFormBase._getHeadingOrderFirst=function(){var _a=this._getSortedDecendants(this,true,true);var _b;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b._isAccessibilityRoleHeading()){return _b;}else if(_b._is_form){var _c=_b._getHeadingOrderFirst();if(_c){return _c;}}}return null;};_pFormBase._getTabOrderNext=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a&&_a._is_form&&_b>0&&!_f&&(_i==undefined||_i)){var _j=_a._getTabOrderFirst(_c,_d,_e);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==5){var _k=this._getWindow();if((_j!=null)&&(!_a._contains(_k._accessibility_last_focused_comp)||_a==_k._accessibility_last_focused_comp)){return _j;}}else if(!_h&&_a._last_focused==null&&_j!=null){return _j;}}var _l=this._getSortedDecendants(this,true,_c);var _m=nexacro._indexOf(_l,_a._getRootComponent(_a));if(_m<0){return null;}var _n;if(_b>0){for(var _p=_m+_b,_q=_l.length;_p<_q;_p++ ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderFirst(_c,_d,_e,_g);if(_o){return _o;}}}else if(_c){if(_n._isAccessibilityEnable()){return _n;}else if(_n._is_form&&_n._child_list.length){var _o=_n._getTabOrderFirst(true);if(_o){return _o;}}else if(_n._isItemAccessibilityEnable()){return _n;}}else if(_n.on_get_prop_tabstop()){return _n;}}}else if(_b<0){for(var _p=_m+_b;_p>=0;_p-- ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderLast(_c,_d,_e,_g);if(_o){return _o;}}}else if(_c){if(_n._isAccessibilityEnable()){return _n;}else if(_n._is_form&&_n._child_list.length){var _o=_n._getTabOrderLast(true);if(_o){return _o;}}else if(_n._isItemAccessibilityEnable()){return _n;}}else if(_n.on_get_prop_tabstop()){return _n;}}}if(_d){if(_b>0){for(var _p=0;_p<_m-_b;_p++ ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderFirst(_c,_d,_e,_g);if(_o){return _o;}}}}}else if(_b<0){for(var _p=_l.length-1;_p>_m;_p-- ){_n=_l[_p];if(_d){if(_n._isEditableComponent(_e)){return _n;}else if(_g&&_n._is_form){var _o=_n._getTabOrderLast(_c,_d,_e,_g);if(_o){return _o;}}}}}}return null;};_pFormBase._getHeadingOrderNext=function(_a,_b){if(_a&&_a._is_form){if(_a._last_focused){var _c=_a._getHeadingOrderNext(_a._last_focused,_b);if(_c){return _c;}else{_a._last_focused=null;}}else if(_a._last_focused==null){if(_b==1){var _c=_a._getHeadingOrderFirst(true);}else{var _c=_a._getHeadingOrderLast(true);}if(_c){return _c;}}}var _d=this._getSortedDecendants(this,true,true,null);var _e=nexacro._indexOf(_d,_a._getRootComponent(_a));if(_e<0){return null;}var _f;if(_b>0){for(var _h=_e+_b,_i=_d.length;_h<_i;_h++ ){_f=_d[_h];if(_f._isAccessibilityRoleHeading()){return _f;}else if(_f&&_f._is_form){var _g=_f._getHeadingOrderFirst(true);if(_g){return _g;}}}}else if(_b<0){for(var _h=_e+_b;_h>=0;_h-- ){_f=_d[_h];if(_f._isAccessibilityRoleHeading()){return _f;}else if(_f&&_f._is_form){var _g=_f._getHeadingOrderLast(true);if(_g){return _g;}}}}return null;};_pFormBase._getSortedDecendants=function(_a,_b,_c){if(_b===undefined){_b=false;}var _d=[];var _e=_a.components;if(_e){var _f=_e.length;for(var _j=0;_j<_f;_j++ ){var _g=_e[_j];if(!_g||!_g._is_created||!_g.visible||((_g._isEnable&&!_g._isEnable()||!_g.enable)&&(!nexacro._enableaccessibility||nexacro._accessibilitytype!=5))||_g._popup){continue;}if(!_c&&!_b&&!_g.on_get_prop_tabstop()){continue;}var _h=_g._taborder;if(_h<0){_h=0;}var _i=_d.length;while(_i>0&&_d[_i-1]._taborder>_h){_d[_i]=_d[_i-1];_i-- ;}_d[_i]=_g;}}return _d;};_pFormBase.addLayout=function(_a,_b){if(!_b){return;}if(_a=="default"){this._default_layout=_b;}else if(application._screeninfo==null||(_b.screenid=="")){this._layout_list.add_item(_a,_b);}else if(application._curscreen){if(!_b.screenid||_b.screenid==""){this._layout_list.add_item(_a,_b);return;}var _c=_b.screenid.split(',');var _d=_c.length;for(var _e=0;_e<_d;_e++ ){if(application._curscreen.name==_c[_e]){this._layout_list.add_item(_a,_b);break;}}}};_pFormBase._setPos=function(_a,_b){if(this._adjust_left!=_a||this._adjust_top!=_b){this._adjust_left=this.left=_a;this._adjust_top=this.top=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}this.on_update_position(false,true);}};_pFormBase._setSize=function(_a,_b){if(this._adjust_width!=_a||this._adjust_height!=_b){this._adjust_width=this.width=_a;this._adjust_height=this.height=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}this.on_update_position(true,false);}};_pFormBase._initLayoutManager=function(){var _a="default";var _b=this._layout_list.length;if(_b>0){var _c=this._current_layout_name;this._current_layout_name="";this._cur_real_layout="";var _d={cx:this._adjust_width,cy:this._adjust_height};var _e=application.getLayoutManager().checkValid(this,_d);_b=this._layout_list.length;if(this._layout_list[_b-1].name!="default"){if(this._default_layout.screenid==""||this._default_layout.screenid.indexOf(application._curscreen.name)>=0){this._layout_list.add_item("default",this._default_layout);_b=this._layout_list.length;}}if(_e>=0){var _f;var _g=this._layout_list[_c];var _h=this._layout_list[_e];var _i=0,_j=0;_i=_g?_g.width:0;_j=_g?_g.height:0;if(_c!=_h.name){_f=this.on_fire_canlayoutchange(this,"canlayoutchange",_c,_h.name,_i,_h.width,_j,_h.height);}if(_f===true||_f===undefined){application.getLayoutManager().loadLayout(this,null,_h);if(_c!=_h.name){this.on_fire_onlayoutchanged(this,"onlayoutchanged",_c,_h.name,_i,_h.width,_j,_h.height);}this._current_layout_name=_h.name;this._cur_real_layout=_h.name;}else{if(_c){_a=_c;}this._current_layout_name=_a;this._cur_real_layout=_a;}}}else if(_b<=0&&this._default_layout){application.getLayoutManager().loadLayout(this,null,this._default_layout,this._default_layout);this._current_layout_name=_a;this._cur_real_layout=_a;}};_pFormBase._checkValidLayout=function(){var _a=application.getLayoutManager();if(_a){var _b=this._current_layout_name;var _c=null;var _d={cx:this._adjust_width,cy:this._adjust_height};var _e=_a.checkValid(this,_d);if(_e> -1){_c=this._layout_list[_e];}else{return _a.getCurrentLayout(this);}if(_c&&_b!=_c.name){var _f=this.all.length;for(var _k=0;_k<_f;_k++ ){if(this.all[_k]._is_form&&this.all[_k]._layout_list.length>0){this.all[_k]._checkValidLayout(_d);}}var _g=this._layout_list[_b];var _h=0,_i=0;_h=_g?_g.width:0;_i=_g?_g.height:0;var _j=this.on_fire_canlayoutchange(this,"canlayoutchange",_b,_c.name,_h,_c.width,_i,_c.height);if(_j===true||_j===undefined){if(_c.name!="default"){_a.changeLayout(this,this._default_layout);}_a.changeLayout(this,_c);this.on_fire_onlayoutchanged(this,"onlayoutchanged",_b,_c.name,_h,_c.width,_i,_c.height);}if(this._is_scrollable){this.resetScroll();}return _c;}}};_pFormBase._on_prepare_stepcontents=function(_a,_b,_c,_d){var _e=this.getElement();if(_e){if(this._is_created&&(_a>0||_c>0)){var _f=this.components;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){var _h=_f[_i].getElement();_e.removeChildElement(_h);}}_e.setElementStepCount(_c);_e.setElementStepIndex(_d);if(_d> -1&&_e._step_count>_d){_e.setElementHScrollPos(_e.client_width*_d);}}if(this.stepcontrol){this._destroyStepControl();}};_pFormBase._on_refresh_stepcontents=function(_a,_b,_c,_d){var _e=this.getElement();if(_e){if(this._is_created&&(_a>0||_c>0)){var _f=this.components;var _g=_f.length;for(var _i=0;_i<_g;_i++ ){var _h=_f[_i].getElement();_e.appendChildElement(_h);}}}if(_c>0){if(!this.stepcontrol){this._createStepControl(_c,_d);}if(this._is_created){this.stepcontrol.on_created();}}};_pFormBase._createStepControl=function(_a,_b){if(!this.stepcontrol){var _c=new nexacro.StepCtrl("stepcontrol","absolute",0,0,0,0,null,null,this);_c.createComponent(true);_c.set_stepcount(_a);_c.set_stepindex(_b);_c._setRtlDirection(this._rtldirection);this.stepcontrol=_c;this._updateStepControlSize();this._setEventHandler("onstepchanged",this._on_stepchanged,this);}};_pFormBase._destroyStepControl=function(){var _a=this.stepcontrol;if(_a){_a.destroy();this.stepcontrol=null;}};_pFormBase._updateStepControlSize=function(){var _a=this.stepcontrol;if(_a){this.on_update_style_stepalign();}};_pFormBase._on_stepchanged=function(_a,_b){var _c=this.stepcontrol;var _d=this.getElement();if(_c&&_d){var _e=this.getZoom()/100;var _f=_d.client_width/_e;var _g=(_d.scroll_left!=(_f*_c.stepindex));if(!_g){return;}this._createStepChangeAnimation(_c.stepindex,400);}};_pFormBase.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(this._last_focused&&!this._skip_comp&&(this._last_focused instanceof nexacro.Menu||this._last_focused instanceof nexacro.MenuItem)){this._last_focused._killfocus_item();}if(this.onlbuttondown&&this.onlbuttondown._has_handlers){var _m=new nexacro.MouseEventInfo(this,"onlbuttondown",_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);return this.onlbuttondown._fireSysEvent(this,_m);}return false;};_pFormBase.on_fire_sys_onslidestart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this.stepcontrol&&this._stepchange_info){this._on_cancel_stepchange_animation();}return nexacro.Component.prototype.on_fire_sys_onslidestart.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};_pFormBase.on_fire_sys_onslideend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b&&_b._scroll_comp==this){var _j=this.getElement();var _k=this.stepcontrol;if(!_j||!_k){return;}var _l=this.getZoom()/100;var _m=_j.client_width/_l;var _n=(_j.scroll_left!=(_m*_k.stepindex));if(!_n){return;}var _o=400;var _p=_j.scroll_left-(_m/2);var _q=_b.checkFling();if(_q){var _r=3;var _s=_q.xstartvalue|0;if(_s< -(_m/_r)){_s= -(_m/_r);}if(_s>(_m/_r)){_s=(_m/_r);}_p-=_s;}var _t=nexacro.round(_p/(_m)+0.5);var _u=_k.set_stepindex(_t);if(!_u){_j.setElementHScrollPos(_m*_k.stepindex);}_b._fling_blocked=true;}else{return nexacro.Component.prototype.on_fire_sys_onslideend.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);}return false;};_pFormBase._createStepChangeAnimation=function(_a,_b){if(this._stepchange_info){this._on_cancel_stepchange_animation();}var _c=this.getElement();if(_c){var _d={};_d.is_alive=true;_d.target_index=_a;_d.starttime=new Date().getTime();_d.duration=_b;var _e=this.getZoom()/100;var _f=_c.hscroll_limit/(_c._step_count-1);_d.startpos=_c.scroll_left;_d.endpos=_f*_a;if(this.style.stepshowtype=="action"){var _g=this.stepcontrol;if(_g){_g.set_visible(true);}}var _h=this;_d.timer=new nexacro.AnimationFrame(this,function(){_h._on_stepchange_animation();});_d.timer.start();this._stepchange_info=_d;}};_pFormBase._on_stepchange_animation=function(){var _a=this.getElement();if(!_a){return;}var _b=this._stepchange_info;if(_b&&_b.is_alive){var _c=new Date().getTime()-_b.starttime;var _d=_b.duration;var _e=_c/_d-1;var _f=Math.min((_e*_e*_e+1),1);var _g=_b.startpos+((_b.endpos-_b.startpos)*_f);_a.setElementHScrollPos(_g);if(_c>=_b.duration){this._on_end_stepchange_animation();}else{_b.timer.start();}}};_pFormBase._on_end_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}var _b=this.getElement();var _c=this.stepcontrol;if(_b&&_c){var _d=_a.target_index;delete _a;_b.setElementStepIndex(_d);var _e=_b.hscroll_limit/(_b._step_count-1);_b.setElementHScrollPos(_e*_d);var _f=this.components;var _g=_f.length;for(var _h=0;_h<_g;_h++ ){_f[_h].on_apply_positionstep(_f[_h].positionstep);}this.on_apply_style_stepshowtype(this.style.stepshowtype);this._stepchange_info=null;}};_pFormBase._on_cancel_stepchange_animation=function(){var _a=this._stepchange_info;if(!_a){return;}_a.is_alive=false;if(_a.timer){_a.timer.stop();}delete _a;this._stepchange_info=null;};_pFormBase._getNextComponent=function(_a,_b,_c){if(_a&&_a._is_form&&_b>0&&_c){var _d=_a._getTabOrderFirst();if(_d!=null){return _d;}}var _e=this._getSortedDecendants(this,true,undefined);var _f=nexacro._indexOf(_e,_a._getRootComponent(_a));if(_f<0){return null;}var _g;if(_b>0){for(var _h=_f+_b,_i=_e.length;_h<_i;_h++ ){_g=_e[_h];if(_g.on_get_prop_tabstop()){if(_c&&_g._is_form){return this._getNextComponent(_g,_b,_c);}else{return _g;}}}}else if(_b<0){for(var _h=_f+_b;_h>=0;_h-- ){_g=_e[_h];if(_g.on_get_prop_tabstop()){if(_c&&_g._is_form){return this._getNextComponent(_g,_b,_c);}else{return _g;}}}}return null;};_pFormBase._searchNextComponent=function(_a,_b,_c,_d,_e,_f){var _g=(_c==undefined)?(application._tabkeycirculation==0):_c;var _h=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _i,_j,_k;var _l=this._getSortedDecendants(this,undefined,_d);var _m=_l?_l.length:0;if(_m>0&&_a&&!_b){_k=this._getTabOrderNext(_a,true,_d,undefined,undefined,_e,undefined,true);if(_g&&!_k&&this._isPopupVisible()){_k=this._getTabOrderFirst(_d);}if(!_k){var _n=this.parent;var _o=_n._getSortedDecendants(this.parent,undefined,_d);var _p=_o?_o.length:0;if(!_g&&(_n._is_frame||this._is_window)){_j=[null,this,1];}else if(_n._is_form&&_p>0){_j=_n._searchNextComponent(this,false,undefined,_d,_e,_f);}else{_k=this._getTabOrderFirst(_d);}}}else{_k=this._getTabOrderFirst(_d);if(!_k){if(this.parent._is_form){_j=this.parent._searchNextComponent(this,undefined,undefined,_d,_e,_f);}else{_j=null;}}}if(_k&&!_j){var _q=(_k._is_form?_k._getSortedDecendants(_k,undefined,_d):null);var _r=_q?_q.length:0;if(_k._is_form&&_d&&_k._checkContainerTabFocus()==true){_j=[_k];}else if((_k._is_form&&_r>0&&_f)||application._getNextMethod_owner==_k.name){_j=_k._searchNextComponent(null,true,undefined,_d,_e,_f);}else{_j=[_k];}}return _j;};_pFormBase._searchNextTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l>0&&_a&&!_b){_j=this._getTabOrderNext(_a,true,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderFirst(_d);}if(!_j){var _m=this.parent;var _n=_m._getSortedDecendants(this.parent,undefined,_d);var _o=_n?_n.length:0;if(!_f&&(_m._is_frame||this._is_window)){_i=[null,this,1];}else if(_m._is_form&&_o>0){_i=_m._searchNextTabFocus(this,false,undefined,_d,_e);}else{_j=this._getTabOrderFirst(_d);}}}else{_j=this._getTabOrderFirst(_d);if(!_j){if(this.parent._is_form){_i=this.parent._searchNextTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}if(_j&&!_i){var _p=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _q=_p?_p.length:0;if(_j._is_form&&_d&&_j._checkContainerTabFocus()==true){_i=[_j];}else if(_j._is_form&&_q>0){_i=_j._searchNextTabFocus(null,true,undefined,_d,_e);}else{_i=[_j];}}return _i;};_pFormBase._searchNextHeadingFocus=function(_a,_b,_c){var _d=(_c==undefined)?(application._tabkeycirculation==0):_c;var _e=nexacro._enableaccessibility;var _f,_g,_h;var _i=this._getSortedDecendants(this,undefined,true);var _j=_i?_i.length:0;if(_j>0&&_a&&!_b){_h=this._getHeadingOrderNext(_a,1);if(_d&&!_h&&this._isPopupVisible()){_h=this._getHeadingOrderFirst();}if(!_h){var _k=this.parent;var _l=_k._getSortedDecendants(this.parent,undefined,true);var _m=_l?_l.length:0;if(!_d&&(_k._is_frame||this._is_window)){_g=[null,this,1];}else if(_k._is_form&&_m>0){_g=_k._searchNextHeadingFocus(this);}else{_h=this._getHeadingOrderFirst();}}}else{_h=this._getHeadingOrderFirst();if(!_h){if(this.parent._is_form){_g=this.parent._searchNextHeadingFocus(this);}else{_g=null;}}}if(_h&&!_g){var _n=(_h._is_form?_h._getSortedDecendants(_h,undefined,true):null);var _o=_n?_n.length:0;if(_h._is_form&&_h._checkContainerHeadingFocus()==true){_g=[_h];}else if(_h._is_form&&_o>0){_g=_h._searchNextHeadingFocus(null,true);}else{_g=[_h];}}return _g;};_pFormBase._searchPrevComponent=function(_a,_b,_c,_d,_e,_f){var _g=(_c==undefined)?(application._tabkeycirculation==0):_c;var _h=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _i,_j,_k;var _l=this._getSortedDecendants(this,undefined,_d);var _m=_l?_l.length:0;if(_m&&_a&&!_b){_k=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_g&&!_k&&this._isPopupVisible()){_k=this._getTabOrderLast(_d);}if(!_k){var _n=this.parent._getSortedDecendants(this.parent,undefined,_d);var _o=_n?_n.length:0;var _p=this.parent.components;if(!_g&&(this.parent._is_frame||this._is_window)){_j=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_j=[this];}else if(this.parent._is_form&&_o>0){_j=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_k=this._getTabOrderLast(_d);}}}else{if(!_j){_k=this._getTabOrderLast(_d);if(!_k&&_j!==null){if(_d&&_h&&this._checkContainerTabFocus()==true){_j=[this];}else if(this.parent._is_form){_j=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_j=null;}}}}if(_k&&!_j){var _q=(_k._is_form?_k._getSortedDecendants(_k,undefined,_d):null);var _r=_q?_q.length:0;if(_k._is_form&&_r>0&&_f){_j=_k._searchPrevTabFocus(null,true,undefined,_d,_e);}else{_j=[_k];}}return _j;};_pFormBase._searchPrevTabFocus=function(_a,_b,_c,_d,_e){var _f=(_c==undefined)?(application._tabkeycirculation==0):_c;var _g=nexacro._enableaccessibility&&(nexacro._accessibilitytype!=5);var _h,_i,_j;var _k=this._getSortedDecendants(this,undefined,_d);var _l=_k?_k.length:0;if(_l&&_a&&!_b){_j=this._getTabOrderNext(_a, -1,_d,undefined,undefined,_e);if(_f&&!_j&&this._isPopupVisible()){_j=this._getTabOrderLast(_d);}if(!_j){var _m=this.parent._getSortedDecendants(this.parent,undefined,_d);var _n=_m?_m.length:0;var _o=this.parent.components;if(_f==false&&(this.parent._is_frame||this._is_window)){_i=[null,this, -1];}else if(_d&&this._checkContainerTabFocus()==true&&this.parent._is_form){_i=[this];}else if(this.parent._is_form&&_n>0){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_j=this._getTabOrderLast(_d);}}}else{if(!_b){if(this instanceof nexacro.PopupDiv){_j=this._getTabOrderLast(_d);}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}if(!_i){_j=this._getTabOrderLast(_d);if(!_j&&_i!==null){if(_d&&_g&&this._checkContainerTabFocus()==true){_i=[this];}else if(this.parent._is_form){_i=this.parent._searchPrevTabFocus(this,undefined,undefined,_d,_e);}else{_i=null;}}}}if(_j&&!_i){var _p=(_j._is_form?_j._getSortedDecendants(_j,undefined,_d):null);var _q=_p?_p.length:0;if(_j._is_form&&_q>0){_i=_j._searchPrevTabFocus(null,true,undefined,_d,_e);}else{_i=[_j];}}return _i;};_pFormBase._searchPrevHeadingFocus=function(_a,_b,_c){var _d=(_c==undefined)?(application._tabkeycirculation==0):_c;var _e=nexacro._enableaccessibility;var _f,_g,_h;var _i=this._getSortedDecendants(this,undefined,true);var _j=_i?_i.length:0;if(_j&&_a&&!_b){_h=this._getHeadingOrderNext(_a, -1);if(_d&&!_h&&this._isPopupVisible()){_h=this._getHeadingOrderLast();}if(!_h){var _k=this.parent._getSortedDecendants(this.parent,undefined,true);var _l=_k?_k.length:0;var _m=this.parent.components;if(_d==false&&(this.parent._is_frame||this._is_window)){_g=[null,this, -1];}else if(_e&&this._type_name=="Tabpage"){_g=[this.parent];}else if(_e&&this._checkContainerHeadingFocus()==true){_g=[this];}else if(this.parent._is_form&&_l>0){_g=this.parent._searchPrevHeadingFocus(this);}else{_h=this._getHeadingOrderLast();}}}else{if(!_b){if(this.parent._is_form){_g=this.parent._searchPrevTabFocus(this);}else{_g=null;}}if(!_g){_h=this._getTabOrderLast();if(!_h&&_g!==null){if(this.parent._is_form){_g=this.parent._searchPrevHeadingFocus(this);}else{_g=null;}}}}if(_h&&!_g){var _n=(_h._is_form?_h._getSortedDecendants(_h,undefined,true):null);var _o=_n?_n.length:0;if(_h._is_form&&_o>0){_g=_h._searchPrevHeadingFocus(null,true);}else{_g=[_h];}}return _g;};_pFormBase._processArrowKey=function(_a,_b){if(_b[0] instanceof nexacro.Form&&_b[0]._last_focused){var _c=this._getWindow();_c._removeFromCurrentFocusPath(_b[0]._last_focused);}var _d=2;if(!_a){_d=3;}_b[0]._setFocus(true,_d,false);if(application.accessibilityfirstovertext&&_b[0]==this._getTabOrderFirst()){var _e=_b[0];var _f=_e._getAccessibilityReadLabel()+" "+application.accessibilityfirstovertext;_e.getElement().notifyAccessibility(_f,"focus");}else if(application.accessibilitylastovertext&&_b[0]==this._getTabOrderLast()){var _e=_b[0];var _f=_e._getAccessibilityReadLabel()+" "+application.accessibilitylastovertext;_e.getElement().notifyAccessibility(_f,"focus");}};_pFormBase._processHotkey=function(_a,_b,_c,_d,_e){var _f=null;if(_e){_f=_e.parent;}var _g=this._getMainForm();var _h=_g?_g._hotkey_list:this._hotkey_list;for(var _n=0,_o=_h.length;_n<_o;_n++ ){var _i=_h[_n];if(_i[1]==_a&&_i[2]==_b&&_i[3]==_c&&_i[4]==_d){var _j=_i[0];if(_j.parent instanceof nexacro.Tabpage){if(_j.parent._index!=_j.parent.parent.tabindex){continue;}}if(_e&&_j&&_j.parent){if(_e.name!=_j.name||_e.parent.name!=_j.parent.name){var _k=false;for(var _p=(_n+1),_o=_h.length;_p<_o;_p++ ){if((_e.name==_h[_p][0].name&&_e.parent.name==_h[_p][0].parent.name)||(_h[_p][0].parent&&_e.parent==_h[_p][0].parent&&_h[_p][0].enable)){_n=(_p-1);_p=_h.length;_k=true;}}if(_k){continue;}}}if(!_j.enable||(_j._isEnable&&!_j._isEnable())){continue;}var _l=_j.parent;do{if(_l instanceof nexacro.FormBase){break;}_l=_l.parent;}while(_l)if(!_l.enable){return true;}_j._on_hotkey(_a,_b,_c,_d);return true;}}if(this._is_frame&&this._is_window&&(this._window_type==1||this._window_type==4)){return;}var _m=this.getOwnerFrame();if(_m){return _m._processHotkey(_a,_b,_c,_d);}};_pFormBase._appendBeforeCloseMsg=function(_a,_b){if(typeof (_b)=="boolean"){_b=nexacro._toString(_b);}if(_b===undefined||_b==""||_b===null){return _a;}if(_a===undefined||_a===null){_a="";}else if(_a!=""){_a+="\n";}return (_a+_b);};_pFormBase._checkAndConfirmClose=function(_a){if(_a===undefined||_a==""||_a===null){return true;}if(this._window&&this._window._ignore_close_confirm){return true;}return nexacro._confirm(this,_a);};_pFormBase._onResetScrollBar=function(){if(!this._is_scrollable){return;}var _a=this._control_element;if(_a){var _b=false;var _c=false;var _d=nexacro.Component.SCROLLBAR_DEFAULT_SIZE;var _e=_d;var _f=_d;var _g=0;var _h=false;var _i=false;var _j=this._scrollbars;if(this.getStepCount()>0&&(_j==0||_j==1||_j==4||_j==16)){_j=2;}switch(_j){case 0:break;case 1:_h=true;_g=1;break;case 2:_i=true;_g=1;break;case 3:_h=true;_i=true;_g=1;break;case 4:_h=true;_g=2;break;case 8:_i=true;_g=2;break;case 12:_h=true;_i=true;_g=2;break;case 16:_h=true;_i=true;_g=31;break;case 32:_h=true;_i=true;_g=32;break;}if(_i&&!this.hscrollbar){this.hscrollbar=this._createHScrollBar(_d);if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(_a.client_width,_e);}_b=true;}else if(_i&&this.hscrollbar){if(this.hscrollbar.scrollbarsize>0){_e=this.hscrollbar.scrollbarsize;this.hscrollbar.resize(_a.client_width,_e);_a._hscroll_height=_e;}}else if(!_i&&this.hscrollbar){this.hscrollbar.destroy();this.hscrollbar=null;}if(_h&&!this.vscrollbar){this.vscrollbar=this._createVScrollBar(_d);if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,_a.client_height);}_c=true;}else if(_h&&this.vscrollbar){if(this.vscrollbar.scrollbarsize>0){_f=this.vscrollbar.scrollbarsize;this.vscrollbar.resize(_f,_a.client_height);_a._vscroll_width=_f;}}else if(!_h&&this.vscrollbar){this.vscrollbar.destroy();this.vscrollbar=null;}_a.setScrollControls(this.hscrollbar,this.vscrollbar,_e,_f,_g);if(_b||this.getStepCount()>0){this.hscrollbar.createComponent();}if(_c){this.vscrollbar.createComponent();}if(_a._handle){if(this.hscrollbar&&!this.hscrollbar._is_created){this.hscrollbar.on_created();}if(this.vscrollbar&&!this.vscrollbar._is_created){this.vscrollbar.on_created();}}this._updateClientSize(_a);}};delete _pFormBase;nexacro.Form_Style=function(_a){nexacro.Style.call(this,_a);};var _pFormStyle=nexacro._createPrototype(nexacro.Style,nexacro.Form_Style);nexacro.Form_Style.prototype=_pFormStyle;eval(nexacro._createAlignAttributeEvalStr("_pFormStyle","stepalign"));eval(nexacro._createValueAttributeEvalStr("_pFormStyle","stepshowtype"));_pFormStyle.__custom_emptyObject=function(){this.stepalign=null;this.stepshowtype=null;};_pFormStyle.__get_custom_style_value=function(){var _a="";if(this.stepalign&&!this.stepalign._is_empty){_a+="stepalign:"+this.stepalign._value+"; ";}if(this.stepshowtype&&!this.stepshowtype._is_empty){_a+="stepshowtype:"+this.stepshowtype._value+"; ";}return _a;};nexacro.Form_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.stepalign=null;this.stepshowtype=null;};var _pFormCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Form_CurrentStyle);nexacro.Form_CurrentStyle.prototype=_pFormCurrentStyle;_pFormCurrentStyle.__custom_emptyObject=_pFormStyle.__custom_emptyObject;_pFormCurrentStyle.__get_custom_style_value=_pFormStyle.__get_custom_style_value;delete _pFormStyle;delete _pFormCurrentStyle;nexacro.Form=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.inheritanceid="";this.layout="";this.opener=null;this.resizebutton=null;this.statustext="";this.titletext="";this.classname="";this.cachelevel="";this.version="";this.layoutautofittype=undefined;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkillfocus":1,"onsetfocus":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ontouch":1,"onvscroll":1,"onhscroll":1,"onactivate":1,"onbeforeclose":1,"onclose":1,"ondeactivate":1,"onsyscommand":1,"ontimer":1,"oninit":1,"onload":1,"canlayoutchange":1,"canstepchange":1,"onlayoutchanged":1,"onstepchanged":1,"ondevicebuttonup":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"ondbltap":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"onzoom":1,"onorientationchange":1};this._url="";this._init_width=0;this._init_height=0;this._defaultbutton=null;this._escapebutton=null;this._accessibility_role="form";this._zoomFactor=undefined;this._autofittedZoomFactor=undefined;this._is_init=true;this._is_closing=false;};var _pForm=nexacro._createPrototype(nexacro.FormBase,nexacro.Form);nexacro.Form.prototype=_pForm;_pForm._type_name="Form";nexacro.Form_default_stepshowtype=nexacro._getCachedStyleObj("stepshowtype","always");_pForm.on_create_custom_style=function(){return new nexacro.Form_Style(this);};_pForm.on_create_custom_currentStyle=function(){return new nexacro.Form_CurrentStyle();};_pForm.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_stepalign(_a);if(_b.stepalign!=_c){_b.stepalign=_c;this.on_apply_style_stepalign(_c);}var _d=this.on_find_CurrentStyle_stepshowtype(_a);if(_b.stepshowtype!=_d){_b.stepshowtype=_d;this.on_apply_style_stepshowtype(_d);}};_pForm.on_apply_custom_css=function(_a){var _b=this.components;if(_b){for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];_c.on_apply_prop_class(_c[_d],_a);}}};_pForm.on_find_CurrentStyle_stepalign=function(_a){var _b=this._find_pseudo_obj("stepalign",_a,"align");return _b?_b:nexacro.Component._default_step_align;};_pForm.on_find_CurrentStyle_stepshowtype=function(_a){var _b=this._find_pseudo_obj("stepshowtype",_a,"value");return _b||nexacro.Form_default_stepshowtype;};_pForm.on_update_style_stepalign=function(){var _a=this.on_find_CurrentStyle_stepalign(this._pseudo);this.currentstyle.stepalign=_a;this.on_apply_style_stepalign(_a);};_pForm.on_update_style_stepshowtype=function(){var _a=this.on_find_CurrentStyle_stepshowtype(this._pseudo);this.currentstyle.stepshowtype=_a;this.on_apply_style_stepshowtype(_a);};_pForm.on_apply_style_stepalign=function(_a){var _b=this.getElement();var _c=this.stepcontrol;if(_b&&_c){var _d=this.on_find_CurrentStyle_border(this._pseudo);var _e=(_d)?_d._left_width:0;var _f=(_d)?_d._top_width:0;var _g=(_d)?_d._right_width:0;var _h=(_d)?_d._bottom_width:0;var _i=this._adjust_width-_e-_g;var _j=this._adjust_height-_f-_h;var _k=_c._getButtonSize();var _l=_c._getButtonAreaSize(_c.stepcount,_k);var _m=_a.halign;var _n=_a.valign;var _o,_p;switch(_m){case "left":_o=0;break;case "center":_o=(_i-_l.width)/2;break;case "right":_o=_i-_l.width;break;}switch(_n){case "top":_p=0;break;case "middle":_p=(_j-_l.height)/2;break;case "bottom":_p=_j-_l.height;break;}_c.move(_o,_p,_l.width,_l.height,null,null);}};_pForm.on_apply_style_stepshowtype=function(_a){var _b=this.stepcontrol;if(_b&&_a){var _c=_a.value;switch(_c){case "action":_b.set_visible(false);break;case "always":default:_b.set_visible(true);break;}}};_pForm.on_get_style_accessibility_label=function(){return this.titletext;};_pForm.on_get_prop_tabstop=function(){return this.tabstop;};_pForm.on_created=function(_a){var _b=nexacro.FormBase.prototype.on_created.call(this,_a);if(this._is_loadcallback&&this._is_created){this.on_fire_onload(this,this._url);}return _b;};_pForm.on_update_position=function(_a,_b){var _c=this._control_element;if(_c){var _d=false;if(this._isRtl(this.parent)&&this._left!=null){_d=true;}_c.setElementPosition(this._adjust_left,this._adjust_top,_d);if(_a){var _e=this._calcScrollMaxSize();_c.container_maxwidth=_e.w;_c.container_maxheight=_e.h;}_c.setElementSize(this._adjust_width,this._adjust_height);this._updateClientSize(_c);if(_b){this.on_fire_onmove(this._adjust_left,this._adjust_top);}if(_a){this.on_fire_onsize(this._adjust_width,this._adjust_height);}}};_pForm.on_change_containerRect=function(_a,_b){var _c=false;var _d=this.components;if(nexacro.OS=="Android"&&this.vscrollbar&&this.vscrollbar.visible){_c=true;var _e;var _f;var _g=this._getLastFocused();var _h=this.getOffsetBottom();}for(var _k=0,_l=_d.length;_k<_l;_k++ ){var _i=_d[_k];var _j=_i.getElement();if(_j){if(_c&&_i instanceof nexacro.Edit){_e=_i.getOffsetBottom();_f=_e-_h;if(this.vscrollbar.pos<_f&&_h<_e&&_g==_i){this.vscrollbar.set_pos(_f);}}_i._bChangeRtl=this._bChangeRtl;_i.move(_i.left,_i.top,_i.width,_i.height,_i.right,_i.bottom);_i._bChangeRtl=false;}}if(this.stepcontrol){this._updateStepControlSize();}this._onRecalcScrollSize();};_pForm._on_load=function(_a,_b){if(!this._load_callbacklist){return;}var _c=this.parent;if(this.parent&&this.parent.form==this){_c=application;}if(_c&&_c._addLoadCallbacklist){var _d=this;var _e=_c._addLoadCallbacklist({target:_d,callback:_d._on_loadcallback,url:this.url});if(!_e){this._on_loadcallback(_a,_b);}}};_pForm._addLoadCallbacklist=function(_a){if(!this._is_loaded&&this._url&&this._url.length>0){if(!this.parent._load_callbacklist){this.parent._load_callbacklist=[];}this._load_callbacklist.push(_a);return true;}return false;};_pForm._on_loadcallback=function(_a,_b){var _c=this._load_callbacklist;var _d=_c.length,_e;if(_d>0){for(var _m=0;_m<_d;_m++ ){var _f=_c[_m];var _g=_f.target;_e=nexacro._makeurl(_f.url);if(_g._is_alive!=false){_f.callback.call(_g,_g,_e);}}_c.splice(0,_d);}var _h=this.binds;if(_h){for(var _m=0,_n=_h.length;_m<_n;_m++ ){_h[_m].bind();}}this.on_fire_oninit(this);this.createComponent(true);var _i;if(!this._is_created){this._is_loadcallback=true;_i=this._getWindow();this.on_created(_i);this._is_loadcallback=false;}var _j=false;if(!(this instanceof nexacro.Tabpage)){this._on_activate();}var _k=this.parent;if(_k){if(_k._is_frame&&_k.form==this){_k._createdForm();application._notifyLoadforms(this);}else{if(!_i){_i=this._getRootWindow();}if(_i&&_i.frame&&_i.frame._activate==true){var _l=_i.getCurrentFocusPaths();if(_l&&nexacro._indexOf(_l,this)> -1){if(this instanceof nexacro.Tabpage){this._on_activate();}if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1){this._setFocus();this._playAccessibilityWholeReadLabel("wholeread");}else{this._on_focus(true);}}else if(nexacro._enableaccessibility&&nexacro._accessibilitywholereadtype>1&&this instanceof nexacro.Div){this._playAccessibilityWholeReadLabel("wholeread");}}}}this._refreshAccessibilityValue();return _j;};_pForm.set_opener=nexacro._emptyFn;_pForm.set_inheritanceid=function(_a){};_pForm.set_layout=function(_a){};_pForm.set_statustext=function(_a){if(this.parent&&this.parent._is_frame){if(this.statustext!=_a){this.statustext=_a;this.parent._applyStatusText();}}};_pForm.set_titletext=function(_a){this._setAccessibilityLabel(_a);if(this.parent&&this.parent._is_frame){if(this.titletext!=_a){this.titletext=_a;this.parent._applyTitleText();}}};_pForm.set_classname=function(_a){return;};_pForm.set_cachelevel=function(_a){};_pForm.set_version=function(_a){;};_pForm.set_dragscrolltype=function(_a){var _b=["none","vert","horz","both","all"];if(this.dragscrolltype!=_a){if(nexacro._indexOf(_b,_a)>=0){this.dragscrolltype=_a;}else{}}};_pForm.set_layoutautofittype=function(_a){return;};_pForm.on_apply_prop_enable=function(_a){nexacro.Component.prototype.on_apply_prop_enable.call(this,_a);var _b=this.components;var _c=this._getRootForm();var _d=_c.binds;for(var _i=0,_j=_b.length;_i<_j;_i++ ){var _e=_b[_i];if(_d){var _f=false;for(var _k=0,_l=_d.length;_k<_l;_k++ ){var _g=_d[_k]._comp;if(_g==_e&&_d[_k]._en_type==2){_f=true;var _h=_d[_k]._dataset;if(_h.rowposition!= -1){_e._setEnable(_a);}break;}}if(!_f){_e._setEnable(_a);}}else{_e._setEnable(_a);}}};_pForm.on_apply_prop_rtldirection=function(){this._bChangeRtl=true;nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._control_element;if(_a){if(nexacro._isDesktop()){this.on_change_containerRect(_a.client_width,_a.client_height);}}var _b=this.components;var _c=this._rtldirection;for(var _e=0,_f=_b.length;_e<_f;_e++ ){var _d=_b[_e];if(_d._is_form){_d.on_apply_prop_rtldirection(_c);}_d._setRtlDirection(_c);}if(this.vscrollbar){this.vscrollbar._setRtlDirection(_c);}if(this.hscrollbar){this.hscrollbar._setRtlDirection(_c);}if(this.stepcontrol){this.stepcontrol._setRtlDirection(_c);}this._bChangeRtl=false;};_pForm.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();}}};_pForm.on_apply_locale=function(){var _a=this.components;for(var _c=0,_d=_a.length;_c<_d;_c++ ){var _b=_a[_c];_b._setLocale(this._locale);}};_pForm.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Component.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(application._quickview_mode&&_m!==true&&this.parent instanceof nexacro.ChildFrame){if(_l&&!_l._input_element){return nexacro._showQuickviewMenu(this,_e,_f);}}return _m;};_pForm.on_fire_oninit=function(_a){if(this._is_init&&this.oninit&&this.oninit._has_handlers){this._is_init=false;var _b=new nexacro.Event(_a,"oninit");return this.oninit._fireEvent(this,_b);}return true;};_pForm.on_fire_canstepchange=function(_a){if(this.canstepchange&&this.canstepchange._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"canstepchange",_a._prestepindex,_a._poststepindex);return this.canstepchange._fireCheckEvent(this,_b);}};_pForm.on_fire_onstepchanged=function(_a){if(this.onstepchanged&&this.onstepchanged._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"onstepchanged",_a._prestepindex,_a._poststepindex);return this.onstepchanged._fireEvent(this,_b);}};_pForm.on_fire_canlayoutchange=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.canlayoutchange&&this.canlayoutchange._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.canlayoutchange._fireCheckEvent(this,_i);}return true;};_pForm.on_fire_onlayoutchanged=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onlayoutchanged&&this.onlayoutchanged._has_handlers){var _i=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d,_e,_f,_g,_h);return this.onlayoutchanged._fireEvent(this,_i);}return true;};_pForm.on_fire_onbeforelayoutchange=function(_a,_b,_c,_d){if(this.onbeforelayoutchange&&this.onbeforelayoutchange._has_handlers){var _e=new nexacro.LayoutChangeEventInfo(_a,_b,_c,_d);return this.onbeforelayoutchange._fireEvent(this,_e);}return true;};_pForm.on_fire_onload=function(_a,_b){if(this.onload&&this.onload._has_handlers){this._bFireLoadEvent=true;var _c=new nexacro.LoadEventInfo(_a,"onload",_b);var _d=this.onload._fireEvent(this,_c);this._bFireLoadEvent=false;_c.destroy();_c=null;return _d;}return true;};_pForm.on_fire_ondevicebuttonup=function(_a,_b){if(this.ondevicebuttonup&&this.ondevicebuttonup._has_handlers){var _c=new nexacro.DeviceButtonEventInfo(_a,_b);return this.ondevicebuttonup._fireEvent(this,_c);}return true;};_pForm._on_devicebuttonup=function(_a){var _b=this.on_fire_ondevicebuttonup(this,_a);if(!_b&&this.parent&&this.parent instanceof nexacro.Form){return this.parent._on_devicebuttonup(_a);}return _b;};_pForm.on_fire_user_onkeydown=function(_a,_b,_c,_d,_e,_f){if(!this._is_alive){return;}var _g=_f;if(!_g){_g=this.getFocus();}if(!_g){_g=this;}if(_g){_g=_g._getRootComponent(_g);}var _h=_g._getDlgCode(_a,_b,_c,_d);if(_a==nexacro.Event.KEY_TAB){if(_h.want_tab==false){var _i;var _j=this._getRootWindow();if(_j._keydown_element){_j._keydown_element._event_stop=true;}if(nexacro._enableaccessibility){var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);}if(!_d){_i=this._searchNextTabFocus(this._last_focused,undefined,undefined,false);}else{_i=this._searchPrevTabFocus(this._last_focused,undefined,undefined,false);}if(_i&&_i[0]){if(_i[0] instanceof nexacro.Form&&_i[0]._last_focused){var _l=this._getWindow();_l._removeFromCurrentFocusPath(_i[0]._last_focused);}_i[0]._setFocus(true,(!_d?0:1),true);}else if(_i&&_i[2]== -1){var _m=this._last_focused;if(_m){_m.getElement().notifyAccessibility(application.accessibilityfirstovertext);}}else if(_i&&_i[2]==1){var _m=this._last_focused;if(_m){_m.getElement().notifyAccessibility(application.accessibilitylastovertext);}}return true;}}else if(_a==nexacro.Event.KEY_RETURN){if(_h.want_return==false){if(this instanceof nexacro.Form){var _n=_g._isPopupVisible();if(!_n&&this._defaultbutton&&this._defaultbutton.enableevent&&this._defaultbutton._isEnable()){this._defaultbutton.click();}}}}else if(_a==nexacro.Event.KEY_ESC){if(nexacro._stopTransaction(this,1)<=0&&_h.want_escape==false){if(this instanceof nexacro.Form){if(this._escapebutton&&this._escapebutton.enableevent&&this._escapebutton._isEnable()){this._escapebutton.click();}}}}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_DOWN){if(_h.want_arrows==false){var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);var _i=this._searchNextTabFocus(this._last_focused,undefined,undefined,true);if(_i&&_i[0]){if(_i[0] instanceof nexacro.Form&&_i[0]._last_focused){var _l=this._getWindow();_l._removeFromCurrentFocusPath(_i[0]._last_focused);}_i[0]._setFocus(true,2,true);}var _j=this._getRootWindow();_j._keydown_element._event_stop=true;return true;}}else if(nexacro._enableaccessibility&&_a==nexacro.Event.KEY_UP){if(_h.want_arrows==false){var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,this._last_focused);var _i=this._searchPrevTabFocus(this._last_focused,undefined,undefined,true);if(_i&&_i[0]){if(_i[0] instanceof nexacro.Form&&_i[0]._last_focused){var _l=this._getWindow();_l._removeFromCurrentFocusPath(_i[0]._last_focused);}_i[0]._setFocus(true,3,true);}var _j=this._getRootWindow();_j._keydown_element._event_stop=true;return true;}}var _k=nexacro.Component.prototype.on_fire_user_onkeydown.call(this,_a,_b,_c,_d,this,_f);if(!this.onkeydown||(this.onkeydown&&!this.onkeydown.defaultprevented)){if(_a==nexacro.Event.KEY_LEFT||_a==nexacro.Event.KEY_RIGHT){if(this.hscrollbar&&this.hscrollbar.visible&&_c==true){if(_h.want_arrows==false){var _o=this.hscrollbar.line;if(_o<=0){_o=this.hscrollbar._linedown;}if(_a==nexacro.Event.KEY_LEFT){_o*= -1;}this.hscrollbar.set_pos(this.hscrollbar.pos+_o);return true;}}}else if(_a==nexacro.Event.KEY_UP||_a==nexacro.Event.KEY_DOWN){if(this.vscrollbar&&this.vscrollbar.visible&&_c==true){if(_h.want_arrows==false){var _o=this.vscrollbar.line;if(_o<=0){_o=this.vscrollbar._linedown;}if(_a==nexacro.Event.KEY_UP){_o*= -1;}this.vscrollbar.set_pos(this.vscrollbar.pos+_o);return true;}}}}return _k;};_pForm._on_activate=function(){if(!this.parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_activate.call(this);};_pForm._on_deactivate=function(){if(!this.parent){return;}var _a=this.getOwnerFrame();if(!_a||!_a._activate){return;}nexacro.FormBase.prototype._on_deactivate.call(this);};_pForm._refresh_input_comp=function(_a,_b){if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){var _c=_a?_a.length:0;for(var _e=0;_e<_c;_e++ ){var _d=_a[_e];if(_d){if(_d instanceof nexacro.TextArea&&_d.value){if(_b){if(_d._input_element){_d._input_element._refreshElement1(_b);}}else{(function(_f){setTimeout(function(){if(_f&&_f._input_element){_f._input_element._refreshElement1();}},100);})(_d);}}else if(_d instanceof nexacro.Div){this._refresh_input_comp(_d._child_list,_b);}}}}};_pForm._refresh_input_components=function(){if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){var _a=this._last_focused?this._last_focused:this;while(_a){if(_a instanceof nexacro.FormBase){if(_a._last_focused){_a=_a._last_focused;}else{break;}}else{break;}}if(_a&&(_a._has_inputElement||_a instanceof nexacro.Grid)){var _b=null;if(_a instanceof nexacro.Grid){_b=_a._tempEditor?_a._tempEditor._edit_base_api:null;}else{_b=_a._edit_base_api;}if(_b&&!_b._is_composition()){if(nexacro.OSVersion>=10&&(nexacro.Browser=="Edge"||nexacro.Browser=="IE")){if(_a instanceof nexacro.TextArea){_b.comp._input_element._refreshElement1(true);_b.comp._input_element.setElementSetSelect(_b._begin_pos,_b._end_pos);}else{_b.comp._input_element._refreshElement();}}else{_b.comp._input_element._refreshElement();}}}else if(_a&&_a instanceof nexacro.FileUpload){if(_a._items){var _c=_a._items[_a.index];if(_c){_c.fileitemedit._input_element._refreshElement();}}}else{}}};_pForm.on_vscroll=function(_a,_b){if(this.onvscroll&&this.onvscroll._has_handlers){_b.fromobject=this;this.onvscroll._fireEvent(this,_b);}var _c=this._control_element;var _d=0;if(_c){if(_c.scroll_top==_c.vscroll_limit&&_b.pos>=_c.scroll_top){return true;}else{_d=_c.vscroll_limit;_c.setElementVScrollPos(_b.pos);}}if(_b.pos>=_d){return true;}this._refresh_input_components();return true;};_pForm.on_hscroll=function(_a,_b){if(this.onhscroll&&this.onhscroll._has_handlers){_b.fromobject=this;this.onhscroll._fireEvent(this,_b);}var _c=this._control_element;if(_c){_c.setElementHScrollPos(_b.pos);}this._refresh_input_components();return true;};_pForm._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);};_pForm.on_fire_onorientationchange=function(_a){if(this.onorientationchange&&this.onorientationchange._has_handlers){var _b=new nexacro.OrientationChangeEventInfo(this,"onorientationchange",_a);this.onorientationchange._fireEvent(this,_b);}};_pForm.on_fire_sys_onaccessibilitygesture=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this._getWindow();var _e=_c;var _f=null;if(!_e){_e=this.getFocus();}if(!_e){_e=this;}if(_e){_e=_e._getRootComponent(_e);}if(!_a){_f=this._searchPrevTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,true);while(_f&&_f[0]&&_f[0]._is_form){if(_f[0]==this){var _g=_f[0].parent._searchPrevTabFocus(_f[0],undefined,undefined,true);}if(_g&&_g[0]){if(_f[0]==_g[0]){_f=_g;break;}_f=_g;}else{break;}}}else{_f=this._searchNextTabFocus(_d._accessibility_last_focused_comp,undefined,undefined,true);while(_f&&_f[0]&&_f[0]._is_form){var _h=this._getSortedDecendants(_f[0],undefined,true);var _i=_h?_h.length:0;if(_i==0){break;}var _g=this._searchNextTabFocus(_f[0],undefined,undefined,true);if(_f[0]==_g[0]){_f=_g;break;}_f=_g;}}if(_f&&_f[0]){_f[0]._setAccessibilityNotifyEvent(_a);return true;}return false;};_pForm.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}_b.parent=this;_b._refform=this;this[_a]=_b;this.all.add_item(_a,_b);_b.id=_a;if(this.visible&&!this._real_visible){_b._real_visible=false;}else{_b._real_visible=this.visible;}if(_b._is_component){_c=this.components.add_item(_a,_b);this._child_list.push(_b);if(_b._is_alive&&_b._is_created&&this._is_created){this._control_element.appendChildElement(_b.getElement());}_b._setRtlDirection(this._rtldirection);}else if(_b instanceof nexacro.BindItem){_c=this.binds.add_item(_a,_b);}else{_c=this.objects.add_item(_a,_b);}return _c;};_pForm.resetScroll=function(){this._onRecalcScrollSize();this._onResetScrollBar();};_pForm.close=function(_a){if(this._is_closing){return;}this._is_closing=true;if(!this.parent||!this.parent._is_frame){return;}this.setWaitCursor(false,null);var _b=this.parent;var _c=_b._on_beforeclose();if(_b._checkAndConfirmClose(_c)==false){this._is_closing=false;return false;}if(_b._window){_b._window._ignore_close_confirm=true;}_b._on_close();if(typeof (_a)=="object"){_a=null;}if(this.parent){this.parent._closeForm(_a);}this._is_closing=false;};_pForm.getFirstComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderFirst(false,false);if(_a){if(_b._is_form){return _b._getTabOrderFirst(false,false);}}return _b;};_pForm.getLastComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderLast(false,false);if(_a){if(_b._is_form){return _b._getTabOrderLast(false,false);}}return _b;};_pForm.getNextComponent=function(_a,_b){application._getNextMethod_owner=this.name;if(_b!==true){_b=false;}var _c=_a.parent;var _d=_c._getNextComponent(_a,1,_b);if(!_d){_d=_c._searchNextComponent(_a,undefined,undefined,false,false,_b)[0];}return _d;};_pForm.getPrevComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=_a.parent;var _d=_c._getNextComponent(_a, -1,_b);if(!_d){_d=_c._searchPrevComponent(_a,undefined,undefined,false,false,_b)[0];}return _d;};_pForm.getFirstAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderFirst(true,false);if(!_b._isAccessibilityEnable()){_b=this.getNextAccessibilityComponent(_b,_a);}if(_a){if(_b._is_form){return _b._getTabOrderFirst(true,false);}}return _b;};_pForm.getLastAccessibilityComponent=function(_a){if(_a!==true){_a=false;}var _b=this._getTabOrderLast(true,false);if(!_b._isAccessibilityEnable()){_b=this.getPrevAccessibilityComponent(_b,_a);}if(_a){if(_b._is_form){return _b._getTabOrderLast(true,false);}}return _b;};_pForm.getNextAccessibilityComponent=function(_a,_b){if(_b!==true){_b=false;}if(_a){var _c=_a.parent;var _d=_c._getTabOrderNext(_a,1,true,false);if(_d==undefined&&!nexacro._enableaccessibility){_d=_c.getFirstComponent(_b);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a,1,true,false);if(_e){return _e;}_e=_d._getTabOrderFirst(true,false);if(_e){return _e;}}}return _d;}return undefined;};_pForm.getPrevAccessibilityComponent=function(_a,_b){if(_b!==true){_b=false;}if(_a){var _c=_a.parent;var _d=_c._getTabOrderNext(_a, -1,true,false);if(_d==undefined&&!nexacro._enableaccessibility){_d=_c.getLastComponent(_b);}if(_b){_c=_d;if(_d._is_form){var _e=_d._getTabOrderNext(_a, -1,true,false);if(_e){return _e;}_e=_d._getTabOrderLast(true,false);if(_e){return _e;}}}return _d;}return undefined;};_pForm.getNextEditableComponent=function(_a,_b,_c){if(_c!==true){_c=false;}if(_a){var _d=_a.parent;var _e=_d._getTabOrderNext(_a,1,false,true,_b,undefined,_c);if(_e==undefined){_e=_d._getTabOrderNext(_a,1,false,true,"All",undefined,_c);}if(_e==undefined){_e=_d.getFirstEditableComponent(_b,_c);}return _e;}return undefined;};_pForm.getPrevEditableComponent=function(_a,_b,_c){if(_c!==true){_c=false;}if(_a){var _d=_a.parent;var _e=_d._getTabOrderNext(_a, -1,false,true,_b,undefined,_c);if(_e==undefined){_e=_d._getTabOrderNext(_a, -1,false,true,"All",undefined,_c);}if(_e==undefined){_e=_d.getLastEditableComponent(_b,_c);}return _e;}return undefined;};_pForm.getFirstEditableComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=this._getTabOrderFirst(false,true,_a,_b);if(!_c){_c=this._getTabOrderFirst(false,true,"All",_b);}return _c;};_pForm.getLastEditableComponent=function(_a,_b){if(_b!==true){_b=false;}var _c=this._getTabOrderLast(false,true,_a,_b);if(!_c){_c=this._getTabOrderLast(false,true,"All",_b);}return _c;};_pForm._getNextHeadingComponent=function(_a){var _b=this._searchNextHeadingFocus(_a);if(_b){return _b[0];}};_pForm._getPrevHeadingComponent=function(_a){var _b=this._searchPrevHeadingFocus(_a);if(_b){return _b[0];}};_pForm.getFocus=function(){var _a=this._find_lastFocused();if(_a==null){return this;}return _a;};_pForm.getZoom=function(){var _a=this._control_element;if(_a&&_a.getZoom){return (this._zoomFactor!==undefined)?this._zoomFactor:_a.getZoom();}return 100;};_pForm.setZoom=function(_a){var _b=this.getZoom();if(typeof _a=="string"&&_a.charAt(_a.length-1)=="%"){_a=_a.slice(0,_a.length-1);}var _c=this._control_element;if(_c){this._zoomFactor=_a;_c.container_maxwidth=0;_c.container_maxheight=0;_c.setElementScrollMaxSize(0,0);this._client_width=0;this._client_height=0;this._updateClientSize(_c);_c.setZoom(_a);nexacro._applyZoomEdge(_c,_a);var _d=nexacro._current_popups;var _e=_d.length;for(var _f=0;_f<_e;_f++ ){if(this._contains(_d[_f])){_d[_f].parent._applyZoomPopup();}}}return _b;};_pForm.go=function(_a){if(this._url!=_a){if(this._url!=""){var _b=this._on_beforeclose();if(this._checkAndConfirmClose(_b)==false){return;}this._on_close();}this._url=_a;this._base_url=nexacro._getBaseUrl(_a);this._apply_formurl();if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"){if(this.getZoom()!=100){var _c=100;this._zoomFactor=_c;var _d=this._control_element;if(_d){this._updateClientSize(_d);_d.setZoom(_c);nexacro._applyZoomEdge(_d,_c);}}}}};_pForm.hasPopupFrame=function(){return false;};_pForm.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return  -1;}if(!_c){return  -1;}if(this[_b]){return  -1;}_c.parent=this;_c._refform=this;this[_b]=_c;this.all.add_item(_b,_c);_c.id=_b;if(_c._is_component){ret=this.components.insert_item(_a,_b,_c);this._child_list.push(_c);}else if(_c instanceof nexacro.BindItem){ret=this.binds.insert_item(_a,_b,_c);}else{ret=this.objects.insert_item(_a,_b,_c);}return ret;};_pForm.isValidObject=function(_a){if(typeof _a=="string"){if(this[_a]){return true;}}else if(_a instanceof Object){var _b=this.all.length;for(var _c=0;_c<_b;_c++ ){if(this.all[_c]==_a){return true;}}}else{if(nexacro._indexOf(this.all,_a)> -1){return true;}}return false;};_pForm.killTimer=function(_a){this._timerManager.deleteTimer(_a);};_pForm.setTimer=function(_a,_b){var _c=new nexacro.EventTimer(this,_a,_b);_c.start();};_pForm.loadStyle=function(_a,_b){if((typeof (_a)!="string")||_a.length==0){return;}_b=_b==false?false:true;var _c=true;if(_b){_c=false;}this._clearCssInfo(_c);var _d=this._base_url;var _e=[];_e.push(nexacro._getServiceLocation(_a,_d));if(!application.checkversion){_e.push(".js");}var _f=nexacro._getServiceObject(_a);this._load_manager.reloadCssModule(_e.join(""),null,false,_f);this._apply_formstyle(this);};_pForm.reload=function(){var _a=this._getRootWindow();_a._removeFromCurrentFocusPath(this._last_focused,true);var _a=this._getWindow();_a.clearCurrentFocusPaths();this._last_focused=null;this._url=this.parent._formurl;this._base_url=nexacro._getBaseUrl(this._url);if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"){if(this.getZoom()!=100){var _b=100;this._zoomFactor=_b;var _c=this._control_element;if(_c){this._updateClientSize(_c);_c.setZoom(_b);nexacro._applyZoomEdge(_c,_b);}}}this._zoomFactor=100;this._apply_formurl();};_pForm.removeChild=function(_a){if(!_a||_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b._is_component){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)> -1);}if(this._defaultbutton==_b){this._defaultbutton=null;}if(this._escapebutton==_b){this._escapebutton=null;}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._bind_manager){this._bind_manager._dettachSBindItem(_b);}if(this._overedobj==_b){this._overedobj=null;}this.components.delete_item(_a);var _e=nexacro._indexOf(this._child_list,_b);if(_e> -1){this._child_list.splice(_e,1);}if(_c&&this._is_alive){if(_b instanceof nexacro.Form){_b._on_deactivate();}_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;this._on_focus(true);}}else if(_b instanceof nexacro.BindItem){this._bind_manager._setBinditem(_b,true);this.binds.delete_item(_a);}else{this.objects.delete_item(_a);}_b.parent=null;delete this[_a];this.all.delete_item(_a);return _b;};_pForm.setWaitCursor=function(_a,_b){var _c=_a;var _d=_b;if(_c==undefined){_c=true;}if(_d==undefined){_d=false;}if(!_d&&!application.usewaitcursor){return;}var _e=this._getWindow();if(_e){if(_a||nexacro._getLocalStorage("_com_waiting",false)){_e._cancelEvent();}}this._waitCursor(_c,null);};_pForm.sleep=function(_a){nexacro._sleep(_a);};_pForm.transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=this._getWindow();if(_k){var _l=_k._cur_ldown_elem||_k._keydown_element;var _m=_k.findComponent(_l,0,0);if(_m&&_m[0]){var _n=_m[0]._getRootComponent(_m[0]);_n._cancelEvent(_m[0]);}}var _o=nexacro._getServiceLocation(_b,this._base_url);var _p=nexacro._getServiceObject(_b,true);this._load_manager.loadDataModule(_o,_a,_c,_d,_e,_f,_g,_h,_i,_p,_j);};_pForm.cancelTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=0;if(_a!=undefined){var _d=(typeof _a=="string")?_a.split(","):_a;if(_d.length>0){var _e=[];for(var _h=0,_i=_b.length;_h<_i;_h++ ){_e[_h]=_b[_h].url;}var _f=[];for(var _j=0,_i=_e.length;_i>_j;_j++ ){var _g=false;for(var _k=0,_i=_d.length;_i>_k;_k++ ){if(_d[_k]==_e[_j]){_g=true;break;}}if(!_g){_f.push(_e[_j]);}}for(var _j=_f.length-1;_j>=0;_j-- ){for(var _k=_b.length-1;_k>=0;_k-- ){if(_b[_k].url==_f[_j]){_b=nexacro._removedatalist(_b,_k);}}}}}this._stopTransaction(true);};_pForm.updateWindow=function(){};_pForm.getStepCount=function(){var _a=this.stepcontrol;if(_a){return _a.stepcount;}};_pForm.setStepIndex=function(_a){var _b=this.stepcontrol;if(_b){return _b.set_stepindex(_a);}};_pForm.applyChange=function(){var _a=this._last_focused;if(!_a){return;}_a.applyto_bindSource("value",_a.value);var _b=this.binds;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d._comp==_a&&_d.propid=="value"){this._bind_manager._notify(_d);return;}}};_pForm._setFormPosition=function(_a,_b,_c,_d){this._init_width=_c;this._init_height=_d;};_pForm._resetScrollPos=function(_a,_b,_c,_d,_e,_f){if(this._is_frame||!this._control_element){return;}var _g=this.hscrollbar;var _h=this.vscrollbar;var _i,_j;_i=this._client_width;_j=this._client_height;var _k=0;var _l=0;if(_g&&_g.visible){_k=_g.pos;if(_b-_k<_i&&_d-_k>_i){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}else if(_k>_b){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}else if(_b-_k>_i){if(_f==1&&_d-_b>_i){_g.set_pos(_d-_i);}else{_g.set_pos(_b);}}_k=_g.pos;}if(_h&&_h.visible){_l=_h.pos;if(_c-_l<_j&&_e-_l>_j){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}else if(_l>_c){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}else if(_c-_l>_j){if(_f==1&&_e-_c>_j){_h.set_pos(_e-_j);}else{_h.set_pos(_c);}}_l=_h.pos;}_b=this._adjust_left+_b-_k;_c=this._adjust_top+_c-_l;_d=this._adjust_left+_d-_k;_e=this._adjust_top+_e-_l;if(!this._is_popup_control&&this.parent&&this.parent!=this){this.parent._resetScrollPos(this,_b,_c,_d,_e,_f);}};_pForm._setDragMove=function(_a,_b){this._is_track=_a;if(_a&&_b){this._hittest_type="caption";}else{this._hittest_type="none";}if(this._control_element){this._control_element.setElementHittestType(this._hittest_type);}};_pForm._on_starttrack=function(){if(!this._is_alive){return;}var _a=this.getOwnerFrame();if(_a){_a._on_titlebar_starttrack();}};_pForm._on_endtrack=function(_a,_b,_c){if(!this._is_alive){return;}var _d=this.getOwnerFrame();if(_d){_d._on_titlebar_endtrack(_a,_b,_c);}};_pForm._on_movetrack=function(_a,_b,_c,_d,_e){if(!this._is_alive){return;}var _f=this.getOwnerFrame();if(_f){_f._on_titlebar_movetrack(_a,_b,_c,_d,_e);}};_pForm._setSize=function(_a,_b){var _c=this.getElement();var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._adjust_left;var _g=this._adjust_top;if(_d!=_a||_e!=_b){var _h=false;if(_d==0||_e==0){_h=true;}this.width=this._adjust_width=_a;this.height=this._adjust_height=_b;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._layout_list&&this._layout_list.length>0){var _i=this._checkValidLayout();if(_i){_c=_i._form.getElement();if(_c){_c.setElementSize(_a,_b);this._updateClientSize(_c);}}}this.on_update_position(true,false);if(_c&&_h){this.currentstyle._empty();this._control_pseudo="";var _j=this._getResultPseudo(this._status,this._pseudo);this._updateControl(_c,_j);this._updateContents(_c,_j);}}};_pForm._stopTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=this._load_manager.transactionList;var _d=0;var _e=_b.length;var _f=0;while(_d<_b.length){var _g=_b[_d];if(!_g){_d++ ;continue;}var _h=_g._handle;if(!_h){_d++ ;continue;}if(_g._is_cancel||_g._is_process){_d++ ;_e=_b.length;continue;}if(!_a){_h._user_aborted=false;var _i=_c[_d];if(_i){var _j=_i.on_error( -1,"comm_stop_transaction_byesc",nexacro._communicationStatusTable["stop"],"",nexacro.Communication_Error.STOPTRANSACTIONBYESC);if(_j){_g._is_process=true;_h._user_aborted=undefined;_d++ ;continue;}}}_h._user_aborted=true;_g._is_cancel=true;if(nexacro.Browser=="Runtime"){nexacro._cancelLoad(_h);}else{nexacro._cancelLoad(_h);if(_i){_i.on_error(0,"comm_cancel_byuser",499,"",nexacro.Communication_Error.CANCELBYUSER);}}_h=null;_g=null;_f++ ;if(_e==_b.length){_d++ ;}else{_d=0;_e=_b.length;}}return _f;};_pForm._onRecalcScrollSize=function(_a){var _b=this._control_element;if(this._is_scrollable&&_b){var _c=false;var _d=0,_e=0;if(!_a){var _f=this.components;var _g=this.getZoom()/100;var _h=this._client_width/_g;var _i=this._client_height/_g;for(var _t=0,_u=_f.length;_t<_u;_t++ ){var _j=_f[_t];if(_j&&_j.visible){var _k=_j.getOffsetRight();var _l=_j.getOffsetBottom();var _m=1;if(_j.right){var _n=_j.right;if(typeof (_n)=="string"&&_n.indexOf("%")>=0){if(parseFloat(_n)>=0){_m=0;}}else{if(parseInt(_n)>=0){_m=0;}}}if(_m||_d<_k){_d=Math.max(_d,_k);}var _o=1;if(_j.bottom){var _n=_j.bottom;if(typeof (_n)=="string"&&_n.indexOf("%")>=0){if(parseFloat(_n)>=0){_o=0;}}else{if(parseInt(_n)>=0){_o=0;}}}if(_o||_e<_l){_e=Math.max(_e,_l);}}}if(_h||_i){if(_h<= -1){_d= -1;}if(_i<= -1){_e= -1;}}_b.setElementScrollMaxSize(_d,_e);}else if(_a.visible){var _p=_b.container_maxwidth;var _q=_b.container_maxheight;var _r=_a.getOffsetRight();var _s=_a.getOffsetBottom();if(_p<_r||_q<_s){_d=Math.max(_p,_r);_e=Math.max(_q,_s);_c=_b.setElementScrollMaxSize(_d,_e);}}}};_pForm._calcScrollMaxSize=function(){var _a=this._control_element;if(this._is_scrollable&&_a){var _b=0,_c=0;var _d=this.components;for(var _g=0,_h=_d.length;_g<_h;_g++ ){var _e=_d[_g];if(_e&&_e.visible){var _f=_e._getFixedOffsetValue();_b=Math.max(_b,_f.right);_c=Math.max(_c,_f.bottom);}}return {w:_b,h:_c};}return {w: -1,h: -1};};_pForm._dragEnd=function(_a){var _b=this.getElement();if(_b){var _c=this.stepcontrol;if(_c){var _d=_b._step_count;var _e=_b._step_index;var _f=_a.direction;if(_d>0){var _g= -1;if(_f=="L"){_g=_e+1;}else if(_f=="R"){_g=_e-1;}if(_g<0||_g>=_d){return;}_c.set_stepindex(_g);}}}};_pForm._getDefaultButton=function(){var _a=this.components;if(_a){var _b;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b._is_form){var _c=_b._getDefaultButton();if(_c){return _c;}}else if(nexacro._toBoolean(_b.defaultbutton)){return _b;}}}return null;};_pForm._getEscapeButton=function(){var _a=this.components;if(_a){var _b;for(var _d=0,_e=_a.length;_d<_e;_d++ ){_b=_a[_d];if(_b._is_form){var _c=_b._getEscapeButton();if(_c){return _c;}}else if(nexacro._toBoolean(_b.escapebutton)){return _b;}}}return null;};_pForm._apply_formurl=function(){this._clear();if(this._url){this.loadForm(this._url,true,true);this.set_visible(true);}};_pForm._apply_formstyle=function(_a){var _b=_a.components;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c){_c.currentstyle._empty();_c._control_pseudo="";_c._contents_pseudo="";_c._css_finder=null;_c._ref_css_finder=null;if(_c._is_form){_c.on_apply_pseudo("");this._apply_formstyle(_c);}else{_c.on_apply_pseudo("");_c.on_apply_custom_class();}}}if(this.vscrollbar){this.vscrollbar.on_apply_prop_class();}if(this.hscrollbar){this.hscrollbar.on_apply_prop_class();}this._onResetScrollBar();this._control_pseudo="";this._contents_pseudo="";this.on_apply_pseudo("");};_pForm._apply_stepcount=function(){var _a=this.stepcontrol;if(_a){this._on_prepare_stepcontents(_a._prestepcount,_a._prestepindex,_a.stepcount,_a.stepindex);this._on_refresh_stepcontents(_a._prestepcount,_a._prestepindex,_a.stepcount,_a.stepindex);}};_pForm._getAccessibilityWholeReadLabel=function(){var _a="";var _b=this._getSortedDecendants(this,true,true);for(var _d=0,_e=_b.length;_d<_e;_d++ ){comp=_b[_d];if(comp._isAccessibilityEnable()){var _c=comp._getAccessibilityReadLabel(true);if(_c){_c.trim();if(_c&&_c.length>0){_a+=_c+" ";}}}}return _a;};_pForm._playAccessibilityWholeReadLabel=function(_a){var _b=this.getElement();if(_b){var _c=this._getAccessibilityWholeReadLabel();_b.notifyAccessibility(_c,_a);}};delete _pForm;}