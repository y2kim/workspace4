if(!nexacro._bInitPlatform){nexacro._bInitPlatform=true;nexacro.isDesignMode=false;nexacro.isPluginMode=nexacro._isPluginMode();nexacro._initializeGlobalObjects=function(_a){_a.emptyFn=nexacro._emptyFn;_a.isNumber=nexacro._isNumber;_a.isString=nexacro._isString;_a.isUndefined=nexacro._isUndefined;_a.isObject=nexacro._isObject;_a.isArray=nexacro._isArray;_a.isFunction=nexacro._isFunction;_a.MainFrame=nexacro.MainFrame;_a.ChildFrame=nexacro.ChildFrame;_a.FrameSet=nexacro.FrameSet;_a.VFrameSet=nexacro.VFrameSet;_a.HFrameSet=nexacro.HFrameSet;_a.TileFrameSet=nexacro.TileFrameSet;_a.Form=nexacro.Form;_a.Layout=nexacro.Layout;_a.BindItem=nexacro.BindItem;_a.ActiveX=nexacro.ActiveX;_a.AppletComp=nexacro.AppletComp;_a.FlashPlayer=nexacro.FlashPlayer;_a.BindItem=nexacro.BindItem;_a.Button=nexacro.Button;_a.Calendar=nexacro.Calendar;_a.Combo=nexacro.Combo;_a.CheckBox=nexacro.CheckBox;_a.Div=nexacro.Div;_a.Dataset=nexacro.NormalDataset;_a.Edit=nexacro.Edit;_a.FileDownload=nexacro.FileDownload;_a.FileUpload=nexacro.FileUpload;_a.Grid=nexacro.Grid;_a.GroupBox=nexacro.GroupBox;_a.ImageViewer=nexacro.ImageViewer;_a.ExcelImportObject=nexacro.ExcelImportObject;_a.ListBox=nexacro.ListBox;_a.MaskEdit=nexacro.MaskEdit;_a.TextArea=nexacro.TextArea;_a.Radio=nexacro.Radio;_a.Spin=nexacro.Spin;_a.Static=nexacro.Static;_a.ExcelExportObject=nexacro.ExcelExportObject;_a.ExportItem=nexacro.ExportItem;_a.ExportProgress=nexacro.ExportProgress;_a.Menu=nexacro.Menu;_a.PopupMenu=nexacro.PopupMenu;_a.Tab=nexacro.Tab;_a.Tabpage=nexacro.Tabpage;_a.TabComponent=nexacro.TabComponent;_a.ProgressBar=nexacro.ProgressBar;_a.PopupDiv=nexacro.PopupDiv;_a.WebBrowser=nexacro.WebBrowser;_a.DomParser=nexacro.DomParser;_a.ColumnInfo=nexacro.DSColumnInfo;_a.Plugin=nexacro.Plugin;_a.Tray=nexacro.Tray;_a.TrayPopupMenu=nexacro.TrayPopupMenu;_a.DragDataFormats=nexacro.DragDataFormats;_a.DragDataObject=nexacro.DragDataObject;_a.TCPClientSocket=nexacro.TCPClientSocket;};nexacro._finalizeGlobalObjects=function(_a){_a.emptyFn=null;_a.isNumber=null;_a.isString=null;_a.isUndefined=null;_a.isObject=null;_a.isArray=null;_a.isFunction=null;_a.MainFrame=null;_a.ChildFrame=null;_a.FrameSet=null;_a.VFrameSet=null;_a.HFrameSet=null;_a.TileFrameSet=null;_a.Form=null;_a.Layout=null;_a.BindItem=null;_a.ActiveX=null;_a.AppletComp=null;_a.FlashPlayer=null;_a.BindItem=null;_a.Button=null;_a.Calendar=null;_a.Combo=null;_a.CheckBox=null;_a.Div=null;_a.Dataset=null;_a.Edit=null;_a.FileDownload=null;_a.FileUpload=null;_a.Grid=null;_a.GroupBox=null;_a.ImageViewer=null;_a.ListBox=null;_a.MaskEdit=null;_a.TextArea=null;_a.Radio=null;_a.Spin=null;_a.Static=null;_a.ExcelExportObject=null;_a.ExportItem=null;_a.ExportProgress=null;_a.Menu=null;_a.PopupMenu=null;_a.Tab=null;_a.Tabpage=null;_a.TabComponent=null;_a.ProgressBar=null;_a.PopupDiv=null;_a.WebBrowser=null;_a.DomParser=null;_a.ColumnInfo=null;_a.GridClickEventInfo=null;_a.TextChangedEventInfo=null;};nexacro.System={};nexacro.System.screenToClientX=function(_a,_b){if(_a._control_element){var _c=nexacro._getElementScreenPosition(_a._control_element);return _b-_c.x;}};nexacro.System.screenToClientY=function(_a,_b){if(_a._control_element){var _c=nexacro._getElementScreenPosition(_a._control_element);return _b-_c.y;}};nexacro.System.clientToScreenX=function(_a,_b){if(_a._control_element){var _c=nexacro._getElementScreenPosition(_a._control_element);return _b+_c.x;}};nexacro.System.clientToScreenY=function(_a,_b){if(_a._control_element){var _c=nexacro._getElementScreenPosition(_a._control_element);return _b+_c.y;}};nexacro.System.makeCall=function(_a,_b){};nexacro.System.play=function(_a){};nexacro.System.getPackageVersion=function(){};nexacro.System.convertRealPath=function(_a){return nexacro._convertRealPath(_a);};nexacro.System.execBrowser=function(_a){nexacro._execBrowser(_a);};nexacro.System.execShell=function(_a){nexacro._execShell(_a);};nexacro.System.execNexacro=function(_a){nexacro._execNexacro(_a);};nexacro.System.setClipboard=function(_a,_b){return nexacro._setClipboard(_a,_b);};nexacro.System.getClipboard=function(_a){return nexacro._getClipboard(_a);};nexacro.System.clearClipboard=function(){nexacro._clearClipboard();};nexacro.System.getScreenResolution=function(_a){var _b="";if(_a){var _c=nexacro._getScreenWidth(_a);var _d=nexacro._getScreenHeight(_a);_b=_c+" "+_d;return _b;}};nexacro.System.getScreenRect=function(_a){var _b="";if(_a){return nexacro._getScreenRect(_a);}};nexacro.System.showModalSync=function(_a,_b,_c,_d,_e){return nexacro._showModalSync(_a,_b,_c,_d,_e);};nexacro.System.showModalWindow=function(_a,_b,_c,_d,_e){return nexacro._showModalWindow(_a,_b,_c,_d,_e);};nexacro.System.attachChildFrame=function(_a,_b,_c,_d,_e,_f){return nexacro._attachChildFrame(_a,_b,_c,_d,_e,_f);};nexacro.System.isPrimaryMonitor=function(_a){if(_a){return nexacro._isPrimaryMonitor(_a);}};nexacro.System.getMonitorIndex=function(_a,_b){return nexacro._getMonitorIndex(_a,_b);};nexacro.System.getCursorX=function(_a){return nexacro._getCursorX(_a);};nexacro.System.getCursorY=function(_a){return nexacro._getCursorY(_a);};nexacro.System.getScreenHeight=function(_a){return nexacro._getScreenHeight(_a);};nexacro.System.getScreenWidth=function(_a){return nexacro._getScreenWidth(_a);};nexacro.System._getMobileOrientation=function(){var _a=nexacro._getMobileOrientation();switch(_a){case 0:{return "Portrait";}break;case 1:{return "ReversePortrait";}break;case 2:{return "LandscapeLeft";}break;case 3:{return "LandscapeRight";}break;default:{return "resize";}break;}};nexacro.System.getUserAppPath=function(){return nexacro._getUserAppPath();};nexacro.System._os==nexacro.OS;nexacro.System.computername=nexacro._getComputerName();nexacro.System.cpuarchitecture=nexacro._getCPUArchitecture();nexacro.System.cpucount=nexacro._getCPUCount();nexacro.System.cputype=nexacro._getCPUType();nexacro.System.locale=nexacro._getLocale();nexacro.System.loginuser=nexacro._getLoginUser();nexacro.System.mobileorientation=nexacro.System._getMobileOrientation();nexacro.System.mobilephonenumber=nexacro._getMobilePhoneNumber();nexacro.System.mobileproducttype=nexacro._getMobileProductType();nexacro.System.mobileuniqueid=nexacro._getMobileUniqueID();nexacro.System.monitorcount=nexacro._getMonitorCount();nexacro.System.navigatorname=nexacro._getNavigatorName();nexacro.System.navigatorversion=nexacro.BrowserVersion;nexacro.System.osversion=nexacro._getOSVersion();nexacro.System.taskbarsize=nexacro._getTaskbarSize();nexacro.System._language=nexacro._getLanguage();nexacro.System.notificationtoken=null;nexacro.System._accessibilitytype=null;nexacro.System._accessibilitystatus=nexacro._getAccessibilityStatus();nexacro.System.displayscale=nexacro._getDisplayScale();nexacro.System.print=function(_a,_b,_c,_d,_e){nexacro._beforePrintCheckPlugin(_a,_a._refform,_b,_c,_d,_e);};nexacro.System._setNotificationToken=function(_a){nexacro.System.notificationtoken=_a;};nexacro.System.setAccessibilityType=function(_a){nexacro.System._accessibilitytype=_a;};nexacro.System.getAccessibilityType=function(){return nexacro.System._accessibilitytype;};nexacro.System.releaseImage=nexacro._emptyFn;nexacro.TimerManager=function(_a){this.context=_a;this.status=0;this.timerList=[];};var _pTimerManager=nexacro._createPrototype(nexacro.Object,nexacro.TimerManager);nexacro.TimerManager.prototype=_pTimerManager;_pTimerManager.addTimer=function(_a){var _b=this.timerList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.id==_a.id){_d.destroy();_b.splice(_e,1);break;}}_b.push(_a);};_pTimerManager.stopTimer=function(_a){var _b=this.timerList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.id==_a){_d.stop();return true;}}return false;};_pTimerManager.startTimer=function(_a){var _b=this.timerList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.id==_a){_d.start();return true;}}return false;};_pTimerManager.deleteTimer=function(_a){var _b=this.timerList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.id==_a){_d.destroy();_b.splice(_e,1);return true;}}return false;};_pTimerManager.deleteTimerItem=function(_a){var _b=this.timerList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d==_a){_d.destroy();_b.splice(_e,1);return true;}}return false;};_pTimerManager.clearAll=function(){var _a=this.timerList;var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];_c.destroy();}_a.splice(0,_b);};_pTimerManager.destroy=function(){this.clearAll();this.context=null;};delete _pTimerManager;nexacro._on_bindEventTimerHandler=function(_a,_b){return function(){var _c=_a;if(_c&&_c._is_alive&&_c.ontimer&&_c.ontimer._has_handlers){var _d=new nexacro.TimerEventInfo(_c,"ontimer",_b);_c.ontimer._fireEvent(_c,_d);}};};nexacro.EventTimer=function(_a,_b,_c){this.id=_b;this.context=_a._getReferenceContext();this.interval=(_c|0);this._handle=null;this._ontimer=nexacro._on_bindEventTimerHandler(this.context,_b);this.context._timerManager.addTimer(this);};var _pEventTimer=nexacro._createPrototype(nexacro.Object,nexacro.EventTimer);nexacro.EventTimer.prototype=_pEventTimer;_pEventTimer.setInterval=function(_a){if(this._handle){this.stop();}this.interval=_a;};_pEventTimer.start=function(){if(this._handle){this.stop();}this._handle=nexacro._setSystemTimer(this.context._getWindowHandle(),this._ontimer,this.interval);};_pEventTimer.stop=function(){if(this._handle){nexacro._clearSystemTimer(this.context._getWindowHandle(),this._handle);this._handle=null;}};_pEventTimer.destroy=function(){this.stop();this.context=null;this._ontimer=null;};delete _pEventTimer;nexacro.DelayTask=function(_a,_b,_c){this.context=_a._getReferenceContext();this._handle=null;var _d=this.context._getWindowHandle();this._call=this.createDelayFunc(_b,_c,_a,_d,this);};var _pDelayTask=nexacro._createPrototype(nexacro.Object,nexacro.DelayTask);nexacro.DelayTask.prototype=_pDelayTask;_pDelayTask.createDelayFunc=function(_a,_b,_c,_d,_e){var _f,_g,_h,_i=function(){_e.stop();_a.apply(_c,_h);_f=new Date().getTime();};return function(){_h=arguments;_g=new Date().getTime()-_f;if(_e._handle){nexacro._clearSystemTimer(_d,_e._handle);_e._handle=null;}if(!_f||(_g>=_b)){_i();}else{_e._handle=nexacro._setSystemTimer(_d,_i,_b-_g);}};};_pDelayTask.run=function(){this._call.apply(null,arguments);};_pDelayTask.stop=function(){if(this._handle){nexacro._clearSystemTimer(this.context._getWindowHandle(),this._handle);this._handle=null;}};_pDelayTask.destroy=function(){this.stop();this.context=null;this._call=null;};delete _pDelayTask;nexacro._CallbackTimerIdNo=1000;nexacro._on_bindCallbackTimerHandler=function(_a){return function(){var _b=_a.target;if(_b&&_b._is_alive){_a.callback.call(_b);}};};nexacro.CallbackTimer=function(_a,_b,_c){var _d=nexacro._CallbackTimerIdNo;nexacro._CallbackTimerIdNo++ ;this.id=_d;this.target=_a;this.context=_a._getReferenceContext();this.callback=_b;this.interval=(_c|0);this._handle=null;this._ontimer=nexacro._on_bindCallbackTimerHandler(this,_b);this.context._timerManager.addTimer(this);};var _pCallbackTimer=nexacro._createPrototype(nexacro.Object,nexacro.CallbackTimer);nexacro.CallbackTimer.prototype=_pCallbackTimer;_pCallbackTimer.setInterval=function(_a){if(this._handle){this.stop();}this.interval=_a;};_pCallbackTimer.start=function(){if(this._handle){this.stop();}this._handle=nexacro._setSystemTimer(this.context._getWindowHandle(),this._ontimer,this.interval);};_pCallbackTimer.stop=function(){if(this._handle){nexacro._clearSystemTimer(this.context._getWindowHandle(),this._handle);this._handle=null;}};_pCallbackTimer.destroy=function(){this.stop();this.target=null;this.context=null;this._ontimer=null;};delete _pCallbackTimer;nexacro._on_bindOnceCallbackTimerHandler=function(_a){return function(){if(_a){var _b=_a.target;if(_b&&_b._is_alive){_a.callback.call(_b);}if(_a.context&&_a.context._timerManager&&!_a.context._timerManager.deleteTimerItem(_a)){_a.destroy();}_a=null;}};};nexacro.OnceCallbackTimer=function(_a,_b,_c){var _d=nexacro._CallbackTimerIdNo;nexacro._CallbackTimerIdNo++ ;this.id=_d;this.target=_a;this.context=_a._getReferenceContext();this.callback=_b;this.interval=(_c|0);this._handle=null;this._ontimer=nexacro._on_bindOnceCallbackTimerHandler(this);this.context._timerManager.addTimer(this);};var _pOnceCallbackTimer=nexacro._createPrototype(nexacro.Object,nexacro.OnceCallbackTimer);nexacro.OnceCallbackTimer.prototype=_pOnceCallbackTimer;_pOnceCallbackTimer.setInterval=function(_a){if(this._handle){this.stop();}this.interval=_a;};_pOnceCallbackTimer.start=function(){if(this._handle){this.stop();}this._handle=nexacro._setSystemTimer(this.context._getWindowHandle(),this._ontimer,this.interval);};_pOnceCallbackTimer.stop=function(){if(this._handle){nexacro._clearSystemTimer(this.context._getWindowHandle(),this._handle);this._handle=null;}};_pOnceCallbackTimer.destroy=function(){this.stop();this.target=null;this.context=null;this._ontimer=null;};nexacro.OnceCallbackTimer.callonce=function(_a,_b,_c){var _d=new nexacro.OnceCallbackTimer(_a,_b,_c);_d.start();return _d;};delete _pOnceCallbackTimer;nexacro.AnimationFrame=function(_a,_b){this._comp=_a;this._window=_a._getWindow();this.callback=_b;this._timer_interval=15;this._timer=null;};var _pAnimationFrame=nexacro._createPrototype(nexacro.Object,nexacro.AnimationFrame);nexacro.AnimationFrame.prototype=_pAnimationFrame;_pAnimationFrame.start=function(){if(nexacro.SupportAnimationFrame){this.id=nexacro._requestAnimationFrame(this._window,this.callback);}else{this._timer=new nexacro.OnceCallbackTimer(this._comp,this.callback,this._timer_interval);this._timer.start();}};_pAnimationFrame.stop=function(){if(nexacro.SupportAnimationFrame){nexacro._cancelAnimationFrame(this._window,this.id);}else{if(this._timer){this._timer.stop();}}};_pAnimationFrame.destroy=function(){this.stop();this._comp=null;this._window=null;this.callback=null;};delete _pAnimationFrame;nexacro.LoadItem=function(_a,_b){this.url=_a;this.type=_b;this.errorcode=0;this.module=null;this.data=null;this.targets=[];this._handle=null;this._bLoaded=false;this._context_callback=null;this._requrl=_a;this._is_cancel=false;this._is_process=false;};var _pLoadItem=nexacro._createPrototype(nexacro.Object,nexacro.LoadItem);nexacro.LoadItem.prototype=_pLoadItem;_pLoadItem.addTarget=function(_a){var _b=this.targets;if(nexacro._indexOf(_b,_a)<0){_b.push(_a);return true;}return false;};_pLoadItem.deleteTarget=function(_a){var _b=this.targets;var _c=nexacro._indexOf(_b,_a);if(_c>=0){_b.splice(_c,1);return true;}return false;};_pLoadItem.destroy=function(){this.targets=null;this._handle=null;this._context_callback=null;};delete _pLoadItem;nexacro.LoadManager=function(_a){this.context=_a;this.status=0;this.main_url="";this.globalCnt=0;this.globalList=[];this.localCnt=0;this.localList=[];this.preloadCnt=0;this.preloadList=[];this.dataCnt=0;this.dataList=[];this.updateList=[];this.updateCnt=0;this.childlocalCnt=0;this.transactionList=[];this._main_handle=null;this._is_mainloaded=false;};var _pLoadManager=nexacro._createPrototype(nexacro.Object,nexacro.LoadManager);nexacro.LoadManager.prototype=_pLoadManager;_pLoadManager.getGlobalItem=function(_a){var _b=this.globalList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.url==_a){return _d;}}return null;};_pLoadManager.getLocalItem=function(_a){var _b=this.localList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.url==_a){return _d;}}return null;};_pLoadManager.getDataItem=function(_a){var _b=this.dataList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.url==_a){return _d;}}return null;};_pLoadManager.getUpdateItem=function(_a){var _b=this.updateList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.url==_a){return _d;}}return null;};_pLoadManager.getTransactionItem=function(_a){var _b=this.transactionList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.url==_a){return _d;}}return null;};_pLoadManager.removeTransactionItem=function(_a){var _b=this.transactionList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.svcid==_a){_b.splice(_e,1);break;}}};_pLoadManager.removeDataItem=function(_a){var _b=this.dataList;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d.url==_a){_b.splice(_e,1);break;}}};_pLoadManager.getPreloadItem=function(_a,_b){var _c=this.preloadList;var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e.type==_a&&_e.url==_b){return _e;}}return null;};_pLoadManager.addPreloadItem=function(_a,_b,_c,_d,_e,_f){if(_a=="data"){var _g="__preload_"+((typeof _c)=="string"?_c:_c.id);this.loadPreloadDataModule(_b,_c,false,true,_g,_d,_e);}else{this.loadPreloadJSModule(_b,_c,true,_f,_e);}};_pLoadManager.loadMainModule=function(_a,_b,_c,_d,_e){if(_b==null){_b=false;}if(_c==null){_c=true;}if(_d==null){_d=false;}if(_d==true||this.main_url!=_a){if(this._main_handle){nexacro._cancelLoad(this._main_handle);this.main_handle=null;}this.main_url=_a;this.status=1;var _f=(this.context)?this.context.getParentContext():null;var _g=0;while(_f){_g=_f._load_manager.getPreloadJSModule(_a,this.context);if(_g==0){_f=_f.getParentContext();}else{break;}}if(_g==0){this._main_handle=nexacro._loadJSModule(_a,this,this.on_load_main,_b,_e,_c);}else{return _g;}}};_pLoadManager.loadGlobalModule=function(_a,_b,_c){if(_b==null){_b=true;}if(this.status<7){var _d=this.getGlobalItem(_a);if(!_d){_d=new nexacro.LoadItem(_a,"globalmodule",null);this.globalList.push(_d);this.globalCnt++ ;_d._handle=nexacro._loadJSText(_a,this,this.on_load_globalmodule,_c,_b);}}};_pLoadManager.loadUpdateModule=function(_a,_b,_c,_d,_e,_f,_g){if(this.status<7){var _h=this.getUpdateItem(_a);if(!_h){_h=new nexacro.LoadItem(_a,_b,null);_h._targetpath=_c;_h._ref=_d;_h._ver=_e;_h._failpass=_f;this.updateList.push(_h);this.updateCnt++ ;_h._handle=nexacro._loadUpdateModule(_a,this,this.on_load_updatemodule,_g,true,_b,_c,_d,_e,_f);}}};_pLoadManager.loadIncludeModule=function(_a,_b,_c,_d){if(_b==null){_b=true;}if(_c==null){_c=true;}if(this.status<7){var _e=this.getLocalItem(_a);if(!_e){_e=new nexacro.LoadItem(_a,"include",this.context);this.localList.push(_e);this.localCnt++ ;_e._handle=nexacro._loadJSModule(_a,this,this.on_load_localmodule,_b,_d,_c);if(!_e._bLoaded){var _f=this.context.getParentContext();while(_f&&_f._load_manager.status!=7){_f._load_manager.childlocalCnt++ ;_f._load_manager.preloadCnt++ ;_f=_f.getParentContext();}}}}};_pLoadManager.loadCssModule=function(_a,_b,_c,_d){if(_b==null){_b=true;}if(_c==null){_c=true;}if(this.status<7){var _e=this.getLocalItem(_a);if(!_e){_e=new nexacro.LoadItem(_a,"css",this.context);this.localList.push(_e);this.localCnt++ ;_e._handle=nexacro._loadJSModule(_a,this,this.on_load_localmodule,_b,_d,_c);}}};_pLoadManager.loadPreloadJSModule=function(_a,_b,_c,_d,_e){if(_c==null){_c=false;}if(_d==null){_d=true;}var _f=false;if(this.status<6){var _g=this.getPreloadItem("fdl",_a);if(_g&&_b){if(_g.addTarget(_b)&&!_g._bLoaded){this.preloadCnt++ ;var _h=this.context.getParentContext();while(_h){if(!_h._is_created){_h._load_manager.preloadCnt++ ;}_h=_h.getParentContext();}_f=true;}}else{_g=new nexacro.LoadItem(_a,"fdl");if(_b&&_g.addTarget(_b)){this.preloadCnt++ ;var _h=this.context.getParentContext();while(_h){if(!_h._is_created){_h._load_manager.preloadCnt++ ;}_h=_h.getParentContext();}_f=true;this.preloadList.push(_g);_g._handle=nexacro._loadJSModule(_a,this,this.on_load_preloadjsmodule,_c,_e,_d);}}}};_pLoadManager.loadPreloadDataModule=function(_a,_b,_c,_d,_e,_f,_g){if(nexacro.isDesignMode){return;}var _h=false;if(this.status<6){var _i=this.getPreloadItem("data",_e);if(_i&&_b){if(_i.addTarget(_b)){}{this.preloadCnt++ ;_h=true;}}else{var _j="";if(this.context){_j=this.context._url;}_i=new nexacro.LoadItem(_e,"data");_i._requrl=_a;if(_b&&_i.addTarget(_b)){}{this.preloadCnt++ ;_h=true;this.preloadList.push(_i);_i._handle=nexacro._preloadData(_a,this,this.on_load_preloaddatamodule,_g,_e,_j,_f,true,0,false);}}}};_pLoadManager.loadDataModule=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(_g==null){_g=true;}var _l=this.getDataItem(_b);if(!_l){_l=new nexacro.LoadItem(_b,"data",this.context);_l._requrl=_a;this.dataList.push(_l);this.dataCnt++ ;_l._context_callback=_f;_l._handle=nexacro._loadData(_a,this,this.on_load_datamodule,_j,this.context,_b,_c,_d,_e,_g,_h,_i,_k);}else{application._onHttpSystemError(this.context,true,this.context,"comm_fail_duplication_svcid",_b,499,_a,null,nexacro.Communication_Error.DUPLICATIONSVCID);}};_pLoadManager.reloadCssModule=function(_a,_b,_c,_d){var _e=new nexacro.LoadItem(_a,"css",this.context);this.localList.push(_e);if(this.status<7){_e._handle=nexacro._loadJSModule(_a,this,this.on_load_localmodule,true,_d,true);}else{_e._handle=nexacro._loadJSModule(_a,this,this.on_reload_css,true,_d,_c);}};_pLoadManager.on_load_main=function(_a,_b,_c,_d,_e,_f,_g){if(_a==this.main_url){this.status=2;this._main_handle=null;this._is_mainloaded=false;if(_b==0&&_c&&typeof (_c)=="function"){if(_c.bcache){var _h=_c.refs|0;_c.refs= ++_h;}_c.call(this.context);if(this.context&&this.context!=application&&this.context.parent&&this.context.parent._is_frame){var _i=this.context.parent;_i._is_loadform_failed=false;}}else{if(this.context==application){application._onHttpSystemError(this.context,true,this.context,"comm_fail_loadinvalidurl",_a,_e,_f,_g,nexacro.Communication_Error.INVALIDURL);return;}else{if(this.context&&this.context.parent&&this.context.parent._is_frame){var _i=this.context.parent;_i._on_loadform_failed();}application._onHttpSystemError(this.context,true,this.context,_d,_a,_e,_f,_g);}}if(_e!="404"){if(_e!= -1){this._is_mainloaded=true;this._check_fire_oninit();}}}};_pLoadManager.on_load_globalmodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getGlobalItem(_a);if(_h){_h._handle=null;if(_b==0){if(_c!=""){_h.data=_c;}}else{_h.errcode=_b;application._onHttpSystemError(this.context,true,this.context,_d,_a,_e,_f,_g);}this.globalCnt-- ;this._check_fire_oninit();}};_pLoadManager.on_load_updatemodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getUpdateItem(_a);if(_h){_h._handle=null;if(_b!=0){_h.errcode=_b;application._onHttpSystemError(this.context,true,this.context,_d,_a,_e,_f,_g);}this.updateCnt-- ;this._check_fire_oninit();}};_pLoadManager.on_load_localmodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getLocalItem(_a);if(_h){var _i=_h._handle;_h._handle=null;if(_b==0&&_c&&typeof (_c)=="function"){if(_h.type=="include"){_h._bLoaded=true;if(_c.bcache){var _j=_c.refs|0;_c.refs= ++_j;}_c.call(this.context,_h.url);_h.module=null;}else{_h.module=_c;}}else{_h.errcode=_b;application._onHttpSystemError(this.context,true,this.context,_d,_a,_e,_f,_g);}this.localCnt-- ;this._check_fire_oninit();var _k=(this.context)?this.context.getParentContext():null;while(_k&&_k._load_manager.childlocalCnt>0){_k._load_manager.childlocalCnt-- ;_k._load_manager.preloadCnt-- ;_k._load_manager._check_fire_onload();_k=_k.getParentContext();}return;}};_pLoadManager.on_load_preloadjsmodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getPreloadItem("fdl",_a);if(_h){_h.errcode=_b;_h.module=_c;_h._handle=null;_h._bLoaded=true;var _i=_h.targets;var _j=_i.length;if(_j>0){for(var _m=0;_m<_j;_m++ ){if(this.context.components){var _k=_i[_m];if((typeof _k)=="string"){_k=this.context.components[_k];}if(_k){_k._load_manager.on_load_main(_a,_b,_c,_d,_e,_f,_g);}}}_i.splice(0,_j);this.preloadCnt-=_j;this._check_fire_onload();if(this.context){var _l=this.context.getParentContext();while(_l&&_l._load_manager.preloadCnt>0){_l._load_manager.preloadCnt-=_j;_l._load_manager._check_fire_onload();_l=_l.getParentContext();}}}}};_pLoadManager.on_load_preloaddatamodule=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getPreloadItem("data",_a);if(_h){_h.errcode=_b;_h.data=_c;_h._handle=null;_h._bLoaded=true;var _i=_h.targets;var _j=_i.length;if(_j>0){for(var _l=0;_l<_j;_l++ ){if(this.context.all){var _k=_i[_l];if((typeof _k)=="string"){_k=this.context.all[_k];}if(_k&&_k.on_preload_data){_k.on_preload_data(_h._requrl,_b,_c,_d,_e,_f,_g);}}}_i.splice(0,_j);this.preloadCnt-=_j;}this._check_fire_onload();}};_pLoadManager.on_load_datamodule=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=this.getDataItem(_a);if(_i){var _j=_i._context_callback;var _k=this.context[_j];var _l=false;if(_b<0&&_d){_i.errcode=_b;if(_d!="comm_cancel_byuser"||_d!="comm_stop_transaction_byesc"||_i._is_cancel||!_i._handle||(_i._handle&&!_i._handle._user_aborted&&_i._handle._user_aborted!==undefined)){_l=application._onHttpSystemError(this.context,true,this.context,_d,_f,_e,_f,_g,_h);if(_d!="comm_cancel_byuser"&&_d!="comm_stop_transaction_byesc"){_l=false;}if(_l){return true;}}}if(_d=="comm_cancel_byuser"||_d=="comm_stop_transaction_byesc"){if(_l&&_i._handle&&!_i._handle._user_aborted&&_i._handle._user_aborted!==undefined){return _l;}if(_i._is_cancel!==undefined&&!_i._is_cancel){return _l;}}this.removeDataItem(_a);this.removeTransactionItem(_a);this.dataCnt-- ;if(_k&&typeof (_k)=="function"){try{_k.call(this.context,_a,_b,_c);if(_b==0){_i._handle=null;}}catch(e){if(e.obj){application._onSystemError(e.obj,e.name,e.message);}else{var _m=nexacro._getExceptionMessage(e);application._onSystemError(application,e.name,_m);}}}return _l;}};_pLoadManager.on_reload_css=function(_a,_b,_c,_d,_e,_f,_g){var _h=this.getLocalItem(_a);if(_h){var _i=_h._handle;_h._handle=null;if(_b==0&&_c&&typeof (_c)=="function"){_h._bLoaded=true;if(_c.bcache){var _j=_c.refs|0;_c.refs= ++_j;}_c.call(this.context,_h.url);_h.module=null;}else{_h.errcode=_b;application._onHttpSystemError(this.context,true,this.context,_d,_a,_e,_f,_g);}return;}};_pLoadManager.getPreloadJSModule=function(_a,_b){var _c=this.getPreloadItem("fdl",_a);if(_c){if(_c._bLoaded){_b._load_manager.on_load_main(_a,_c.errcode,_c.module);return 2;}else{if(_c.addTarget(_b)){this.preloadCnt++ ;var _d=this.context.getParentContext();while(_d&&_d._load_manager.status<6){_d._load_manager.preloadCnt++ ;_d=_d.getParentContext();}}return 1;}}return 0;};_pLoadManager.getPreloadDataModule=function(_a){var _b="__preload_"+_a;var _c=this.getPreloadItem("data",_b);if(_c&&_c._bLoaded){return _c.data;}};_pLoadManager.on_child_load_completed=function(_a,_b){var _c=this.getPreloadItem("fdl",_a);if(_c){if(preloads.deleteTarget(_b)){this.preloadCnt-- ;this.context._check_fire_onload();}}};_pLoadManager._check_fire_oninit=function(){if(this.status<2||!this._is_mainloaded){return false;}if(this.status==2){if(this.updateCnt>0){return false;}else{var _a=this.updateList.length;for(var _d=0;_d<_a;_d++ ){var _b=this.updateList[_d];if(_b._bLoaded==false){_b._bLoaded=true;if(_b.errorcode>=0){nexacro._completedUpdateResource(_b.data,_b.url,_b._type,_b._targetpath,_b._ref,_b._failpass,_d,_a);_b.data=null;}}}this.status=3;}}if(this.status==3){if(this.globalCnt>0){return false;}else{var _a=this.globalList.length;for(var _d=0;_d<_a;_d++ ){var _b=this.globalList[_d];if(_b._bLoaded==false){_b._bLoaded=true;if(_b.errorcode>=0){nexacro._executeScript(_b.data,_b.url);_b.data=null;}}}this.status=4;}}if(this.status==4){if(this.localCnt>0){return false;}else{var _a=this.localList.length;for(var _d=0;_d<_a;_d++ ){var _b=this.localList[_d];if(_b._bLoaded==false){_b._bLoaded=true;if(_b.errorcode>=0){if(_b.type!="include"&&_b.module){if(_b.module.bcache){var _c=_b.module.refs|0;_b.module.refs= ++_c;}_b.module.call(this.context);}_b.module=null;}}}this.status=5;}}if(this.status==5&&this.context){this.context._on_init();this._check_fire_onload();}};_pLoadManager._check_fire_onload=function(){if(this.status<5||!this._is_mainloaded){return;}if(this.status==5){if(this.preloadCnt>0){return false;}else{this.status=6;}}if(this.status==6){if(this.childlocalCnt>0){return false;}else{this.status=7;}}if(this.status==7&&this.context){var _a=this.context;if(!_a.parent||!_a.parent._is_component){_a._on_load(_a,this.main_url);}else{if(!_a.parent._is_frame||_a.parent._is_created){_a._on_load(_a,this.main_url);}}this.clearPreload("data");}};_pLoadManager.clearAllLoad=function(){if(this._main_handle){nexacro._cancelLoad(this._main_handle);this._main_handle=null;}if(nexacro.Browser=="Runtime"){var _a=nexacro._CacheList[this.main_url];if(_a){var _b=_a.data;if(typeof (_b)=="function"&&_b.bcache){var _c=_b.refs|0;if(_c>0){_c= --_b.refs;}if(_c==0){delete nexacro._CacheList[this.main_url];}}}}this._is_mainloaded=false;var _d=this.updateList;var _e=_d.length;for(var _t=0;_t<_e;_t++ ){var _f=_d[_t];if(_f._handle){nexacro._cancelLoad(_f._handle);}_f.destroy();}_d.splice(0,_e);var _g=this.globalList;var _h=_g.length;for(var _t=0;_t<_h;_t++ ){var _i=_g[_t];if(_i._handle){nexacro._cancelLoad(_i._handle);}_i.destroy();}_g.splice(0,_h);var _j=this.localList;var _k=_j.length;for(var _t=0;_t<_k;_t++ ){var _l=_j[_t];if(_l._handle){nexacro._cancelLoad(_l._handle);}if(nexacro.Browser=="Runtime"){var _a=nexacro._CacheList[_l.url];if(_a){var _b=_a.data;if(typeof (_b)=="function"&&_b.bcache){var _c=_b.refs|0;if(_c>0){_c= --_b.refs;}if(_c==0){delete nexacro._CacheList[_l.url];}}}}_l.destroy();}_j.splice(0,_k);var _m=this.preloadList;var _n=_m.length;for(var _t=0;_t<_n;_t++ ){var _o=_m[_t];if(_o._handle){nexacro._cancelLoad(_o._handle);}_o.destroy();}_m.splice(0,_n);var _p=this.dataList;var _q=_p.length;for(var _t=0;_t<_q;_t++ ){var _r=_p[_t];if(_r._handle){nexacro._cancelLoad(_r._handle);}_r.destroy();}_p.splice(0,_q);var _s=this.transactionList;if(_s){_s.splice(0,_s.length);}};_pLoadManager.clearPreload=function(_a){var _b=this.preloadList;var _c=_b.length;for(var _e=_c-1;_e>0;_e-- ){var _d=_b[_e];if(_d._handle&&(!_a||_a==_d.type)){nexacro._cancelLoad(_d._handle);if(_a){_b.splice(_e,1);}_d.destroy();}}if(!_a){_b.splice(0,_c);}};_pLoadManager.destroy=function(){this.clearAllLoad();this.context=null;};delete _pLoadManager;nexacro.ServiceItem=function(_a,_b,_c,_d,_e,_f,_g,_h){this.prefixid=_a;this.type=_b;this.url=_c;this.cachelevel=_d;this.codepage=_e;this.language=_f;this.version=_g|"0.0";if(nexacro.Browser=="Runtime"){if(_g&&_g!="0"&&this.version=="0"){this.version=_g;}}this.communicationversion=_h;};var _pServiceItem=nexacro._createPrototype(nexacro.Object,nexacro.ServiceItem);nexacro.ServiceItem.prototype=_pServiceItem;_pServiceItem.set_cachelevel=function(_a){if(_a=="none"||_a=="static"||_a=="session"||_a=="dynamic"){this.cachelevel=_a;}};_pServiceItem.set_version=function(_a){if(this.version!=_a){this.version=_a;}};_pServiceItem.set_url=function(_a){if(this.url!=_a){this.url=_a;}};_pServiceItem.set_codepage=function(_a){if(this.codepage!=_a){this.codepage=_a;}};_pServiceItem.set_language=function(_a){if(this.language!=_a){this.language=_a;}};delete _pServiceItem;nexacro.ComponentItem=function(_a,_b,_c,_d,_e){this.name=_a;this.type=_b;this.classname=_c;this.moduleurl=_d;this.version=_e|"0.0";};var _pComponentItem=nexacro._createPrototype(nexacro.Object,nexacro.ComponentItem);nexacro.ComponentItem.prototype=_pComponentItem;delete _pComponentItem;nexacro.UpdateItem=function(_a,_b,_c,_d,_e,_f,_g){this.type=_a;this.file=_b;this.targetpath=_c;this.ref=_d;this.version=_e;this.desc=_f;this.failpass=_g;};var _pUpdateItem=nexacro._createPrototype(nexacro.Object,nexacro.UpdateItem);nexacro.UpdateItem.prototype=_pUpdateItem;delete _pUpdateItem;nexacro.TypeDefinition=function(_a,_b,_c){this.name=_a;this._component_uri=_b;this.context=_c;this.services=new nexacro.Collection();};var _pTypeDefinition=nexacro._createPrototype(nexacro.Object,nexacro.TypeDefinition);nexacro.TypeDefinition.prototype=_pTypeDefinition;_pTypeDefinition.addService=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=new nexacro.ServiceItem(_a,_b,_c,_d,_e,_f,_g,_h);this.services.add(_a,_i);};_pTypeDefinition.getService=function(_a){return this.services[_a];};_pTypeDefinition.getServiceUrl=function(_a){var _b=_a.indexOf("::");if(_b>0){var _c=_a.substring(0,_b);var _d=_a.substring(_b+2);var _e=this.services[_c];if(_e){return _e.url+_d;}}return _a;};delete _pTypeDefinition;nexacro.Layout=function(_a,_b,_c,_d,_e,_f){this.name=_a;this.screenid=_b;this.width=_c;this.height=_d;this._form=_e;this.change_fn=_f;this.stepcount=0;this.stepindex=0;};var _pLayout=nexacro._createPrototype(nexacro.Object,nexacro.Layout);nexacro.Layout.prototype=_pLayout;_pLayout._type_name="Layout";_pLayout.destroy=function(){this.name="";this.screenid="";this.description="";this.context=null;this.width=0;this.height=0;this._form=null;this.change_fn=null;this.stepcount=0;this.stepindex=0;};_pLayout.set_name=function(_a){this.name=_a;};_pLayout.set_screenid=function(_a){this.screenid=_a;};_pLayout.set_description=function(_a){this.description=_a;};_pLayout.set_width=function(_a){this.width=_a;};_pLayout.set_height=function(_a){this.height=_a;};_pLayout.set_stepcount=function(_a){_a=parseInt(_a)|0;if(_a!==this.stepcount){if(_a==""||( +_a)!=( +_a)){_a=0;}this.stepcount=_a;}};_pLayout.set_stepindex=function(_a){_a=parseInt(_a)|0;if(_a!=this.stepindex&&_a<this.stepcount){this.stepindex=_a;}};delete _pLayout;nexacro.TouchManager=function(){this._currentTouches=new nexacro.Collection;this._fling_list=new nexacro.Collection;this.on_fire_ontouch=this._set_on_fire_ontouch_event_handler();};var _pTouchManager=nexacro.TouchManager.prototype;_pTouchManager._tap_timer=null;_pTouchManager._dbltap_timer=null;_pTouchManager._hold_timer=null;_pTouchManager._fling_timer=null;_pTouchManager.hold_threshold=1000;_pTouchManager.tap_threshold=800;_pTouchManager.dbltap_threshold=800;_pTouchManager.tap_bound=5;_pTouchManager.dbltap_bound=30;_pTouchManager.unintendedmove_threshold=6;_pTouchManager.pinch_threshold=6;_pTouchManager.slide_threshold=9;_pTouchManager.slideangle_threshold=10;_pTouchManager.fling_threshold=100;_pTouchManager._current_time= -1;_pTouchManager._old_time= -1;_pTouchManager._start_win=null;_pTouchManager._start_elem=null;_pTouchManager._start_elem_status="";_pTouchManager._start_elem_pseudo="";_pTouchManager._start_point=null;_pTouchManager._first_tap_elem=null;_pTouchManager._first_tap_point=null;_pTouchManager._is_first_tap=true;_pTouchManager._center_point=null;_pTouchManager._first_pinch_range=undefined;_pTouchManager._is_longpressed=false;_pTouchManager._currentTouches=null;_pTouchManager._current_gesture=undefined;_pTouchManager._tap_blocked=false;_pTouchManager._slide_blocked=false;_pTouchManager._pinch_blocked=false;_pTouchManager._fling_blocked=false;_pTouchManager._slide_history=[];_pTouchManager._slide_touchlen=0;if((nexacro._isMobile&&nexacro._isMobile())&&(nexacro._isHybrid&&nexacro._isHybrid())&&nexacro.OS=="iOS"){_pTouchManager._fling_minimum_speed=0.6;_pTouchManager._fling_threshold=40;}else{_pTouchManager._fling_minimum_speed=0.15;_pTouchManager._fling_threshold=5;}_pTouchManager._fling_friction=0.998;_pTouchManager._fling_list=null;_pTouchManager._fling_uid=0;_pTouchManager._scroll_comp=null;_pTouchManager._scroll_mode= -1;_pTouchManager._scroll_end=false;_pTouchManager._scroll_direction=0;_pTouchManager._scroll_body=false;_pTouchManager._allow_default=false;_pTouchManager._slide_lock_horz=false;_pTouchManager._slide_lock_vert=false;_pTouchManager._set_on_fire_ontouch_event_handler=function(){if(nexacro.OS=="Windows"&&nexacro.Browser=="Runtime"){return this._on_windows_fire_ontouch;}return this._on_default_fire_ontouch;};_pTouchManager.ontouchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){if(_k!=undefined&&this._currentTouches.length>0){var _l=this._currentTouches;if(_l[0].touchid!=("_"+_k)){for(var _z=0,_aa=_l.length;_z<_aa;_z++ ){var _m=_l[_z];if(_m){var _n=null;var _o=_m._elem;if(_o){_n=_a.findComponent(_o);}if(!(_n&&_n._is_alive)){var _p=_m.touchid.slice(1);this.ontouchcancel(null,null,_p);}}}}}if(this._old_time!=_h){this._old_time=this._current_time;}this._current_time=_h;_c="_"+String(_c);var _q=_d;var _r=_e;var _s=(!this._currentTouches||this._currentTouches.length==0||(this._currentTouches.length==1&&!!this._currentTouches.get_item(_c)));if(_s){this._start_win=_a;this._start_elem=_b;this._start_point=nexacro.Point.fromEvent(_q,_r);this._start_point.screenX=_f;this._start_point.screenY=_g;this._fling_blocked=false;}var _t=new nexacro.TouchInputInfo(_b,"touchstart",_c,_h,_s,_f,_g,_q,_r);this._currentTouches.add_item(_c,_t);if(_s){_a._curWindowX=_d;_a._curWindowY=_e;}if(_j){this.on_fire_ontouch(0);}if(_s){var _u=this._fling_list;for(var _z=0,_aa=_u.length;_z<_aa;_z++ ){var _v=_u[_z];_v.stop();}}if(_s){if(!this._tap_timer){this._tap_timer=new nexacro.TouchTimer(_a,this._on_tap_timer,this,this.tap_threshold);}else{this._tap_timer.start(this.tap_threshold);}if(!this._dbltap_timer){this._dbltap_timer=new nexacro.TouchTimer(_a,this._on_dbltap_timer,this,this.dbltap_threshold);}else{if(!this._dbltap_timer.isWait()){this._is_first_tap=true;this._dbltap_timer.start(this.dbltap_threshold);}else{this._is_first_tap=false;}}if(!this._hold_timer){this._hold_timer=new nexacro.TouchTimer(_a,this._on_hold_timer,this,this.hold_threshold);}else{this._hold_timer.start(this.hold_threshold);}if(!this.checkAvailableScrollableComp(_b)){this._scroll_body=true;}}else{if(this._hold_timer&&this._hold_timer.isWait()){this._hold_timer.stop();}if(this._tap_timer&&this._tap_timer.isWait()){this._tap_timer.stop();}if(this._dbltap_timer&&this._dbltap_timer.isWait()){this._dbltap_timer.stop();}var _w=this._currentTouches.length;if(_w==2){var _x=this._currentTouches[0];this._center_point=new nexacro.Point((_x._x+_q)/2,(_x._y+_r)/2);if(nexacro._allow_default_pinchzoom){this._allow_default=true;this._slide_blocked=true;this._pinch_blocked=true;this._fling_blocked=true;this._scroll_body=false;}}if(this._current_gesture=="slide"){this._current_gesture="none";this._slide_blocked=true;}}var _y=_a.findComponent(this._start_elem);if(_y){if(_y._is_subcontrol){_y=_y.parent;}this._start_elem_status=_y._status;this._start_elem_pseudo=_y._pseudo;}if(_j){if(this.checkInputPreventDefault(_b,this._currentTouches.length==1,0)){return false;}}return true;};_pTouchManager.checkValidScrollEnd=function(){var _a=this._start_elem;var _b=this._start_win.findComponent(_a,0,0);if(!_b||!_b[0]){return;}var _c=_b[0];var _d=this._scroll_direction;var _e;while(_c&&!_c._is_application){switch(_d){case  -10:_e=_c.hscrollbar;if(_e&&_e.enable&&(_c.dragscrolltype!="none"&&_c.dragscrolltype!="vert")){if(_e.pos>0){return false;}}break;case 10:_e=_c.hscrollbar;if(_e&&_e.enable&&(_c.dragscrolltype!="none"&&_c.dragscrolltype!="vert")){if(_e.pos<_e.max){return false;}}break;case  -1:_e=_c.vscrollbar;if(_e&&_e.enable&&(_c.dragscrolltype!="none"&&_c.dragscrolltype!="horz")){if(_e.pos>0){return false;}}break;case 1:_e=_c.vscrollbar;if(_e&&_e.enable&&(_c.dragscrolltype!="none"&&_c.dragscrolltype!="horz")){if(_e.pos<_e.max){return false;}}break;}_c=_c.parent;}return;};_pTouchManager.ontouchmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(this._old_time!=_h){this._old_time=this._current_time;}this._current_time=_h;_c="_"+String(_c);var _k=_d;var _l=_e;var _m=this._currentTouches[_c];if(!_m){return;}if(Math.abs(_m._x-_k)<=this.unintendedmove_threshold&&Math.abs(_m._y-_l)<=this.unintendedmove_threshold){return;}var _n=_m._elem;_m._updateInfo(_b,"touchmove",_h,_f,_g,_k,_l);var _o=_a.findComponent(this._start_elem);var _p=_a.findComponent(_b);if(_o&&_p){if(_o!=_p){var _q=_o._getRootComponent(_o);if(_q.enable){_o._stat_change("enable","normal");}}else{_o._stat_change(this._start_elem_status,this._start_elem_pseudo);}}var _r=this._currentTouches.length;if(_r==1){var _s=nexacro._cur_drag_info;var _t,_u;var _v=false;if(_s){var _w=_d;var _x=_e;var _y=_w-_s.startX;var _z=_x-_s.startY;if(!_s.isDragging){if(_w!=_s.startX||_x!=_s.startY){_b=_s.target_elem;_t=_a.findComponent(_b,0,0);var _aa=nexacro._getElementXYInWindow(_b._handle);var _ab=_w-_aa[0]+_t[1];var _ac=_x-_aa[1]+_t[2];var _ad=_t[0]._on_drag(_b,"touch",false,false,false,_ab,_ac,_f,_g);if(_ad&&_ad[0]===true){_s.isDragging=true;_s.target=_ad[1];_s.referTarget=_ad[2];_s.data=_ad[3];_s.userdata=_ad[4];_t[0]._on_dragmove(_b,_s.target,_s.referTarget,_s.data,_s.userdata,"touch",false,false,false,_ab,_ac,_f,_g,undefined,undefined,undefined,_y,_z);return true;}}_u=_t[0]._getDlgCode();nexacro._cur_drag_info=null;}else{_t=_a.findComponent(_b,0,0);if(_t&&_t[0]){if(_n==_b){var _aa=nexacro._getElementXYInWindow((_t.length==3)?_b._handle:_t[0]._control_element._handle);var _ab=_w-_aa[0]+_t[1];var _ac=_x-_aa[1]+_t[2];if(_t[0]._isRtl()){var _ae=this.width-_w;var _af=this.width-_aa[0]-_b.width;_ab=_ae-_af+_t[1];}_t[0]._on_dragmove(_b,_s.target,_s.referTarget,_s.data,_s.userdata,"touch",false,false,false,_ab,_ac,_f,_g,undefined,undefined,undefined,_y,_z);}else{if(_n&&_n._handle){var _ag=_a.findComponent(_n,0,0);var _aa=nexacro._getElementXYInWindow((_ag.length!=3)?_n._handle:_ag[0]._control_element._handle);var _ab=_w-_aa[0]+_ag[1];var _ac=_x-_aa[1]+_ag[2];if(_ag[0]._isRtl()){var _ae=this.width-_w;var _af=this.width-_aa[0]-_b.width;_ab=_ae-_af+_ag[1];}_ag[0]._on_dragleave(_n,_t[0],_s.target,_s.referTarget,_s.data,_s.userdata,"touch",false,false,false,_ab,_ac,_f,_g);}if(_b&&_b._handle){var _ag=_a.findComponent(_n);var _aa=nexacro._getElementXYInWindow((_t.length!=3)?_b._handle:_t[0]._control_element._handle);var _ab=_w-_aa[0]+_t[1];var _ac=_x-_aa[1]+_t[2];if(_t[0]._isRtl()){var _ae=this.width-_w;var _af=this.width-_aa[0]-_b.width;_ab=_ae-_af+_t[1];}_t[0]._on_dragenter(_b,_ag,_s.target,_s.referTarget,_s.data,_s.userdata,"touch",false,false,false,_ab,_ac,_f,_g);}}}}_v=true;}else{_t=_a.findComponent(_b,0,0);if(_t&&_t[0]){_u=_t[0]._getDlgCode();}}if(!nexacro._cur_drag_info&&!(_u&&_u.want_touchmove)){var _ah=_m._x-_m._oldx;var _ai=_m._y-_m._oldy;var _aj;if(Math.abs(_ah)>Math.abs(_ai)){_aj=(_ah>0)? -10:10;}else{_aj=(_ai>0)? -1:1;}if(this._scroll_direction!=_aj){this._scroll_end=false;}if(this._scroll_end&&this.checkValidScrollEnd()===false){this._scroll_end=false;}if(this._scroll_body||(this._scroll_end&&this._scroll_direction==_aj)){var _ak=this.checkUnintendedMove(_m);if(_ak){this._tap_blocked=true;}this._slide_blocked=true;this._scroll_body=true;return false;}}if(nexacro.OS=="iOS"&&_b instanceof nexacro.InputElement){this._tap_blocked=true;_b._tap_blocked=true;}if(_v){return true;}if(application.enabletouchevent){var _al=nexacro._cur_track_info;var _am=nexacro._cur_repeat_info;if(_am){_am.distX=_d-_am.startX;_am.distY=_e-_am.startY;_am.canvasX=_am.startCanvasX+_am.distX;_am.canvasY=_am.startCanvasY+_am.distY;}if(_al){_al.distX=_d-_al.startX;_al.distY=_e-_al.startY;_al.target._on_movetrack(_al.distX,_al.distY,_al.data);}}}if(_j){this.on_fire_ontouch(1);}var _an=false;var _ao=null;if(_r==1){if(this._current_gesture==undefined&&!this._slide_blocked){var _ak=this.checkUnintendedMove(_m);if(_ak){if(this._hold_timer&&this._hold_timer.isWait()){this._hold_timer.stop();}if(this._tap_timer&&this._tap_timer.isWait()){this._tap_timer.stop();}if(this._dbltap_timer&&this._dbltap_timer.isWait()){this._dbltap_timer.stop();}}_ao=this.checkSlide();if(_ao){_an=true;}if(_ao._lock_horz){this._slide_lock_horz=true;}if(_ao._lock_vert){this._slide_lock_vert=true;}}else if(this._current_gesture=="slide"){_an=true;_ao={x:_m._x,y:_m._y,xacc:_m._x-_m._startx,yacc:_m._y-_m._starty,xdelta:parseInt(_m._x-_m._oldx),ydelta:parseInt(_m._y-_m._oldy)};if(this._slide_lock_horz){_ao.xacc=0;_ao.xdelta=0;}if(this._slide_lock_vert){_ao.yacc=0;_ao.ydelta=0;}}}else if(_m==this._currentTouches[_r-1]){if(_r==2){var _ap=false;var _aq=null;if(!this._pinch_blocked){_aq=this.checkPinch(this._currentTouches[0],this._currentTouches[1]);if(_aq!==null){_ap=true;}}if(_ap){var _ar=false;var _as=this._start_win.findComponent(this._start_elem,0,0);if(_as&&this._current_gesture!="pinch"){_ar=true;}this._current_gesture="pinch";this._slide_blocked=true;if(_as){this.on_fire_onpinch(_ar?0:1,_as,_aq.oldrange,_aq.currange);}this._last_pinchinfo=_aq;}}_ao=this.checkSlide();if(_ao){_an=true;}}if(!this._slide_blocked){if(_an){var _at=false;if(this._current_gesture!="slide"){_at=true;}if(this._slide_history.length==0){this._slide_history.push({x:_ao.x-_ao.xacc,y:_ao.y-_ao.yacc,t:this._old_time});}if(application.enabletouchevent==false&&_at){var _ah=_m._x-_m._oldx;var _ai=_m._y-_m._oldy;var _aj;if(Math.abs(_ah)>Math.abs(_ai)){_aj=(_ah>0)? -10:10;}else{_aj=(_ai>0)? -1:1;}if(this._scroll_direction!=_aj){this._scroll_end=false;}if(this._scroll_body||this._scroll_end){if(this._scroll_body||this._scroll_direction==_aj){this._slide_blocked=true;this._tap_blocked=true;this._scroll_body=true;return false;}this._scroll_end=false;}}this._current_gesture="slide";this._pinch_blocked=true;this._tap_blocked=true;var _au=_a.findComponent(this._start_elem,0,0);if(_au){this.on_fire_onslide(_at?0:1,_au,_ao.xacc,_ao.yacc,_ao.xdelta,_ao.ydelta,_ao.x,_ao.y,_m.time);}this._last_slideinfo=_ao;}else{var _t=_a.findComponent(_b,0,0);if(_t){var _av=_t[0]?_t[0]._getRootForm():null;if(_av){var _aw=_av.stepcontrol?_av.stepcontrol.getStepIndex():0;_av._createStepChangeAnimation(_aw,400);}}}}if(_j){if(this.checkInputPreventDefault(_b,this._currentTouches.length,1)){return false;}}if(this._scroll_body==true){return false;}return true;};_pTouchManager.ontouchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){this._start_elem_status="";this._start_elem_pseudo="";if(this._old_time!=_h){this._old_time=this._current_time;}this._current_time=_h;_c="_"+String(_c);var _k=_d;var _l=_e;var _m=this._currentTouches[_c];var _n=nexacro._cur_repeat_info;var _o=nexacro._cur_track_info;if(!_m){if(_n){if(_n._timer){var _p=nexacro._getWindowHandle(this._handle);nexacro._clearSystemTimer(_p,_n._timer);}_n.distX=_d-_n.startX;_n.distY=_e-_n.startY;_n.target._on_endrepeat(_n.refer_comp,_n.distX,_n.distY,_n.data);nexacro._cur_repeat_info=null;}if(_o){_o.distX=_d-_o.startX;_o.distY=_e-_o.startY;_o.target._on_endtrack(_o.distX,_o.distY,_o.data);nexacro._cur_track_info=null;}nexacro._cur_drag_info=null;return;}_m._updateInfo(_b,"touchend",_h,_m.screenX,_m.screenY,_m._x,_m._y);var _q=nexacro._cur_drag_info;if(_b&&_q&&_q.isDragging&&application.enabletouchevent){var _r,_s,_t,_u;_r=_a.findComponent(_b,0,0);if(_r&&_r[0]){var _v=_d;var _w=_e;_s=nexacro._getElementXYInWindow(_b._handle);_t=_v-_s[0]+_r[1];_u=_w-_s[1]+_r[2];if(_r[0]._isRtl()){var _x=this.width-_v;var _y=this.width-_s[0]-_b.width;_t=_x-_y+_r[1];}_r[0]._on_drop(_b,_q.target,_q.referTarget,_q.data,_q.userdata,"touch",false,false,false,_t,_u,_f,_g);}}var _r=_a.findComponent(_b,0,0);var _z=this._start_win.findComponent(this._start_elem,0,0);if(_j){if(_n){if(_n._timer){var _p=nexacro._getWindowHandle(_a._handle);nexacro._clearSystemTimer(_p,_n._timer);}_n.distX=_d-_n.startX;_n.distY=_e-_n.startY;_n.target._on_endrepeat(_n.refer_comp,_n.distX,_n.distY,_n.data);nexacro._cur_repeat_info=null;}if(_o){_o.distX=_d-_o.startX;_o.distY=_e-_o.startY;_o.target._on_endtrack(_o.distX,_o.distY,_o.data);nexacro._cur_track_info=null;}this.on_fire_ontouch(2);if(_r&&_r[0]&&_r[0]._is_alive){_r[0]._on_last_lbuttonup();}}var _aa=false;var _ab=this._currentTouches.size();if(_ab==1){var _ac=_a.findComponent(this._start_elem,0,0);var _ad=_ac?_ac[0]:null;var _ae=_a.findComponent(_b,0,0);var _af=_ae?_ae[0]:null;if(Math.abs(this._currentTouches[0]._startx-this._currentTouches[0]._x)>this._tap_bound||Math.abs(this._currentTouches[0]._starty-this._currentTouches[0]._y)>this._tap_bound||(_ad!=_af)){this._tap_blocked=true;}if(this._hold_timer&&this._hold_timer.isWait()){this._hold_timer.stop();}if(this._tap_timer&&this._tap_timer.isWait()&&this._tap_blocked==false){this._tap_timer.stop();if(_ac){if(nexacro.Browser=="Runtime"){application._lastTouchEndX=parseInt(_f);application._lastTouchEndY=parseInt(_g);}else{application._lastTouchEndX=parseInt(_f+((window&&window.screenLeft)?window.screenLeft:0));application._lastTouchEndY=parseInt(_g+((window&&window.screenTop)?window.screenTop:0));}this.on_fire_ontap(_ac);}if(!this._is_first_tap){if(this._first_tap_point){var _ag=this.getRange(this._currentTouches[0]._x,this._currentTouches[0]._y,this._first_tap_point.x,this._first_tap_point.y);if(_ag<this.dbltap_bound){var _ah=_a.findComponent(this._first_tap_elem,0,0);if(_ac&&_ac[0]){if(_ah&&_ac[0]===_ah[0]){this.on_fire_ondbltap(_ac);_aa=true;}}}}}}else if((_r&&_z)&&(_r[0]!=_z[0])){var _ai=this.getCurrentTouchInputInfo();var _aj=_ai.touchinfos;var _ak=_ai.changedtouchinfos;var _al=_ai.firsttouchinfo;_z[0]._control_pseudo="";_z[0]._contents_pseudo="";_z[0]._on_touchcancel(this,_aj,_ak);}}else if(_ab>1&&!application.enabletouchevent){var _am=this._currentTouches;for(var _au=0;_au<_ab;_au++ ){var _an=_am[_au].touchid.slice(1);var _z=this._start_win.findComponent(this._start_elem,0,0);if(!_z||!_z[0]){break;}var _ai=this.getCurrentTouchInputInfo();var _aj=_ai.touchinfos;var _ak=_ai.changedtouchinfos;var _al=_ai.firsttouchinfo;_z[0]._on_touchcancel(this,_aj,_ak);}}var _ao=true;if(_j){if(this.checkInputPreventDefault(_b,_ab,2)){_ao=false;}for(var _au=0;_au<_ab;_au++ ){var _m=this._currentTouches[_au];if(_m.time==this._current_time&&_m._current_state=="touchend"){this._currentTouches.delete_item(_m.touchid);_ab-- ;_au-- ;if(this._currentTouches.size()==0){if(this._current_gesture=="slide"&&!this._slide_blocked){var _ap=this._last_slideinfo;var _ac=_a.findComponent(this._start_elem,0,0);if(_ac){this.on_fire_onslide(2,_ac,_ap.xacc,_ap.yacc,_ap.xdelta,_ap.ydelta,_ap.x,_ap.y,_m.time);}}if(!this._fling_blocked){var _aq=this.checkFling();if(_aq){var _ar="_fling"+this._fling_uid;var _as=new nexacro.FlingHandler(_ar,this._start_win,this._start_elem,this._scroll_comp,this._scroll_mode,null,_aq.xstartvalue,_aq.ystartvalue,_aq.xspeed,_aq.yspeed,_aq.duration,this._slide_touchlen,this);if(_as._is_alive){_as.start();this._fling_list.add_item(_ar,_as);this._fling_uid++ ;}else{delete _as;}}}this._slide_history=[];this._current_gesture=undefined;this._tap_blocked=false;if(nexacro.OS=="iOS"&&_b instanceof nexacro.InputElement){_b._tap_blocked=false;_b._is_longpressed=false;}this._slide_blocked=false;this._pinch_blocked=false;this._fling_blocked=false;this._first_pinch_range=undefined;this._is_longpressed=false;this._scroll_comp=null;this._scroll_mode= -1;this._last_pinchinfo=null;this._last_slideinfo=null;this._allow_default=false;this._slide_lock_horz=false;this._slide_lock_vert=false;this._scroll_body=false;}else{if(this._current_gesture=="slide"&&!this._slide_blocked){if(!this._fling_timer){this._fling_timer=new nexacro.TouchTimer(_a,this._on_fling_timer,this,this.fling_threshold);}else{this._fling_timer.start(this.fling_threshold);}}if(this._current_gesture=="pinch"&&!this._pinch_blocked){var _at=this._last_pinchinfo;var _z=this._start_win.findComponent(this._start_elem,0,0);if(_z){this.on_fire_onpinch(2,_z,_at.currange,_at.currange);}}this._pinch_blocked=true;this._slide_blocked=true;}}}}nexacro._cur_drag_info=null;return _ao|_aa;};_pTouchManager.ontouchcancel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){if(this._old_time!=_h){this._old_time=this._current_time;}this._current_time=_h;_c="_"+String(_c);var _k=this._currentTouches[_c];if(!_k){return;}if(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser!="Runtime"){var _l=nexacro._cur_repeat_info;var _m=nexacro._cur_track_info;_k._updateInfo(_b,"touchcancel",_h,_k.screenX,_k.screenY,_k._x,_k._y);if(_j){if(_l){if(_l._timer){var _n=nexacro._getWindowHandle(_a._handle);nexacro._clearSystemTimer(_n,_l._timer);}_l.distX=_d-_l.startX;_l.distY=_e-_l.startY;_l.target._on_endrepeat(_l.refer_comp,_l.distX,_l.distY,_l.data);nexacro._cur_repeat_info=null;}if(_m){_m.distX=_d-_m.startX;_m.distY=_e-_m.startY;_m.target._on_endtrack(_m.distX,_m.distY,_m.data);nexacro._cur_track_info=null;}this.on_fire_ontouch(3);var _o=_a.findComponent(_b,0,0);if(_o&&_o[0]&&_o[0]._is_alive){_o[0]._on_last_lbuttonup();}}var _p=this._currentTouches.size();if(_p==1){if(Math.abs(this._currentTouches[0]._startx-this._currentTouches[0]._x)>this._tap_bound||Math.abs(this._currentTouches[0]._starty-this._currentTouches[0]._y)>this._tap_bound||this._start_elem!=_b){this._tap_blocked=true;}if(this._hold_timer&&this._hold_timer.isWait()){this._hold_timer.stop();}if(this._tap_timer&&this._tap_timer.isWait()&&this._tap_blocked==false){this._tap_timer.stop();var _q=_a.findComponent(this._start_elem,0,0);if(_q){this.on_fire_ontap(_q);}if(!this._is_first_tap){var _r=this.getRange(this._currentTouches[0]._x,this._currentTouches[0]._y,this._first_tap_point.x,this._first_tap_point.y);if(_r<this.dbltap_bound){var _s=_a.findComponent(this._first_tap_elem,0,0);if(_q&&_q[0]){if(_s&&_q[0]===_s[0]){this.on_fire_ondbltap(_q);}}}}}}}this._currentTouches.delete_item(_k.touchid);if(this._currentTouches.length>0){this._tap_blocked=true;this._slide_blocked=true;this._pinch_blocked=true;this._fling_blocked=true;this._scroll_comp=null;this._scroll_mode= -1;this._scroll_body=false;}else{this._slide_history=[];this._current_gesture=undefined;this._tap_blocked=false;if(nexacro.OS=="iOS"&&_b instanceof nexacro.InputElement){_b._tap_blocked=false;_b._is_longpressed=false;}this._slide_blocked=false;this._pinch_blocked=false;this._fling_blocked=false;this._first_pinch_range=undefined;this._is_longpressed=false;this._scroll_comp=null;this._scroll_mode= -1;this._last_pinchinfo=null;this._last_slideinfo=null;this._scroll_body=false;this._allow_default=false;this._slide_lock_horz=false;this._slide_lock_vert=false;}};_pTouchManager.checkUnintendedMove=function(_a,_b){if(_b===undefined){_b=this.unintendedmove_threshold;}var _c=1;if(nexacro._zoom_factor<100&&nexacro._zoom_factor>0){_c=100/nexacro._zoom_factor;}_b=_b*_c;var _d=this.getRange(_a._oldx,_a._oldy,_a._x,_a._y);var _e=this.getRange(_a._x,_a._y,_a._startx,_a._starty);if(_d>_b||_e>_b){return true;}return false;};_pTouchManager.checkPinch=function(_a,_b){var _c=null;if(!_a||!_b){return null;}var _d=false;var _e={x:_a._x-_a._oldx,y:_a._y-_a._oldy};var _f={x:_b._x-_b._oldx,y:_b._y-_b._oldy};var _g=this.pinch_threshold;if(this._current_gesture=="pinch"){_g=1;}var _h=this.getRange(this._center_point.x,this._center_point.y,_a._oldx,_a._oldy);var _i=this.getRange(this._center_point.x,this._center_point.y,_a._x,_a._y);var _j=this.getRange(this._center_point.x,this._center_point.y,_b._oldx,_b._oldy);var _k=this.getRange(this._center_point.x,this._center_point.y,_b._x,_b._y);if(this._current_gesture!="pinch"){if(_i-_h< -(_g)&&_k-_j< -(_g)){_d=true;}else if(_i-_h>_g&&_k-_j>_g){_d=true;}}else{if(_h!=_i||_j!=_k){_d=true;}}if(_d){var _l=this.getRange(_a._oldx,_a._oldy,_b._oldx,_b._oldy);var _m=this.getRange(_a._x,_a._y,_b._x,_b._y);if(this._first_pinch_range===undefined){this._first_pinch_range=_l;}_c={oldrange:_l,currange:_m};}return _c;};_pTouchManager.checkSlide=function(){var _a=this._currentTouches.length;if(_a<1){return false;}var _b=(this._current_gesture!="slide");if(_b){var _c=false;for(var _n=0;_n<_a;_n++ ){var _d=this._currentTouches[_n];if(this.checkUnintendedMove(_d,this.slide_threshold)){_c=true;break;}}if(!_c){return false;}}var _e=false;var _f={};if(_a==1){_f.x=_d._x;_f.y=_d._y;_f.xacc=_d._x-_d._startx;_f.yacc=_d._y-_d._starty;_f.xdelta=parseInt(_d._x-_d._oldx,0);_f.ydelta=parseInt(_d._y-_d._oldy,0);if(_b){if(Math.abs(_f.xacc)>Math.abs(_f.yacc)*2){_f._lock_vert=true;_f.yacc=0;_f.ydelta=0;}else if(Math.abs(_f.xacc)*2<Math.abs(_f.yacc)){_f._lock_horz=true;_f.xacc=0;_f.xdelta=0;}}}else{var _g={x:0,y:0};var _h={x:0,y:0};var _i={x:0,y:0};var _j=[];for(var _n=0;_n<_a;_n++ ){var _d=this._currentTouches[_n];_g.x+=_d._x;_g.y+=_d._y;_i.x+=_d._x-_d._oldx;_i.y+=_d._y-_d._oldy;_h.x+=_d._x-_d._startx;_h.y+=_d._y-_d._starty;var _k=this.getAngle(_d._oldx,_d._oldy,_d._x,_d._y);_j.push(_k);}var _l=this.getAngle(0,0,_i.x,_i.y);for(var _n=0;_n<_a;_n++ ){var _m=Math.abs(_l-_j[_n]);if(_m>this.slideangle_threshold){return null;}}_f.x=(_g.x/_a);_f.y=(_g.y/_a);_f.xacc=(_h.x/_a);_f.yacc=(_h.y/_a);_f.xdelta=(_i.x/_a);_f.ydelta=(_i.y/_a);}return _f;};_pTouchManager.checkFling=function(){var _a=this._slide_history;var _b=_a.length;if(_b<=1){return;}var _c=_a[_b-1];var _d=_a[_b-2];var _e=Math.sqrt((_c.x?(_c.x*_c.x):0)+(_c.y?(_c.y*_c.y):0));var _f=Math.sqrt((_d.x?(_d.x*_d.x):0)+(_d.y?(_d.y*_d.y):0));var _g=(_e-_f)/(_c.t-_d.t);if((Math.abs(_e-_f))<=this._fling_threshold||Math.abs(_g)<this._fling_minimum_speed){return;}var _h={xstartvalue:0,ystartvalue:0,xspeed:0,yspeed:0,duration:0};for(axis in {x:1,y:1}){var _i=0;var _j=0;var _k;_d=_a[_b-2];for(var _l=_b-3;_l>=0;_l-- ){if(_c.t-_a[_l].t>100){break;}_d=_a[_l];}_g=(_c[axis]-_d[axis])/(_c.t-_d.t);if(Math.abs(_g)>=this._fling_minimum_speed){_i=Math.log(this._fling_minimum_speed/Math.abs(_g))/Math.log(this._fling_friction);_j=_g*(1-Math.pow(this._fling_friction,_i+1))/(1-this._fling_friction);}_k=Math.floor(_j);if(axis=="x"){_h.xstartvalue=_j;_h.xspeed=_g;}if(axis=="y"){_h.ystartvalue=_j;_h.yspeed=_g;}_h.duration=Math.max(_h.duration,_i);}return _h;};_pTouchManager._on_default_fire_ontouch=function(_a){var _b=this._start_win.findComponent(this._start_elem,0,0);if(!_b||!_b[0]){return;}var _c=this._currentTouches.length;var _d=this.getCurrentTouchInputInfo();var _e=_d.touchinfos;var _f=_d.changedtouchinfos;var _g=_d.firsttouchinfo;if(application.enabletouchevent){var _h;switch(_a){case 0:_b[0]._on_touchstart(this,_e,_f);break;case 1:_b[0]._on_touchmove(this,_e,_f);break;case 2:_h=_b[0]._on_touchend(this,_e,_f);if(_h==true){this._tap_blocked=true;}break;case 3:_h=_b[0]._on_touchcancel(this,_e,_f);break;}}else if(_g){switch(_a){case 0:this._start_info=this._start_win._on_touch_to_lbuttondown(_g._elem,"touch",false,false,false,_g._x,_g._y,_g.screenX,_g.screenY);break;case 1:if(this._tap_blocked&&this._start_win._cur_ldown_elem==null){this._start_win._on_sys_lbuttondown(_g._elem,"touch",false,false,false,_g._x,_g._y,_g.screenX,_g.screenY);var _i=nexacro._cur_track_info;if(_i){this._fling_blocked=true;}}this._start_win._on_sys_mousemove(_g._elem,"touch",false,false,false,_g._x,_g._y,_g.screenX,_g.screenY);break;case 2:if(this._is_longpressed){this._start_win._on_sys_rbuttonup(_g._elem,"touch",false,false,false,_g._x,_g._y,_g.screenX,_g.screenY,undefined,undefined,undefined,_g._elem);}else if(this._tap_blocked){this._start_win._on_sys_lbuttonup(_g._elem,"touch",false,false,false,_g._x,_g._y,_g.screenX,_g.screenY,undefined,undefined,undefined,_g._elem);}break;}}};_pTouchManager._on_windows_fire_ontouch=function(_a){var _b=this._start_win.findComponent(this._start_elem,0,0);if(!_b||!_b[0]){return;}var _c=this._currentTouches.length;var _d=this.getCurrentTouchInputInfo();var _e=_d.touchinfos;var _f=_d.changedtouchinfos;var _g=_d.firsttouchinfo;if(application.enabletouchevent){var _h;switch(_a){case 0:_b[0]._on_touchstart(this,_e,_f);break;case 1:_b[0]._on_touchmove(this,_e,_f);break;case 2:_h=_b[0]._on_touchend(this,_e,_f);if(_h==true){this._tap_blocked=true;}break;case 3:_h=_b[0]._on_touchcancel(this,_e,_f);break;}}};_pTouchManager.on_fire_ontap=function(_a){var _b=this._currentTouches[0];if(this._is_first_tap){this._first_tap_elem=this._start_elem;this._first_tap_point=this._start_point;}if(_a&&_a[0]){var _c=this._start_point;var _d=nexacro._getElementXYInWindow(this._start_elem._handle);var _e=_c.x-_d[0]+_a[1];var _f=_c.y-_d[1]+_a[2];if(application.enabletouchevent){_a[0]._on_tap(this._start_elem,_e,_f,_c.screenX,_c.screenY);}else{var _g=this.getCurrentTouchInputInfo();var _h=_g.firsttouchinfo;var _i;this._start_win._on_sys_mousemove(_h._elem,"touch",false,false,false,_h._x,_h._y,_h.screenX,_h.screenY);if(this._start_info&&this._start_info.cp){this._start_info.cp._on_touch_lbuttondown(_h._elem,"touch",false,false,false,this._start_info.cX,this._start_info.cY,_h.screenX,_h.screenY,undefined,undefined,undefined,true);delete this._start_info;}this._start_win._on_sys_lbuttonup(_h._elem,"touch",false,false,false,_h._x,_h._y,_h.screenX,_h.screenY,undefined,undefined,undefined,_h._elem);}}};_pTouchManager.on_fire_ondbltap=function(_a){if(this._dbltap_timer&&this._dbltap_timer.isWait()){this._dbltap_timer.stop();}if(_a&&_a[0]){var _b=this._first_tap_point;var _c=nexacro._getElementXYInWindow(this._start_elem._handle);var _d=_b.x-_c[0]+_a[1];var _e=_b.y-_c[1]+_a[2];if(application.enabletouchevent){_a[0]._on_dbltap(this._first_tap_elem,_d,_e,_b.screenX,_b.screenY);}else{_a[0]._on_dblclick(this._first_tap_elem,"lbutton",false,false,false,_d,_e,_b.screenX,_b.screenY);}}};_pTouchManager.on_fire_onlongpress=function(_a){if(_a&&_a[0]){var _b=this.getCurrentTouchInputInfo();if(application.enabletouchevent){var _c=_b.touchinfos;_a[0]._on_longpress(this._start_elem,_c);}else{var _d=_b.firsttouchinfo;if(_d){_a[0]._on_rbuttondown(_d._elem,"touch",false,false,false,_d.canvasX,_d.canvasY,_d.screenX,_d.screenY);}}}};_pTouchManager.on_fire_onpinch=function(_a,_b,_c,_d){if(_b&&_b[0]){var _e=this.getCurrentTouchInputInfo();var _f=_e.touchinfos;var _g=_d-this._first_pinch_range;var _h=_d-_c;var _i;switch(_a){case 0:_i=_b[0]._on_pinchstart(this._start_elem,_f,_g,_h,this._first_pinch_range,_d);if(_i==true){this._pinch_blocked=true;return;}case 1:_i=_b[0]._on_pinch(this._start_elem,_f,_g,_h,this._first_pinch_range,_d);if(_i==true){this._pinch_blocked=true;_b[0]._on_pinchend(this._start_elem,_f,_g,_h,this._first_pinch_range,_d);}break;case 2:_b[0]._on_pinchend(this._start_elem,_f,_g,_h,this._first_pinch_range,_d);break;}}};_pTouchManager.on_fire_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_b&&_b[0]){var _j=this.getCurrentTouchInputInfo();var _k=_j.touchinfos;var _l;switch(_a){case 0:_l=_b[0]._on_slidestart(this._start_elem,this,_k,_c,_d,_e,_f);if(_l==true){this._slide_blocked=true;return;}case 1:this._scroll_end=false;if(_e==0&&_f==0){break;}_l=_b[0]._on_slide(this._start_elem,this,_k,_c,_d,_e,_f);if(_l==true){return;}this._slide_touchlen=_k?_k.length:1;if(this._slide_lock_horz){_g=this._slide_history[0].x;}if(this._slide_lock_vert){_h=this._slide_history[0].y;}this._slide_history.push({x:_g,y:_h,t:_i});if(this._slide_history.length>30){this._slide_history.splice(0,15);}break;case 2:_b[0]._on_slideend(this._start_elem,this,_k,_c,_d,_e,_f);break;}}};_pTouchManager.on_fire_onflingstart=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_b&&_b[0]){return _b[0]._on_flingstart(_a,_c,_d,_e,_f,_g,_h);}};_pTouchManager.on_fire_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_b&&_b[0]){_b[0]._on_fling(_a,_c,_d,_e,_f,_g,_h);}};_pTouchManager.on_fire_onflingend=function(_a,_b,_c,_d,_e,_f,_g,_h){if(_b&&_b[0]){_b[0]._on_flingend(_a,_c,_d,_e,_f,_g,_h);}};_pTouchManager.onflingend=function(_a){if(!_a){return;}this._fling_list.delete_item(_a);};_pTouchManager.stopFling=function(_a){var _b=this._fling_list;if(_b.length==0){return;}while(_a){if(_a._is_application){return;}for(var _e=0,_f=_b.length;_e<_f;_e++ ){var _c=_b[_e];var _d=false;if(_a==_c._target_comp){_d=true;}if(_a==_c._scroll_comp){_d=true;}if(_d){_c.stop();}}_a=_a.parent;}};_pTouchManager._on_tap_timer=function(){};_pTouchManager._on_dbltap_timer=function(){this._first_tap_elem=null;this._is_first_tap=true;};_pTouchManager._on_hold_timer=function(){var _a=this._start_win.findComponent(this._start_elem,0,0);if(_a){this.on_fire_onlongpress(_a);}this._slide_blocked=true;this._fling_blocked=true;this._is_longpressed=true;if(nexacro.OS=="iOS"&&this._start_elem instanceof nexacro.InputElement){this._start_elem._is_longpressed=true;}};_pTouchManager._on_fling_timer=function(){this._fling_blocked=true;};_pTouchManager.compareComponent=function(_a,_b){if(_a){var _c=_a;while(_c){var _d=_c._getLastFocused();if(!_d||(_d&&(!_d.visible||!_d.enable))){_d=_c._getTabOrderFirst();}if(!_d||!_d.visible){break;}_c=_d;}if(_c&&_c._input_element){if(_b==_c){return true;}return false;}}};_pTouchManager.checkInputPreventDefault=function(_a,_b,_c){if(_b!=1){return false;}var _d;var _e=_a?_a.linkedcontrol:null;if(!_e&&_a&&_a.parent){_e=_a.parent.linkedcontrol;if((_a instanceof nexacro.InputElement)&&_e._is_subcontrol){_e=_e._getRootComponent(_e);}}while(_e&&!_e._is_focus_accept){_e=_e.parent;}if(_e&&_e._refform){if(_e._refform.getFocus){_d=_e._refform.getFocus();}}var _f=(_d==_e);var _g=(_a&&_a._parent_elem)?(_a._parent_elem instanceof nexacro.InputElement):false;if(!_a||!(_a instanceof nexacro.InputElement)||_g){if(_a){if(nexacro.OS=="iOS"){if(nexacro.WebBrowser&&_e instanceof nexacro.WebBrowser){return true;}if(_e){var _h=_e._getDlgCode();if(_c==0&&_h&&_h.want_touchstart){return false;}if(_c==1&&_h&&_h.want_touchmove){return false;}}if(this._scroll_end&&(_c==0||_c==1)){return true;}if(_g&&_a._parent_elem.enable){return true;}}else if(nexacro.OS=="Android"){if(nexacro.WebBrowser&&_e instanceof nexacro.WebBrowser){return true;}if(_c==0){if(_g&&_a._parent_elem.enable){if((/SHW-M500W/).test(nexacro._getUserAgent())){return false;}return true;}var _i=this.compareComponent(_e,_d);if(_i!==undefined){return !_i;}}else if(_c==2){if(nexacro.Browser=="Chrome"){return true;}}}}return false;}if(nexacro.OS=="iOS"){switch(_c){case 0:if(_f){return true;}if(this._scroll_end){return true;}var _i=this.compareComponent(_e,_d);if(_i!==undefined){return !_i;}break;case 1:if(this._scroll_end){return true;}break;case 2:if(_f){return true;}break;}}else if(nexacro.OS=="Android"){switch(_c){case 0:if(_f){return true;}if((/SHW-M500W/).test(nexacro._getUserAgent())){if(_d instanceof nexacro.Grid&&_a instanceof nexacro.InputElement){return false;}}return true;break;case 1:if(this._scroll_end){return true;}break;case 2:if(_f){return true;}if(this._tap_timer&&this._tap_timer.isWait()&&!this._tap_blocked){return true;}break;}}return false;};_pTouchManager.getCurrentTouchInputInfo=function(){if(!this._start_elem){return null;}var _a={};_a.touchinfos=this._currentTouches;_a.firsttouchinfo=null;_a.changedtouchinfos=[];var _b=this._start_win.findComponent(this._start_elem,0,0);var _c=nexacro._getElementXYInWindow(this._start_elem._handle);var _d=[];var _e=this._currentTouches;for(var _h=0,_i=_e.length;_h<_i;_h++ ){var _f=_e[_h];_f.canvasX=_f._x-_c[0]+_b[1];_f.canvasY=_f._y-_c[1]+_b[2];var _g=_b[0]._getClientXY(_f.canvasX,_f.canvasY);_f.clientX=_g[0];_f.clientY=_g[1];if(_f.isfirst){_a.firsttouchinfo=_f;}if(_f.time==this._current_time){_a.changedtouchinfos.push(_f);}}return _a;};_pTouchManager.updateTouchInputInfosCanvasXY=function(_a,_b,_c){if(!_a){return;}var _d=_a.length;for(var _f=0;_f<_d;_f++ ){var _e=_a[_f];_e.canvasX+=_b;_e.canvasY+=_c;};};_pTouchManager.updateTouchInputInfosClientXY=function(_a,_b){if(!_a){return;}var _c=_a.length;for(var _f=0;_f<_c;_f++ ){var _d=_a[_f];var _e=_b._getClientXY(_d.canvasX,_d.canvasY);_d.clientX=_e[0];_d.clientY=_e[1];};};_pTouchManager.getFirstTouchInputInfo=function(_a){if(!_a){return;}var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a[_d];if(_c.isfirst){return _c;}};return null;};_pTouchManager.getAngle=function(_a,_b,_c,_d){if(_a==_c&&_b==_d){return 0;}_c-=_a;_d-=_b;var _e=(_c*_c)+(_d*_d);var _f=Math.sqrt(_e);var _g=_c/_f;var _h=_d/_f;var _i=Math.acos(_g);_i*=180.0;_i/=Math.PI;if(_h<0){_i=360-_i;}while(_i>360.0){_i-=360.0;}if(_i>180.0){_i=360.0-_i;}return _i;};_pTouchManager.getRange=function(_a,_b,_c,_d){if(_a==_c&&_b==_d){return 0;}_c-=_a;_d-=_b;return Math.sqrt((_c*_c)+(_d*_d));};_pTouchManager.checkAvailableScrollableComp=function(_a){if(!_a){return false;}var _b=_a.linkedcontrol;if(!_b&&_a.parent){_b=_a.parent.linkedcontrol;if((_a instanceof nexacro.InputElement)&&_b._is_subcontrol){_b=_b._getRootComponent(_b);}}if(!_b){while(_a&&!_b){_a=_a.parent;if(_a){_b=_a.linkedcontrol;}}if(!_b){return false;}}var _c=_b;var _d=_c?_c._getDlgCode():null;if(_d){if(_d.want_touchstart){return true;}if(_d.want_touchmove){return true;}}while(_c&&!_c._is_application){var _e;_e=_c.hscrollbar;if(_e&&_e.enable&&_e._isVisible()&&(_e.pos<_e.max||_e.pos>_e.min)){return true;}_e=_c.vscrollbar;if(_e&&_e.enable&&_e._isVisible()&&(_e.pos<_e.max||_e.pos>_e.min)){return true;}if(_c._is_form&&_c.stepcontrol&&_c.stepcontrol.stepcount>1){return true;}_c=_c.parent;}return false;};delete _pTouchManager;nexacro.LayoutManager=function(_a){this.context=_a;this._layout_list=[];};var _pLayoutManager=nexacro._createPrototype(nexacro.Object,nexacro.LayoutManager);nexacro.LayoutManager.prototype=_pLayoutManager;_pLayoutManager._type_name="LayoutManager";_pLayoutManager.checkValid=function(_a,_b){if(!_a){return  -1;}var _c=_a._layout_list;if(!_c){return  -1;}var _d=_c.length;if(_d==0){return  -1;}if(_d>=1&&_c[_d-1].name!="default"){if(_a._default_layout.screenid==""||_a._default_layout.screenid.indexOf(application._curscreen.name)>=0){_c.add_item("default",_a._default_layout);_d++ ;}}if(_d<=1){return 0;}var _e= -1,_f= -1,_g= -1,_h=null,_i= -1,_j= -1,_k= -1,_l=0,_m=[],_n=[];var _o= -1;var _p=0;var _q=nexacro._getCurrentScreenID();_o=_d-1;_p=_c[_o].width;tmp_height=_c[_o].height;for(var _v=0;_v<_d;_v++ ){if(_v==(_d-1)){_k=_g;}_h=_c[_v];if(_h.screenid.length>0){var _r=_h.screenid.split(",");if(_r.indexOf(_q)<0){continue;}}if(_h.width>_b.cx||_h.height>_b.cy){if(_p>_h.width){_o=_v;_p=_h.width;}else if(tmp_height>_h.height){_o=_v;tmp_height=_h.height;}continue;}_i=_b.cx-_h.width;_j=_b.cy-_h.height;if(_e== -1||_e>=_i){if(_e==_i){if(_f<0){if(_j<0){if(_f<_j){_f=_j;_g=_v;}}else{_f=_j;_g=_v;}}else{if(_j<0){}else{if(_f>_j){_f=_j;_g=_v;}}}}else{if(_i>=0){_e=_i;_f=_j;_g=_v;}else{_m.push({idx:_v,w:_i});_n.push({idx:_v,w:_j});}}}}if(_g== -1){var _s=_m.length;var _t=0;for(var _v=0;_v<_s;_v++ ){_t=_m[_v].idx;_h=_a._layout_list[_t];_i=Math.abs(_m[_v].w);_j=Math.abs(_n[_v].h);if(_e== -1||_e>=_i){if(_e==_i){if(_f<0){if(_j<0){if(_f<_j){_f=_j;_g=_v;}}else{_f=_j;_g=_v;}}else{if(_j<0){}else{if(_f>_j){_f=_j;_g=_v;}}}}else{_e=_i;_f=_j;_g=_v;}}}}if(_g== -1){if(_o> -1){return _o;}return  -1;}else if(_g==_a._layout_list.length-1){if(_g> -1){return _g;}else if(_k== -1){return  -1;}}var _u=_a._layout_list[_g];if(_u==null){return  -1;}if(_a._cur_real_layout==_u.name){return  -2;}return _g;};_pLayoutManager.changeLayout=function(_a,_b){var _c=null,_d=null;if(_a==null||_b==null){return;}if(_a._cur_real_layout==_b.name){return;}if(_a._current_layout_name==_b.name){_a._cur_real_layout=_a._current_layout_name;return;}if(_a._current_layout_name==""){_a._current_layout_name="default";}if(_a._current_layout_name=="default"){_c=_a._default_layout;}else{_c=_a._layout_list.get_item(_a._current_layout_name);_d=_a._default_layout;}if(_c==null){return;}this.loadLayout(_a,_c,_b,_d);_a._current_layout_name=_b.name;_a._cur_real_layout=_b.name;};_pLayoutManager.loadLayout=function(_a,_b,_c,_d){var _e= -1,_f=0;var _g= -1,_h=0;if(_b){_e=_b.stepindex;_f=_b.stepcount;}if(_c){_g=_c.stepindex;_h=_c.stepcount;if(_a._layout_list.length>0){_a.on_fire_onbeforelayoutchange(_a,"onbeforelayoutchange",_b,_c.name);}}_a._on_prepare_stepcontents(_f,_e,_h,_g);if(_a._layout_list.length>0){if(_d&&_d.change_fn){_d.change_fn.call(this,_a);}if(_c&&_c.change_fn){_c.change_fn.call(this,_a);}}_a._on_refresh_stepcontents(_f,_e,_h,_g);};_pLayoutManager.getNormalLayout=function(_a){var _b=_a._layout_list.size();for(var _c=0;_c<_b;_c++ ){if(this.GetLayoutName(_a,_c)=="default"){return _a._layout_list.get_item(_c);}}return undefined;};_pLayoutManager.getLayoutName=function(_a,_b){if(_a==null){return "";}return _a._layout_list[_b].name;};_pLayoutManager.clearLayout=function(_a){if(_a==null){return;}var _b=_a._layout_list;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b.get_item(_e);_d.destroy();}_a._layout_list.clear();};_pLayoutManager.getCurrentLayout=function(_a){var _b=this.checkValid(_a,{cx:_a._adjust_width,cy:_a._adjust_height});var _c=_a._layout_list[_a._current_layout_name];return _c||_a._default_layout;};_pLayoutManager.getStepCount=function(_a){if(!_a){return 0;}var _b=this.getCurrentLayout(_a);if(_b){return _b.stepcount;}else{return 0;}};_pLayoutManager.getCurrStepIndex=function(_a){if(!_a){return 0;}var _b=this.getCurrentLayout(_a);if(_b){return _b.stepindex;}else{return 0;}};_pLayoutManager.setStepIndex=function(_a,_b){if(!_a){return;}var _c=this.getCurrentLayout(_a);var _d=this.getStepCount(_a);if(_b<0){_b=_c.stepindex;}if(_d<0){return;}_c.stepindex=_b;};_pLayoutManager.__onbeforelayoutchange=function(_a,_b){if(_a){var _c=this.getCurrentLayout(_a);_a._updateStepManager(_c);}};_pLayoutManager.__onlayoutchanged=function(_a,_b){var _c=_a._stepmanager;if(_c){_c.initPositionStep();}};delete _pLayoutManager;nexacro.Window=function(_a,_b,_c){this.id=this.name=_a;this.parent=_b;this.frame=null;this.left=0;this.top=0;this.width=0;this.height=0;this.clientWidth=0;this.clientHeight=0;this._handle=null;this._doc=null;this._dest_doc=null;this._dest_handle=null;this._is_window=true;this._is_alive=true;this._is_main=(_c||false);this._Init_sysevent_flag=false;this._prepared_flag=false;this._custom_node_left=0;this._custom_node_top=0;this._custom_node_id=null;this._custom_node=null;this._offset_client_width= -1;this._offset_client_height= -1;this._gap_client_width=0;this._gap_client_height=0;this._is_killfocusing=false;this._focus_list=null;this._child_list=new nexacro.Collection();this._lock_list=[];this._locker_list=[];this._disable_ref=0;this._capture_complist=[];this._last_focused_elem=null;this._accessibility_last_focused_comp=null;this._cur_screen_pos={"x":undefined,"y":undefined};this._cur_client_pos={"x":undefined,"y":undefined};this._cur_touch_elem=null;this._cur_ldown_elem=null;this._cur_rdown_elem=null;this._cur_mdown_elem=null;this._curWindowX=null;this._curWindowY=null;this._currentTouchEvents=[];this._modal_frame_stack=[];this._ignore_close_confirm=false;this._postmsg_data_que=[];this._on_sys_message=this._on_default_sys_message;this._on_sys_lbuttondown=this._on_default_sys_lbuttondown;this._on_sys_rbuttondown=this._on_default_sys_rbuttondown;this._on_sys_lbuttonup=this._on_default_sys_lbuttonup;this._on_sys_rbuttonup=this._on_default_sys_rbuttonup;this._on_sys_mouseup=this._on_default_sys_mouseup;this._on_sys_mousedown=this._on_default_sys_mousedown;this._on_sys_mouseenter=this._on_default_sys_mouseenter;this._on_sys_mouseleave=this._on_default_sys_mouseleave;this._on_sys_mousemove=this._on_default_sys_mousemove;this._on_sys_mousewheel=this._on_default_sys_mousewheel;this._on_sys_dragenter=this._on_default_sys_dragenter;this._on_sys_dragover=this._on_default_sys_dragover;this._on_sys_dragleave=this._on_default_sys_dragleave;this._on_sys_drop=this._on_default_sys_drop;this._on_sys_keydown=this._on_default_sys_keydown;this._on_sys_keypress=this._on_default_sys_keypress;this._on_sys_keyup=this._on_default_sys_keyup;this._on_sys_dblclick=this._on_default_sys_dblclick;this._on_sys_contextmenu=this._on_default_sys_contextmenu;this._on_sys_resize=this._on_default_sys_resize;this._on_sys_move=this._on_default_sys_move;this._on_sys_getminmaxinfo=this._on_default_sys_getminmaxinfo;this._on_sys_activate=this._on_default_sys_activate;this._on_sys_deactivate=this._on_default_sys_deactivate;this._on_sys_beforeclose=this._on_default_sys_beforeclose;this._on_sys_close=this._on_default_sys_close;this._on_sys_reload=this._on_default_sys_reload;this._on_sys_syscommand=this._on_default_sys_syscommand;this._on_sys_touchstart=this._on_default_sys_touchstart;this._on_sys_touchmove=this._on_default_sys_touchmove;this._on_sys_touchend=this._on_default_sys_touchend;this._on_sys_touchcancel=this._on_default_sys_touchcancel;this._on_sys_load=this._on_default_sys_load;this._on_sys_orientationchange=this._on_default_sys_orientationchange;this._on_sys_accessibilitygesture=this._on_default_sys_accessibilitygesture;this._on_sys_accessibilityhover=this._on_default_sys_accessibilityhover;};var _pWindow=nexacro._createPrototype(nexacro.Object,nexacro.Window);nexacro.Window.prototype=_pWindow;_pWindow._type_name="Window";_pWindow.attachHandle=function(_a){if(!this._handle){var _b=this._custom_node;this._handle=_a;this._doc=this._dest_doc=nexacro._getWindowDocumentHandle(_a);this._dest_handle=nexacro._getWindowDestinationHandle(_a,this._custom_node_id);this.left=_b?0:nexacro._getWindowHandlePosX(_a);this.top=_b?0:nexacro._getWindowHandlePosY(_a);this.width=nexacro._getWindowHandleOuterWidth(_a,this._custom_node_id);this.height=nexacro._getWindowHandleOuterHeight(_a,this._custom_node_id);var _c=nexacro._getWindowHandleClientWidth(_a,this._custom_node_id);var _d=nexacro._getWindowHandleClientHeight(_a,this._custom_node_id);this.clientWidth=(_c==0)?this.width:_c;this.clientHeight=(_d==0)?this.height:_d;this._gap_client_width=this.width-this.clientWidth;this._gap_client_height=this.height-this.clientHeight;}};_pWindow.attachFrame=function(_a,_b){this.frame=_a;if(_b){this._onPrepareWindowHandle();}};_pWindow._setSystemMenuResizable=function(_a){nexacro._setSystemMenuResizable(this._handle,_a);};_pWindow._procSysCommand=function(_a){nexacro._procSysCommand(this._handle,_a);};_pWindow._postMessage=function(_a,_b,_c,_d){var _e={id:_b,userdata:_d,target:_a,func:_c};this._postmsg_data_que.push(_e);nexacro._postMessage(_b,this,_a);};_pWindow._onPrepareWindowHandle=function(){if(!this._prepared_flag){this._prepared_flag=true;if(this.frame){this.frame.on_created();}}};_pWindow.refresh=function(){if(this._handle&&this._prepared_flag&&this.frame){this.frame.on_refresh();}};_pWindow.setLinkedWindow=function(_a){nexacro._setLinkedWindow(_a,this);this.attachHandle(_a);};_pWindow.addChild=function(_a){this._child_list.add_item(_a.name,_a);};_pWindow.create=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=null;if(_a){_j=_a._handle;_a._child_list.add_item(_b,this);}nexacro._createWindowHandle(_a,this,_b,_e,_f,_c,_d,_g,_h,_i,this._is_main);};_pWindow.createModal=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=null;if(_a){_j=_a._handle;_a._child_list.add_item(_b,this);}return nexacro._createModalWindowHandle(_a,this,_b,_e,_f,_c,_d,_g,_h,_i,this.frame?this.frame._delayed_create_window:false);};_pWindow.createModalAsync=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=null;if(_a){_j=_a._handle;_a._child_list.add_item(_b,this);}var _k=this;while(_k.parent){_k=_k.parent;}if(_a){this._lock_list[0]=_k;}else{this._lock_list[0]=this.frame._runbase_window;}if(_i==1){var _l=application.popupframes;var _m=null;var _n=null;for(var _o=0,_p=_l.length;_o<_p;_o++ ){popup_win=_l[_o]._window;if(popup_win==this){continue;}_n=popup_win;while(_n.parent){_n=_n.parent;}if(_n==_k){continue;}if(nexacro._indexOf(this._lock_list,_n)<0){this._lock_list.push(_n);}}}nexacro._createModalAsyncWindowHandle(_a,this,_b,_e,_f,_c,_d,_g,_h,_i);};_pWindow.destroy=function(){if(!this._is_alive){return;}this._destroyVisiblePart();this._destroyInternalPart();};_pWindow._destroyVisiblePart=function(){if(!this._is_alive){return;}this._is_alive=false;this._closeChildWindows();if(this._lock_list.length>0){var _a=this._lock_list.length;for(var _d=_a-1;_d>=0;_d-- ){var _b=this._lock_list[_d];if(!_b||!_b.frame){continue;}nexacro._setWindowHandleLock(_b._handle,false,this._handle,true);}}if(this._handle){var _c=nexacro._cur_repeat_info;if(_c&&_c.targetwin==this){if(_c._timer){nexacro._clearSystemTimer(this._handle,_c._timer);}}nexacro._closeWindowHandle(this._handle);}};_pWindow._destroyInternalPart=function(){application._removeProtocols();if(this.parent){this.parent._child_list.delete_item(this.id);}var _a=this._modal_frame_stack;var _b=_a.length;for(var _e=_b-1;_e>=0;_e-- ){var _c=_a[_e];var _d=_c[0];if(_d._is_alive){_d._destroy();}}if(this.frame){nexacro._unregisterPopupFrame(this.frame.id);if(!this.frame._is_main){this.frame._on_close();}if(this.frame._is_alive){this.frame._destroy();}}nexacro._destroyManagerFrame(this._handle);this._doc=this._dest_doc=null;this._dest_handle=null;this.parent=null;this._custom_node=null;this._postmsg_data_que=null;this._on_sys_message=null;this._on_sys_lbuttondown=null;this._on_sys_rbuttondown=null;this._on_sys_lbuttonup=null;this._on_sys_drag_lbuttonup=null;this._on_sys_rbuttonup=null;this._on_sys_mouseup=null;this._on_sys_mousedown=null;this._on_sys_mouseenter=null;this._on_sys_mouseleave=null;this._on_sys_mousemove=null;this._on_sys_drag_mousemove=null;this._on_sys_mousewheel=null;this._on_sys_dragenter=null;this._on_sys_dragmove=null;this._on_sys_dragleave=null;this._on_sys_drop=null;this._on_sys_keydown=null;this._on_sys_keypress=null;this._on_sys_keyup=null;this._on_sys_click=null;this._on_sys_dblclick=null;this._on_sys_contextmenu=null;this._on_sys_resize=null;this._on_sys_move=null;this._on_sys_activate=null;this._on_sys_deactivate=null;this._on_sys_getminmaxinfo=null;this._on_sys_reload=null;this._on_sys_syscommand=null;this._on_sys_load=null;this._on_sys_orientationchange=null;this._on_sys_accessibilitygesture=null;this._on_sys_accessibilityhover=null;};_pWindow.moveBy=function(_a,_b){if(this._handle&&_a&&_b){var _c=this.left+(_a|0);var _d=this.top+(_b|0);nexacro._setWindowHandlePos(this._handle,_c,_d);this.left=nexacro._getWindowHandlePosX(this._handle,this._custom_node_id);this.top=nexacro._getWindowHandlePosY(this._handle,this._custom_node_id);}};_pWindow.moveTo=function(_a,_b){if(this._handle){if(_a===undefined||_a===null){_a=this.left;}if(_b===undefined||_b===null){_b=this.top;}nexacro._setWindowHandlePos(this._handle,_a,_b);this.left=nexacro._getWindowHandlePosX(this._handle,this._custom_node_id);this.top=nexacro._getWindowHandlePosY(this._handle,this._custom_node_id);}};_pWindow.setArea=function(_a,_b,_c,_d){if(this._handle){if(_a===undefined||_a===null){_a=this.left;}if(_b===undefined||_b===null){_b=this.top;}if(_c===undefined||_c===null){_c=this.width;}if(_d===undefined||_d===null){_d=this.height;}nexacro._setWindowHandleArea(this._handle,_a,_b,_c,_d);this.left=nexacro._getWindowHandlePosX(this._handle,this._custom_node_id);this.top=nexacro._getWindowHandlePosY(this._handle,this._custom_node_id);this.width=nexacro._getWindowHandleOuterWidth(this._handle,this._custom_node_id);this.height=nexacro._getWindowHandleOuterHeight(this._handle,this._custom_node_id);this.clientWidth=nexacro._getWindowHandleClientWidth(this._handle,this._custom_node_id);this.clientHeight=nexacro._getWindowHandleClientHeight(this._handle,this._custom_node_id);this._gap_client_width=this.width-this.clientWidth;this._gap_client_height=this.height-this.clientHeight;}};_pWindow.setSize=function(_a,_b){if(this._handle){if(_a===undefined||_a===null){_a=this.width;}if(_b===undefined||_b===null){_b=this.height;}nexacro._setWindowHandleSize(this._handle,_a,_b);this.width=nexacro._getWindowHandleOuterWidth(this._handle,this._custom_node_id);this.height=nexacro._getWindowHandleOuterHeight(this._handle,this._custom_node_id);this.clientWidth=nexacro._getWindowHandleClientWidth(this._handle,this._custom_node_id);this.clientHeight=nexacro._getWindowHandleClientHeight(this._handle,this._custom_node_id);this._gap_client_width=this.width-this.clientWidth;this._gap_client_height=this.height-this.clientHeight;}};_pWindow.setZIndex=function(_a){if(this.zindex!=_a){this.zindex=_a;var _b=this._handle;if(_b){nexacro._setWindowHandleZIndex(_b,_a);}}};_pWindow.getLeft=function(){if(this._handle){this.left=nexacro._getWindowHandlePosX(this._handle,this._custom_node_id);}return this.left;};_pWindow.getTop=function(){if(this._handle){this.top=nexacro._getWindowHandlePosY(this._handle,this._custom_node_id);}return this.top;};_pWindow.getWidth=function(){return this.width;};_pWindow.getHeight=function(){return this.height;};_pWindow.getClientWidth=function(){return this.clientWidth;};_pWindow.getClientHeight=function(){return this.clientHeight;};_pWindow.setVisible=function(_a){};_pWindow.getActiveFrame=function(){var _a=this._getLastModalFrame();if(_a){return _a;}_a=this.frame;while(_a&&_a.getActiveFrame){_a=_a.getActiveFrame();}return _a;};_pWindow.getCurrentFocusPaths=function(){return this._focus_list;};_pWindow.addCurrentFocusPaths=function(_a){if(this._focus_list==null){this._focus_list=[];}this._focus_list.push(_a);};_pWindow.clearCurrentFocusPaths=function(){if(this._focus_list){var _a=this._focus_list.pop();while(_a){_a=null;_a=this._focus_list.pop();}this._focus_list.length=0;}};_pWindow._removeFromCurrentFocusPath=function(_a,_b,_c,_d){if(_b===undefined){_b=true;}var _e=this._indexOfCurrentFocusPaths(_a);if(_e> -1||(_e== -1&&_a===null)){var _f=(_e> -1)?_e:0;var _g=this._getCurrentFocusPathsLength()-1;for(var _k=_g;_k>=_f;_k-- ){var _h=this._focus_list[_k];if(_h){if(_h._is_alive&&!_h._isSelected()){if(_h._is_subcontrol){var _i=_h;var _j=true;while(_i){if(_i._is_alive==false){_j=false;break;}_i=_i.parent;}if(_j){_h._stat_change("notfocus","normal");}}else{if(_h._is_alive){_h._stat_change("notfocus","normal");}}}if(_e> -1){ --this._focus_list.length;}if(_h._is_alive&&_h._on_killfocus){_h._on_killfocus(_c,_d);}if(_h.parent&&_b===true){if(_k>_f||_h.parent._last_focused==_h){_h.parent._last_focused=null;}}}}}};_pWindow._indexOfCurrentFocusPaths=function(_a){if(this._focus_list){return nexacro._indexOf(this._focus_list,_a);}return  -1;};_pWindow._getCurrentFocusPathsLength=function(){if(this._focus_list){return this._focus_list.length;}return 0;};_pWindow.findComponent=function(_a,_b,_c){if(_b===undefined&&_c===undefined){var _d=_a;while(_d&&!_d._is_component){_d=_d.parent;}return _d;}else{if(!_a){return [_a,_b,_c];}var _d=_a;while(_d&&!_d._is_component){_b+=_d.left;_c+=_d.top;_b-=_d._scroll_left||0;_c-=_d._scroll_top||0;_d=_d.parent;}if(!_d){return [_d,_b,_c];}var _e=_d._control_element;if(_e){_b-=_e.left;_c-=_e.top;if((_a instanceof nexacro.ControlElementBase)==false){_b+=_e.padding?_e.padding.left:0;_c+=_e.padding?_e.padding.top:0;_b+=_e.border?_e.border._left_width:0;_c+=_e.border?_e.border._top_width:0;}}if(_d instanceof nexacro.Form){_b+=_a._scroll_left?_a._scroll_left:0;_c+=_a._scroll_top?_a._scroll_top:0;}return [_d,_b,_c];}};_pWindow._findComponentForEvent=function(_a,_b,_c){if(_b===undefined&&_c===undefined){var _d=_a;while(_d){if(_d&&_d._is_component){if(_d.visible&&_d._isEnable()&&_d.enableevent){break;}}_d=_d.parent;}return _d;}else{if(!_a){return [_a,_b,_c];}var _d=_a;var _e=false;while(_d){if(!_d._is_component){_b+=_d.left;_c+=_d.top;_b-=_d._scroll_left||0;_c-=_d._scroll_top||0;_d=_d.parent;}else{if(_d.visible&&_d._isEnable()&&_d.enableevent){break;}else{_e=true;}_b=_c=0;_d=_d._control_element._parent_elem;}}if(!_d){return [_d,_b,_c];}var _f=_d._control_element;if(_f){_b-=_f.left;_c-=_f.top;if((_a instanceof nexacro.ControlElementBase)==false){_b+=_f.padding?_f.padding.left:0;_c+=_f.padding?_f.padding.top:0;}}if(_e){return [_d,_b,_c,true];}return [_d,_b,_c];}};_pWindow._flashWindow=function(_a,_b,_c){return nexacro._flashWindow(this._handle,_a,_b,_c);};_pWindow._closeChildWindows=function(_a){var _b=null;var _c=0;if(_a){var _d=application.popupframes;_c=_d.length;for(var _e=_c-1;_e>=0;_e-- ){var _b=_d[_e]._window;if(_b&&_b.frame&&_b.frame._is_alive){_b._ignore_close_confirm=true;_b.frame._destroy();}}}else{_c=this._child_list.length;for(var _e=_c-1;_e>=0;_e-- ){var _b=this._child_list[_e];if(!_b||_b.parent!=this){continue;}if(_b.frame&&_b.frame._is_alive){_b._ignore_close_confirm=true;_b.frame._destroy();}}}};_pWindow._setTitleText=function(_a){if(this._handle){return nexacro._setWindowHandleText(this._handle,_a);}};_pWindow._setStatusText=function(_a){if(this._handle){return nexacro._setWindowHandleStatusText(this._handle,_a);}};_pWindow._resetScroll=function(_a){var _b=application.getActiveForm();if(_b){var _c;if(_a==undefined){_c=_b.getFocus();}else{var _d=_b._getWindow();_c=_d._accessibility_last_focused_comp;}if(_c){_c._resetScrollPos(_c,_c._adjust_left,_c._adjust_top,_c._adjust_left+_c._adjust_width,_c._adjust_top+_c._adjust_height);if(nexacro._enableaccessibility){if(nexacro._accessibilitytype==5){_c._setAccessibilityNotifyEvent();}}}}};_pWindow._setCaptureLock=function(_a,_b,_c){var _d=this._capture_complist;if(_d.length>0){var _e=_d[_d.length-1];if(_e[0] instanceof nexacro.WaitComponent){_d.length=_d.length+1;_d[_d.length-1]=_d[_d.length-2];_d[_d.length-2]=[_a,_b,_c];return;}}_d.push([_a,_b,_c]);};_pWindow._releaseCaptureLock=function(_a){var _b=this._capture_complist;var _c=_b.length;for(var _d=_c-1;_d>=0;_d-- ){if(_b[_d][0]==_a){_b[_d][0]=null;_b.splice(_d,1);break;}}};_pWindow._setModalLock=function(_a,_b){var _c=this.frame;if(_c){var _d=_c._control_element;if(_d){this._on_modalLock();var _e=nexacro._zindex_firstmodal;var _f=this._modal_frame_stack;if(_f.length>0){_e=_f[_f.length-1][1]+1;}var _g;if(_c._waitcomp){var _h=_c._waitcomp;if(_h._control_element&&_h._control_element._handle){_g=_h._control_element._handle;}}var _i=_c._modal_overlay_elem=new nexacro.ModalOverlayElement(_d);_i.setLinkedControl(_c);_i.create(_e,_b,_g);this._modal_frame_stack.push([_c,_e,null]);_d._refreshForeground(_d._handle);_c.on_apply_pseudo(_c._pseudo);}}};_pWindow._setModalUnlock=function(){var _a=this.frame;if(_a){var _b=_a._control_element;if(_b){var _c=this._modal_frame_stack;var _d=_c.length;var _e;for(var _f=0;_f<_d;_f++ ){_e=_c[_f];if(_e[0]==_a){for(var _g=_f;_g<_d-1;_g++ ){_c[_g]=_c[_g+1];}_c.length=_d-1;break;}}if(_a._modal_overlay_elem){_a._modal_overlay_elem.destroy();_a._modal_overlay_elem=null;}_b._refreshForeground(_b._handle);}}};_pWindow._getCaptureComp=function(_a,_b,_c){var _d=this._capture_complist;var _e=_d.length;var _f;for(var _h=_e-1;_h>=0;_h-- ){var _g=_d[_h];if(_a==true&&_g[1]==true){_f=_g[0];break;}if(_b==true&&_g[2]==true){_f=_g[0];break;}}if(_f){if(_f._contains(_c)){return _c;}return _f;}return null;};_pWindow._getLastModalFrame=function(){if(this._modal_frame_stack.length>0){var _a=this._modal_frame_stack[this._modal_frame_stack.length-1];return _a[0];}return null;};_pWindow._getComponentLayerInfo=function(_a){var _b=_a?_a._refform:null;var _c=_b?_b.getOwnerFrame():null;if(!_c){return null;}_c=_c._getRootLayerFrame();var _d=(_c._window_type==1||_c._window_type==4);var _e={};_e.frame=_c;_e.is_modal=_d;_e.popup_zindex=nexacro._zindex_popup;var _f=this;if(_f._getRootWindow){_f=_f._getRootWindow();}var _g=_f._modal_frame_stack;_e.ref_first_modal_frame=(_g.length>0)?_g[0][0]:null;if(_d){for(var _h=0,_i=_g.length;_h<_i;_h++ ){if(_g[_h][0]==_c){_e.popup_zindex=_g[_h][1];break;}}}return _e;};_pWindow._isActiveLayerComponent=function(_a){var _b=_a?_a._refform:null;var _c=_b?_b.getOwnerFrame():null;if(!_c){return false;}var _d=this;if(_d._getRootWindow){_d=_d._getRootWindow();}_c=_c._getRootLayerFrame();var _e=(_c._window_type==1||_c._window_type==4);var _f=_d._modal_frame_stack;if(_f.length==0){return true;}if(_c==_d._getLastModalFrame()){return true;}return false;};_pWindow._on_default_sys_message=function(_a){var _b=this._postmsg_data_que.shift();var _c={id:_b.id,data:_b.userdata};_b.func.call(_b.target,_c);};_pWindow._lbuttondown_wx=0;_pWindow._lbuttondown_wy=0;_pWindow._click_cancel=false;_pWindow._last_touchid= -1;_pWindow._on_default_sys_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro._gap_client_height=_i-_g;nexacro._gap_client_width=_h-_f;var _j=nexacro._setRunBaseWindow(this);this._lbuttondown_wx=_f;this._lbuttondown_wy=_g;_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;this._cur_ldown_elem=_a;if(_a&&_a._is_track){if(nexacro._current_popups.length>0){var _k=nexacro._current_popups[0]._track_capture;var _l=this.findComponent(_a,0,0);nexacro._checkClosePopupComponent(_l[0],false);var _m=nexacro._current_popups[0];if(!_k){this._click_cancel=false;}else if(!_m){this._click_cancel=true;return;}}else{this._click_cancel=false;}nexacro._setTrackInfo(this,_a,_f,_g);}else{var _l=this.findComponent(_a,0,0);if(_l&&_l[0]){if(nexacro._current_popups.length>0){var _k=nexacro._current_popups[0]._track_capture;nexacro._checkClosePopupComponent(_l[0],true);var _m=nexacro._current_popups[0];if(!_k){this._click_cancel=false;}else if(!_m){this._click_cancel=true;return;}}else{this._click_cancel=false;}var _n=_l[0]._getWindow();_n._curWindowX=_f;_n._curWindowY=_g;var _o=nexacro._getElementXYInWindow((_l.length==3)?_a._handle:_l[0]._control_element._handle);var _p=_f-_o[0]+_l[1];var _q=_g-_o[1]+_l[2];if(_l[0]._isRtl()){var _r=this.width-_f;var _s=this.width-_o[0]-_a.width;_p=_r-_s+_l[1];}var _t=_l[0]._getRootWindowComponent(_l[0]);var _u=this._getCaptureComp(true,false,_l[0]);if(_u&&_u._track_capture){var _v=_u._getRootWindowComponent(_u);if(_t!=_v){_l[0]=_u;}}_l[0]._on_lbuttondown(_a,_b,_c,_d,_e,_p,_q,_h,_i);}}if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_touch_to_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro._gap_client_height=_i-_g;nexacro._gap_client_width=_h-_f;var _j=nexacro._setRunBaseWindow(this);this._lbuttondown_wx=_f;this._lbuttondown_wy=_g;_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;this._cur_ldown_elem=_a;if(_a&&_a._is_track){if(nexacro._current_popups.length>0){var _k=nexacro._current_popups[0]._track_capture;var _l=this.findComponent(_a,0,0);nexacro._checkClosePopupComponent(_l[0],false);var _m=nexacro._current_popups[0];if(!_k){this._click_cancel=false;}else if(!_m){this._click_cancel=true;return;}}else{this._click_cancel=false;}nexacro._setTrackInfo(this,_a,_f,_g);}else{var _l=this.findComponent(_a,0,0);if(_l&&_l[0]){if(nexacro._current_popups.length>0){var _k=nexacro._current_popups[0]._track_capture;nexacro._checkClosePopupComponent(_l[0],true);var _m=nexacro._current_popups[0];if(!_k){this._click_cancel=false;}else if(!_m){this._click_cancel=true;return;}}else{this._click_cancel=false;}var _n=_l[0]._getWindow();_n._curWindowX=_f;_n._curWindowY=_g;var _o=nexacro._getElementXYInWindow((_l.length==3)?_a._handle:_l[0]._control_element._handle);var _p=_f-_o[0]+_l[1];var _q=_g-_o[1]+_l[2];var _r=_l[0]._getRootWindowComponent(_l[0]);var _s=this._getCaptureComp(true,false,_l[0]);if(_s&&_s._track_capture){var _t=_s._getRootWindowComponent(_s);if(_r!=_t){_l[0]=_s;}}_l[0]._on_touch_lbuttondown(_a,_b,_c,_d,_e,_p,_q,_h,_i,undefined,undefined,undefined,false);return {cp:_l[0],cX:_p,cY:_q};}}if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_lbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h){return true;};_pWindow._on_default_sys_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro._gap_client_height=_i-_g;nexacro._gap_client_width=_h-_f;var _j=nexacro._setRunBaseWindow(this);_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;this._cur_rdown_elem=_a;var _k=this.findComponent(_a,0,0);if(_k&&_k[0]){if(nexacro._current_popups.length>0){var _l=nexacro._current_popups[0]._track_capture;nexacro._checkClosePopupComponent(_k[0]);var _m=nexacro._current_popups[0];if(!_l){this._click_cancel=false;}else if(!_m){this._click_cancel=true;return;}}else{this._click_cancel=false;}var _n=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);var _o=_f-_n[0]+_k[1];var _p=_g-_n[1]+_k[2];if(_k[0]._isRtl()){var _q=this.width-_f;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_k[1];}var _s=_k[0]._getRootWindowComponent(_k[0]);var _t=this._getCaptureComp(true,false,_k[0]);if(_t&&_t._track_capture){var _u=_t._getRootWindowComponent(_t);if(_s!=_u){_k[0]=_t;}}_k[0]._on_rbuttondown(_a,_b,_c,_d,_e,_o,_p,_h,_i);}if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_rbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h){return true;};_pWindow._on_default_sys_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this._click_cancel){this._click_cancel=false;return;}var _j=nexacro._setRunBaseWindow(this);var _k=nexacro._cur_drag_info;var _l=nexacro._cur_repeat_info;var _m=nexacro._cur_track_info;var _n=nexacro._cur_extra_track_info;var _o,_p,_q,_r;var _s=false,_t,_u,_v,_w,_x=false;var _y=this.findComponent(this._cur_ldown_elem,0,0);var _z=false;if(_y[0]){_y=_y[0]._getRootComponent(_y[0]);_z=true;}_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;if(_a&&_k&&_k.isDragging&&_k.targetwin==this){_o=this.findComponent(_a,0,0);if(_o&&_o[0]){_p=nexacro._getElementXYInWindow(_a._handle,this._custom_node_id);_q=_f-_p[0]+_o[1];_r=_g-_p[1]+_o[2];if(_o[0]._isRtl()){var _aa=this.width-_f;var _ab=this.width-_p[0]-_a.width;_q=_aa-_ab+_o[1];}_o[0]._on_drop(_a,_k.target,_k.referTarget,_k.data,_k.userdata,_b,_c,_d,_e,_q,_r,_h,_i);_s=true;}}if(_l&&_l.targetwin==this){if(_l._timer){var _ac=nexacro._getWindowHandle(this._handle);nexacro._clearSystemTimer(_ac,_l._timer);}_l.distX=_f-_l.startX;_l.distY=_g-_l.startY;_l.target._on_endrepeat(_l.refer_comp,_l.distX,_l.distY,_l.data);nexacro._cur_repeat_info=null;}if(_m&&_m.targetwin==this){_m.distX=_f-_m.startX;_m.distY=_g-_m.startY;_m.target._on_endtrack(_m.distX,_m.distY,_m.data);nexacro._cur_track_info=null;if(!_y._is_frame&&!_y._is_form){_x=true;}}if(_n){_n.distX=_f-_n.startX;_n.distY=_g-_n.startY;_n.target._on_end_extratrack(_n.distX,_n.distY,_n.data);nexacro._cur_extra_track_info=null;}var _ad=_a;_a=this._cur_ldown_elem;_o=this.findComponent(_a,0,0);if(_o&&_o[0]){_p=nexacro._getElementXYInWindow((_o.length==3)?_a._handle:_o[0]._control_element._handle);_q=_f-_p[0]+_o[1];_r=_g-_p[1]+_o[2];if(_o[0]._isRtl()){var _aa=this.width-_f;var _ab=this.width-_p[0]-_a.width;_q=_aa-_ab+_o[1];}var _ae=_o[0]._getRootWindowComponent(_o[0]);var _af=this._getCaptureComp(true,false,_o[0]);if(_af&&_af._track_capture){var _ag=_af._getRootWindowComponent(_af);if(_ae!=_ag){_o[0]=_af;}}var _ah=_o[0];if(_ah._is_subcontrol){_ah=_ah._getFromComponent(_ah);}_o[0]._on_lbuttonup(_a,_b,_c,_d,_e,_q,_r,_h,_i,undefined,undefined,undefined,_ad);if(!_ah.onlbuttonup||(_ah.onlbuttonup&&!_ah.onlbuttonup.defaultprevented)){var _ai=_o;var _aj=this.findComponent(_ad,0,0);if(_aj[0]&&_aj[0]._is_main&&_ai!=_aj){_aj=_o;}if(_ai&&_ai[0]&&_aj&&_aj[0]&&(_ai[0]==_aj[0]||(_ai[0]!=_aj[0]&&(_ai[0].parent==_aj[0]||_ai[0]==_aj[0].parent)))){_p=nexacro._getElementXYInWindow((_aj.length==3)?_ad._handle:_aj[0]._control_element._handle);_q=_f-_p[0]+_aj[1];_r=_g-_p[1]+_aj[2];if(_aj[0]._isRtl()){var _aa=this.width-_f;var _ab=this.width-_p[0]-_a.width;_q=_aa-_ab+_aj[1];}_t=_a.getElementValue&&!_a.getElementValue();_u=this._lbuttondown_wx!=_f||this._lbuttondown_wy!=_g;_v=this._lbuttondown_wx==_f&&this._lbuttondown_wy==_g;_w=_a instanceof nexacro.InputElement;if(!_w||_v||_s||(!_s&&_u&&_t)){if(!_x){if(nexacro.SupportTouch){var _ak=this._getTouchManager();if(_ak){var _al=this._lbuttondown_wx-_f;var _am=this._lbuttondown_wy-_g;if(Math.abs(_al)<=_ak.unintendedmove_threshold&&Math.abs(_am)<=_ak.unintendedmove_threshold){_aj[0]._on_click(_ad,_b,_c,_d,_e,_q,_r,_h,_i);}}}else{_aj[0]._on_click(_ad,_b,_c,_d,_e,_q,_r,_h,_i);}}}}}_s=false;if(_o[0]._is_alive){_o[0]._on_last_lbuttonup();}}else if(_a&&!_o[0]){if(_y&&_z){_y._cancelEvent();}}nexacro._cur_drag_info=null;this._cur_ldown_elem=null;this._lbuttondown_wx=null;this._lbuttondown_wy=null;this._curWindowX=null;this._curWindowY=null;if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_default_sys_dragenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro._setDragInfo(this,_a,_f,_g,null,null);var _k=new nexacro.DragDataObject;_k.setData("filedrop",_j);var _l=nexacro._cur_drag_info;_l.isDragging=true;_l.target=null;_l.referTarget=null;_l.data=_k;_l.userdata=null;_l._cur_elem=_a;};_pWindow._on_default_sys_dragover=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro._cur_drag_info;if(_j&&_j.targetwin==this){var _k=this.findComponent(_a,0,0);if(_j._cur_elem!=_a){var _l=_j._cur_elem;var _m=this.findComponent(_l,0,0);if(_m&&_m[0]){if(_m[0]!=_k[0]){var _n=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_m[0]._control_element._handle);var _o=_f-_n[0]+_m[1];var _p=_g-_n[1]+_m[2];if(_m[0]._isRtl()){var _q=this.width-_f;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_m[1];}_m[0]._on_dragleave(_a,_k,_j.target,_j.referTarget,_j.data,_j.userdata,_b,_c,_d,_e,_o,_p,_h,_i);if(_k&&_k[0]){_n=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);_o=_f-_n[0]+_k[1];_p=_g-_n[1]+_k[2];if(_k[0]._isRtl()){var _q=this.width-_f;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_k[1];}_k[0]._on_dragenter(_a,_m,_j.target,_j.referTarget,_j.data,_j.userdata,_b,_c,_d,_e,_o,_p,_h,_i);}}}}_j._cur_elem=_a;if(_k&&_k[0]){var _n=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);var _o=_f-_n[0]+_k[1];var _p=_g-_n[1]+_k[2];if(_k[0]._isRtl()){var _q=this.width-_f;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_k[1];}_j.target=_k[0];_k[0]._on_dragmove(_a,_j.target,_j.referTarget,_j.data,_j.userdata,_b,_c,_d,_e,_o,_p,_h,_i);}}};_pWindow._on_default_sys_dragleave=function(){nexacro._cur_drag_info=null;};_pWindow._on_default_sys_drop=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro._cur_drag_info;var _k=false,_l,_m,_n,_o;_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;if(_a&&_j&&_j.isDragging&&_j.targetwin==this){comp=this.findComponent(_a,0,0);if(comp&&comp[0]){elem_pos=nexacro._getElementXYInWindow(_a._handle,this._custom_node_id);canvasX=_f-elem_pos[0]+comp[1];canvasY=_g-elem_pos[1]+comp[2];if(comp[0]._isRtl()){var _p=this.width-_f;var _q=this.width-elem_pos[0]-_a.width;canvasX=_p-_q+comp[1];}comp[0]._on_drop(_a,_j.target,_j.referTarget,_j.data,_j.userdata,_b,_c,_d,_e,canvasX,canvasY,_h,_i);_k=true;}}nexacro._cur_drag_info=null;};_pWindow._cancelEvent=function(){var _a=nexacro._setRunBaseWindow(this);var _b=this._cur_ldown_elem||this._keydown_element;var _c=this.findComponent(_b,0,0);var _d=nexacro._cur_repeat_info;if(_c&&_c[0]){var _e=_c[0]._getRootComponent(_c[0]);_e._cancelEvent(_c[0]);}if(_d&&_d._timer){var _f=nexacro._getWindowHandle(this._handle);nexacro._clearSystemTimer(_f,_d._timer);}nexacro._cur_drag_info=null;nexacro._cur_repeat_info=null;nexacro._cur_track_info=null;nexacro._cur_extra_track_info=null;this._cur_ldown_elem=null;this._lbuttondown_wx=null;this._lbuttondown_wy=null;this._curWindowX=null;this._curWindowY=null;this._keydown_element=null;if(_a){if(application){application._runbase_window=null;}}};_pWindow._on_touch_to_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this._click_cancel){this._click_cancel=false;return;}var _j=nexacro._setRunBaseWindow(this);var _k=nexacro._cur_drag_info;var _l=nexacro._cur_repeat_info;var _m=nexacro._cur_track_info;var _n,_o,_p,_q;var _r=false,_s,_t,_u,_v;_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;if(_a&&_k&&_k.isDragging&&_k.targetwin==this){_n=this.findComponent(_a,0,0);if(_n&&_n[0]){_o=nexacro._getElementXYInWindow(_a._handle);_p=_f-_o[0]+_n[1];_q=_g-_o[1]+_n[2];if(_n[0]._isRtl()){var _w=this.width-_f;var _x=this.width-_o[0]-_a.width;_p=_w-_x+_n[1];}_n[0]._on_drop(_a,_k.target,_k.referTarget,_k.data,_k.userdata,_b,_c,_d,_e,_p,_q,_h,_i);_r=true;}}if(_l&&_l.targetwin==this){if(_l._timer){var _y=nexacro._getWindowHandle(this._handle);nexacro._clearSystemTimer(_y,_l._timer);}_l.distX=_f-_l.startX;_l.distY=_g-_l.startY;_l.target._on_endrepeat(_l.refer_comp,_l.distX,_l.distY,_l.data);nexacro._cur_repeat_info=null;}if(_m&&_m.targetwin==this){_m.distX=_f-_m.startX;_m.distY=_g-_m.startY;_m.target._on_endtrack(_m.distX,_m.distY,_m.data);nexacro._cur_track_info=null;}var _z=_a;_a=this._cur_ldown_elem;_n=this.findComponent(_a,0,0);if(_n&&_n[0]){_o=nexacro._getElementXYInWindow((_n.length==3)?_a._handle:_n[0]._control_element._handle);_p=_f-_o[0]+_n[1];_q=_g-_o[1]+_n[2];var _aa=_n[0]._getRootWindowComponent(_n[0]);var _ab=this._getCaptureComp(true,false,_n[0]);if(_ab&&_ab._track_capture){var _ac=_ab._getRootWindowComponent(_ab);if(_aa!=_ac){_n[0]=_ab;}}var _ad=_n[0];if(_ad._is_subcontrol){_ad=_ad._getFromComponent(_ad);}_n[0]._on_touch_lbuttonup(_a,_b,_c,_d,_e,_p,_q,_h,_i,undefined,undefined,undefined,_z);_r=false;}};_pWindow._on_drop=function(){return true;};_pWindow._on_lbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h){return true;};_pWindow._on_default_sys_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(this._click_cancel){this._click_cancel=false;return;}var _j=nexacro._setRunBaseWindow(this);_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;var _k=this.findComponent(_a,0,0);if(_k&&_k[0]){var _l=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);var _m=_f-_l[0]+_k[1];var _n=_g-_l[1]+_k[2];if(_k[0]._isRtl()){var _o=this.width-_f;var _p=this.width-_l[0]-_a.width;_m=_o-_p+_k[1];}var _q=_k[0]._getRootWindowComponent(_k[0]);var _r=this._getCaptureComp(true,false,_k[0]);if(_r&&_r._track_capture){var _s=_r._getRootWindowComponent(_r);if(_q!=_s){_k[0]=_r;}}_k[0]._on_rbuttonup(_a,_b,_c,_d,_e,_m,_n,_h,_i,undefined,undefined,undefined,_a);}this._cur_rdown_elem=null;if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_rbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h){return true;};_pWindow._on_default_sys_mouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro._setRunBaseWindow(this);_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;var _k=this.findComponent(_a,0,0);if(_k&&_k[0]){var _l=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);var _m=_f-_l[0]+_k[1];var _n=_g-_l[1]+_k[2];if(_k[0]._isRtl()){var _o=this.width-_f;var _p=this.width-_l[0]-_a.width;_m=_o-_p+_k[1];}var _q=_k[0]._getRootWindowComponent(_k[0]);var _r=this._getCaptureComp(true,false,_k[0]);if(_r&&_r._track_capture){var _s=_r._getRootWindowComponent(_r);if(_q!=_s){_k[0]=_r;}}_k[0]._on_mouseup(_a,_b,_c,_d,_e,_m,_n,_h,_i,undefined,undefined,undefined,_a);}this._cur_mdown_elem=null;if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_default_sys_mousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro._setRunBaseWindow(this);_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;this._cur_mdown_elem=_a;var _k=this.findComponent(_a,0,0);if(_k&&_k[0]){var _l=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);var _m=_f-_l[0]+_k[1];var _n=_g-_l[1]+_k[2];if(_k[0]._isRtl()){var _o=this.width-_f;var _p=this.width-_l[0]-_a.width;_m=_o-_p+_k[1];}var _q=_k[0]._getRootWindowComponent(_k[0]);var _r=this._getCaptureComp(true,false,_k[0]);if(_r&&_r._track_capture){var _s=_r._getRootWindowComponent(_r);if(_q!=_s){_k[0]=_r;}}_k[0]._on_mousedown(_a,_b,_c,_d,_e,_m,_n,_h,_i);}if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_default_sys_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro._gap_client_height=_i-_g;nexacro._gap_client_width=_h-_f;var _j=nexacro._cur_drag_info;var _k=nexacro._cur_repeat_info;var _l=nexacro._cur_track_info;var _m=nexacro._cur_extra_track_info;var _n;if(_j&&_j.targetwin==this){var _o=_f-_j.startX;var _p=_g-_j.startY;if(!_j.isDragging){if(_f!=_j.startX||_g!=_j.startY){_a=_j.target_elem;_n=this.findComponent(_a,0,0);var _q=_a._handle?nexacro._getElementXYInWindow(_a._handle):[0,0];var _r=_f-_q[0]+_n[1];var _s=_g-_q[1]+_n[2];if(_n&&_n[0]){if(_n[0]._isRtl()){var _t=this.width-_f;var _u=this.width-_q[0]-_a.width;_r=_t-_u+_n[1];}var _v=_n[0]._on_drag(_a,_b,_c,_d,_e,_r,_s,_h,_i);if(_v&&_v[0]===true&&nexacro._cur_drag_info){_j.isDragging=true;_j.target=_v[1];_j.referTarget=_v[2];_j.data=_v[3];_j.userdata=_v[4];_n[0]._on_dragmove(_a,_j.target,_j.referTarget,_j.data,_j.userdata,_b,_c,_d,_e,_r,_s,_h,_i,undefined,undefined,undefined,_o,_p);var _w=_n[0];var _x=false;while(_w){if(_w instanceof nexacro.ScrollBarCtrl){_x=true;break;}_w=_w.parent;}if(!_x){return;}}}nexacro._cur_drag_info=null;}}else{_n=this.findComponent(_a,0,0);if(_n&&_n[0]){var _q=nexacro._getElementXYInWindow((_n.length==3)?_a._handle:_n[0]._control_element._handle);var _r=_f-_q[0]+_n[1];var _s=_g-_q[1]+_n[2];if(_n[0]._isRtl()){var _t=this.width-_f;var _u=this.width-_q[0]-_a.width;_r=_t-_u+_n[1];}_n[0]._on_dragmove(_a,_j.target,_j.referTarget,_j.data,_j.userdata,_b,_c,_d,_e,_r,_s,_h,_i,undefined,undefined,undefined,_o,_p);}}return;}if(_k&&_k.targetwin==this){_k.distX=_f-_k.startX;_k.distY=_g-_k.startY;_k.canvasX=_k.startCanvasX+_k.distX;_k.canvasY=_k.startCanvasY+_k.distY;}_n=this.findComponent(_a,0,0);if(_l&&_l.targetwin==this){if(_n&&_n[0]&&_n[0]._isRtl()){_l.distX=_l.startX-_f;_l.distY=_g-_l.startY;}else{_l.distX=_f-_l.startX;_l.distY=_g-_l.startY;}_l.target._on_movetrack(_l.distX,_l.distY,_l.data,_f,_g);}if(_m){if(_n&&_n[0]&&_n[0]._isRtl()){_m.distX=_m.startX-_f;_m.distY=_g-_m.startY;}else{_m.distX=_f-_m.startX;_m.distY=_g-_m.startY;}_m.target._on_move_extratrack(_n[0],_f,_g,_m.distX,_m.distY,_h,_i);}if(_n&&_n[0]&&_n[0]._is_alive){var _q=nexacro._getElementXYInWindow(_a._handle);var _r=_f-_q[0]+_n[1];var _s=_g-_q[1]+_n[2];if(_n[0]._isRtl()){var _t=this.width-_f;var _u=this.width-_q[0]-_a.width;_r=_t-_u+_n[1];}var _y=_n[0]._getRootWindowComponent(_n[0]);var _z=this._getCaptureComp(true,false,_n[0]);if(_z&&_z._track_capture){var _aa=_z._getRootWindowComponent(_z);if(_y!=_aa){_n[0]=_z;}}var _ab=_n[0].parent;while(_ab){if(_ab._is_form){break;}_ab=_ab._last_focused;}if(_ab){_ab._obj_mousemove=_n[0];}_n[0]._on_mousemove(_a,_b,_c,_d,_e,_r,_s,_h,_i);if(_ab){_ab._obj_mousemove=null;}}};_pWindow._on_mousemove=function(_a,_b,_c,_d,_e,_f,_g,_h){return true;};_pWindow._on_dragmove=function(){return true;};_pWindow._on_sys_repeat=function(){var _a=nexacro._getWindowHandle(this._handle);var _b=nexacro._cur_repeat_info;if(_b&&_b.targetwin==this){if(_b.step=="first"){if(_b._timer){nexacro._clearSystemTimer(_a,_b._timer);}_b.step="";var _c=_b.refer_comp;var _d=_b.target;if(_c===_d||_d._contains(_c)){_d._on_repeat(_c,_b.canvasX,_b.canvasY,_b.data);}_b._timer=nexacro._setSystemTimer(_a,nexacro._cur_repeat_info._repeatfunc,75);}else{var _c=_b.refer_comp;var _d=_b.target;if(_c===_d||_d._contains(_c)){_d._on_repeat(_c,_b.canvasX,_b.canvasY,_b.data);}}}};_pWindow._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h){return true;};_pWindow._on_default_sys_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro._setRunBaseWindow(this);_a=(_a&&_a.setSelectEventPassElement)?_a.setSelectEventPassElement(_f,_g):_a;var _k=this._findComponentForEvent(_a,0,0);if(_k&&_k[0]&&(_b=="lbutton"||_b=="none")){var _l=nexacro._getElementXYInWindow((_k.length==3)?_a._handle:_k[0]._control_element._handle);var _m=_f-_l[0]+_k[1];var _n=_g-_l[1]+_k[2];if(_k[0]._isRtl()){var _o=this.width-_f;var _p=this.width-_l[0]-_a.width;_m=_o-_p+_k[1];}var _q=_k[0]._getRootWindowComponent(_k[0]);var _r=this._getCaptureComp(true,false,_k[0]);if(_r&&_r._track_capture){var _s=_r._getRootWindowComponent(_r);if(_q!=_s){_k[0]=_r;}}_k[0]._on_dblclick(_a,_b,_c,_d,_e,_m,_n,_h,_i);}if(_j){if(application){application._runbase_window=null;}}};_pWindow._on_dblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pWindow._on_default_sys_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=nexacro._cur_drag_info;var _l,_m;if(_k&&_k.isDragging&&_k.targetwin==this){_l=this.findComponent(_a,0,0);if(_l&&_l[0]){_m=this.findComponent(_b);var _n=nexacro._getElementXYInWindow((_l.length==3)?_a._handle:_l[0]._control_element._handle);var _o=_g-_n[0]+_l[1];var _p=_h-_n[1]+_l[2];if(_l[0]._isRtl()){var _q=this.width-_g;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_l[1];}_l[0]._on_dragenter(_a,_m,_k.target,_k.referTarget,_k.data,_k.userdata,_c,_d,_e,_f,_o,_p,_i,_j);}return;}_l=this.findComponent(_a,0,0);if(_l&&_l[0]){var _s=nexacro._cur_repeat_info;if(_s&&_s.targetwin==this){_s.refer_comp=_l[0];}_m=this.findComponent(_b);var _n=nexacro._getElementXYInWindow((_l.length==3)?_a._handle:_l[0]._control_element._handle);var _o=_g-_n[0]+_l[1];var _p=_h-_n[1]+_l[2];if(_l[0]._isRtl()){var _q=this.width-_g;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_l[1];}var _t=_l[0]._getRootWindowComponent(_l[0]);var _u=this._getCaptureComp(true,false,_l[0]);if(_u&&_u._track_capture){var _v=_u._getRootWindowComponent(_u);if(_t!=_v){_l[0]=_u;}}_l[0]._on_mouseenter(_a,_m,_c,_d,_e,_f,_o,_p,_i,_j);}};_pWindow._on_mouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pWindow._on_dragenter=function(){return true;};_pWindow._on_default_sys_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=nexacro._cur_drag_info;var _l,_m;if(_k&&_k.isDragging&&_k.targetwin==this){_l=this.findComponent(_a,0,0);if(_l&&_l[0]){_m=this.findComponent(_b);var _n=nexacro._getElementXYInWindow((_l.length==3)?_a._handle:_l[0]._control_element._handle);var _o=_g-_n[0]+_l[1];var _p=_h-_n[1]+_l[2];if(_l[0]._isRtl()){var _q=this.width-_g;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_l[1];}_l[0]._on_dragleave(_a,_m,_k.target,_k.referTarget,_k.data,_k.userdata,_c,_d,_e,_f,_o,_p,_i,_j);}return;}_l=this.findComponent(_a,0,0);if(_l&&_l[0]){_m=this.findComponent(_b);var _n=nexacro._getElementXYInWindow((_l.length==3)?_a._handle:_l[0]._control_element._handle);var _o=_g-_n[0]+_l[1];var _p=_h-_n[1]+_l[2];if(_l[0]._isRtl()){var _q=this.width-_g;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_l[1];}var _s=_l[0]._getRootWindowComponent(_l[0]);var _t=this._getCaptureComp(true,false,_l[0]);if(_t&&_t._track_capture){var _u=_t._getRootWindowComponent(_t);if(_s!=_u){_l[0]=_t;}}_l[0]._on_mouseleave(_a,_m,_c,_d,_e,_f,_o,_p,_i,_j);}};_pWindow._on_dragleave=function(){return true;};_pWindow._on_mouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){return true;};_pWindow._on_default_sys_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){var _l=nexacro._setRunBaseWindow(this);var _m=this._findComponentForEvent(_a,0,0);if(_m&&_m[0]){var _n=nexacro._getElementXYInWindow((_m.length==3)?_a._handle:_m[0]._control_element._handle);var _o=_h-_n[0]+_m[1];var _p=_i-_n[1]+_m[2];if(_m[0]._isRtl()){var _q=this.width-_h;var _r=this.width-_n[0]-_a.width;_o=_q-_r+_m[1];}var _s=_m[0]._getRootWindowComponent(_m[0]);var _t=this._getCaptureComp(true,false,_m[0]);if(_t&&_t._track_capture){var _u=_t._getRootWindowComponent(_t);if(_s!=_u){_m[0]=_t;}}return _m[0]._on_mousewheel(_a,_b,_c,_d,_e,_f,_g,_o,_p,_j,_k);}if(_l){if(application){application._runbase_window=null;}}};_pWindow._on_mousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){return true;};_pWindow._keydown_element=null;_pWindow._is_hotkey=false;_pWindow._on_default_sys_keydown=function(_a,_b,_c,_d,_e){var _f=nexacro._setRunBaseWindow(this);var _g=this.findComponent(_a);var _h;if(_g){_h=this._getCaptureComp(false,true,_g[0]);}if(_h&&_h!=_g){_g=_h;}if(nexacro._enableaccessibility){var _i=application.on_fire_onaccessibilitykey(_b,_c,_d,_e,_g,_g);if(_i){if(_f){if(application){application._runbase_window=null;}}_a._event_stop=true;return;}application._processHotkey(_b,_c,_d,_e,_g);}if(_g){var _j=_g._getForm();if(_g._processHotkey(_b,_c,_d,_e)){if(_j){var _k=_j.getFocus();if(_k!=_g){if(_k==null){return;}_g=_k;_a=_k._control_element;}}_g._is_hotkey=true;}if(_b==nexacro.Event.KEY_TAB){if(_g._is_subcontrol){_g=_g._getFromComponent(_g);}if(!_g._getDlgCode(_b,_c,_d,_e).want_tab&&_j){_g=_j;}}else if(nexacro._enableaccessibility&&(_b==nexacro.Event.KEY_UP||_b==nexacro.Event.KEY_DOWN)&&!_c&&!_d&&!_e){if(_g._is_subcontrol){_g=_g._getFromComponent(_g);}if(!_g._getDlgCode(_b,_c,_d,_e).want_arrows&&_j){_g=_j;}}this._keydown_element=_a;_g._on_keydown(_a,_b,_c,_d,_e);}if(_f){if(application){application._runbase_window=null;}}};_pWindow._on_keydown=function(_a,_b,_c,_d,_e,_f){return true;};_pWindow._on_default_sys_keypress=function(_a,_b,_c,_d,_e){var _f=nexacro._setRunBaseWindow(this);var _g=this.findComponent(_a);var _h=this._getCaptureComp(false,true,_g[0]);if(_h&&_h!=_g){_g=_h;}if(_g){_g._on_keypress(_a,_b,_c,_d,_e);}if(_f){if(application){application._runbase_window=null;}}};_pWindow._on_keypress=function(_a,_b,_c,_d,_e){return true;};_pWindow._on_default_sys_keyup=function(_a,_b,_c,_d,_e){var _f=nexacro._setRunBaseWindow(this);if(this._keydown_element){var _g=this.findComponent(_a);var _h=this._getCaptureComp(false,true,_g[0]);if(_h&&_h!=_g){_g=_h;}if(_g){_g._on_keyup(_a,_b,_c,_d,_e);if(_g._is_alive){_g._on_last_keyup();}}if(!_c&&!_d&&!_e){this._keydown_element=null;}}if(_f){if(application){application._runbase_window=null;}}};_pWindow._on_keyup=function(_a,_b,_c,_d,_e,_f){return true;};_pWindow._on_default_sys_contextmenu=function(_a){var _b=this.findComponent(_a);if(_b){return _b._on_contextmenu(_a);}};_pWindow._on_contextmenu=function(_a){return false;};_pWindow._on_default_sys_resize=function(_a,_b,_c){var _d=this._handle;if(_d){var _e=this._custom_node_id;this.width=nexacro._getWindowHandleOuterWidth(_d,_e);this.height=nexacro._getWindowHandleOuterHeight(_d,_e);this.left=nexacro._getWindowHandlePosX(_d,_e);this.top=nexacro._getWindowHandlePosY(_d,_e);var _f=this.frame;if(nexacro.Browser=="Runtime"&&(nexacro.SystemType.toLowerCase()=="win32"||nexacro.SystemType.toLowerCase()=="win64")){this.clientWidth=_a||nexacro._getWindowHandleClientWidth(_d,_e);this.clientHeight=_b||nexacro._getWindowHandleClientHeight(_d,_e);if(_f&&(_f._window_type!=5||_f._is_created)&&_f._is_click_openstatus==false){if(_c==0&&_f._state_openstatus==3){_f.on_syscommand(_f._control_element,"restore",undefined,_f);}else if(_c==2&&_f._state_openstatus==0){_f.on_syscommand(_f._control_element,"maximize",undefined,_f);}}}else{this.clientWidth=nexacro._getWindowHandleClientWidth(_d,_e)||_a;this.clientHeight=nexacro._getWindowHandleClientHeight(_d,_e)||_b;}var _g=this.clientWidth;var _h=this.clientHeight;if(_f){_f._setSize(_g,_h);if(nexacro._resize_popup_inbound==true){var _i=nexacro._current_popups.length;var _j=null;for(var _n=_i-1;_n>=0;_n-- ){_j=nexacro._current_popups[_n];if(_j){_j._resizePopupInbound(this.clientWidth,this.clientHeight);}}}}var _k=this._modal_frame_stack;for(var _n=0,_o=_k.length;_n<_o;_n++ ){var _l=_k[_n];var _m=_l[0];if(_m._setModalOverlaySize){_m._setModalOverlaySize(_g,_h);}}}};_pWindow._on_default_sys_move=function(_a,_b){var _c=this._handle;if(_c){var _d=this._custom_node_id;this.left=_a;this.top=_b;this.width=nexacro._getWindowHandleOuterWidth(_c,_d);this.height=nexacro._getWindowHandleOuterHeight(_c,_d);var _e=nexacro._getWindowHandleClientWidth(_c,this._custom_node_id);var _f=nexacro._getWindowHandleClientHeight(_c,this._custom_node_id);this.clientWidth=(_e==0)?this.width:_e;this.clientHeight=(_f==0)?this.height:_f;}var _g=this.frame;if(_g&&_g._is_window){_g._move(_a,_b);}};_pWindow._on_default_sys_activate=function(){if(this._is_active_window!=true){var _a=this.getCurrentFocusPaths();var _b=(_a?_a.length:0);for(var _h=0;_h<_b;_h++ ){var _c=_a[_h];if(!_c){continue;}_c._on_activate();}var _d=this._getLastModalFrame();if(!_d){_d=this.getActiveFrame();}if(!_d){_d=this.frame;}if(_d){_d._stat_change("activate","activate");this._is_active_window=true;var _e=this._last_focused_elem;if(_e&&_e._owner_elem&&_e._parent_elem){var _f=this.findComponent(_e);_f=_f._getRootComponent(_f);var _g=this._indexOfCurrentFocusPaths(_f);if(_g> -1){_e.setElementFocus();}}}}};_pWindow._on_default_sys_deactivate=function(){if(this._is_active_window!=false){nexacro._cur_drag_info=null;nexacro._cur_repeat_info=null;nexacro._cur_track_info=null;nexacro._cur_extra_track_info=null;var _a=this._getLastModalFrame();if(!_a){_a=this.frame;}if(_a){_a._stat_change("activate","deactivate");this._is_active_window=false;}var _b=this.getCurrentFocusPaths();var _c=(_b?_b.length:0);for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){_d._on_deactivate();}}}if(this._is_alive&&!(this._last_focused_elem instanceof nexacro.WebBrowserPluginElement)){nexacro._checkClosePopupComponent(null);}};_pWindow._on_default_sys_beforeclose=function(){if(!this._ignore_close_confirm){var _a=this.frame;var _b=_a._on_beforeclose();return _b;}};_pWindow._on_default_sys_close=function(){if(this._is_alive){nexacro._checkClosePopupComponent(null);nexacro._removePopupComponent(null);}if(this._is_main){application.beforeExit();this._closeChildWindows(true);}else if(this._is_alive){this.destroy();}if(!this._is_main&&this.frame){nexacro._createModalAsyncCallbackHandler(this._handle,this.frame);}if(this._is_main&&nexacro.Browser!="Runtime"){application._exit(true);}};_pWindow._on_default_sys_load=function(_a){if(!this._handle&&_a){this.attachHandle(_a);}if(this._handle){var _b=this._lock_list;for(var _c=0,_d=_b.length;_c<_d;_c++ ){nexacro._setWindowHandleLock(_b[_c]?_b[_c]._handle:null,true,this._handle,true);}if(this.frame){this.frame._on_window_loaded();}}};_pWindow._on_default_sys_reload=function(_a){if(_a){var _b=this.findComponent(_a);if(_b){var _c=_b._getForm();if(_c){var _d=_c.getOwnerFrame();if(_d&&_d.form){_d.form.reload();}}}}};_pWindow._on_default_sys_syscommand=function(_a){if(this.frame){var _b=this.frame;_b.on_syscommand(_b._control_element,_a,true,_b,null);}};_pWindow._on_default_sys_getminmaxinfo=function(){if(this.frame){var _a=this.frame._getMinMaxInfo();return [_a.cx,_a.cy];}return null;};_pWindow._on_default_sys_touchstart=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=this._getTouchManager();if(!_k){return;}this._cur_touch_elem=_a;if(_a&&_a._is_track){if(nexacro._current_popups.length>0){var _l=nexacro._current_popups[0]._track_capture;var _m=this.findComponent(_a,0,0);nexacro._checkClosePopupComponent(_m[0],false);var _n=nexacro._current_popups[0];if(!_l){this._click_cancel=false;}else if(!_n){this._click_cancel=true;return;}}else{this._click_cancel=false;}nexacro._setTrackInfo(this,_a,windowX,windowY);}else{if(nexacro._current_popups.length>0){var _l=nexacro._current_popups[0]._track_capture;var _m=this.findComponent(_a,0,0);nexacro._checkClosePopupComponent(_m[0],true);var _n=nexacro._current_popups[0];if(!_l){this._click_cancel=false;}else if(!_n){this._click_cancel=true;return;}}else{this._click_cancel=false;}if(nexacro.OS=="iOS"){var _o=this._last_touchid;this._last_touchid=_b;if(_b==_o){this._click_cancel=true;return;}}var _p=_k.ontouchstart(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);if(_k._slide_blocked){var _m=this.findComponent(_a,0,0);if(_m){var _q=_m[0]?_m[0]._getRootForm():null;if(_q&&_q.stepcontrol){if(_q.stepcontrol){var _r=_q.stepcontrol?_q.stepcontrol.getStepIndex():0;_q._createStepChangeAnimation(_r,400);}}}}if(nexacro._allow_default_pinchzoom&&!nexacro.AccessibilityUtil.cancelTouchEvent(_a)){return;}}if(_a instanceof nexacro.InputElement){return;}if(_a instanceof nexacro.InputElement){return;}return _p;};_pWindow._on_default_sys_accessibilitygesture=function(_a){var _b=_a?nexacro.Event.KEY_DOWN:nexacro.Event.KEY_UP;var _c=this._accessibility_last_focused_comp;if(_c){if(!(_c._is_alive&&_c._getForm())){_c=null;}}if(!_c){var _d=this.getCurrentFocusPaths();this._accessibility_last_focused_comp=_c=_d[_d.length-1];}if(_c){var _e=_c._getForm();if(_c._is_subcontrol){_c=_c._getRootComponent(_c);}if(!_c._getDlgCode(_b,false,false,false).want_arrows&&_e){_c=_e;}_c._on_accessibilitygesture(_a);}return;};_pWindow._on_default_sys_accessibilityhover=function(_a,_b,_c,_d,_e){var _f=null;var _g=null;var _h=false;var _i=this._accessibility_last_focused_comp;_f=this.findComponent(_a,0,0);if(_f&&_f[0]){_f=_f[0];if(_f._is_subcontrol){_g=_f;_f=_f._getRootComponent(_f);}if(!_f._is_form){var _h=_f._setAccessibilityInfoByHover(_g);if(_h){if(_i){_i._clearAccessibilityInfoByHover();}this._accessibility_last_focused_comp=_f._getRootComponent(_f);}}else{var _j=_f._getSortedDecendants(_f,undefined,true);var _k=_j?_j.length:0;if(_k==0){var _h=_f._setAccessibilityInfoByHover(_g);}}}return _h;};_pWindow._on_default_sys_touchmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this._getTouchManager();if(!_j){return;}if(_j._allow_default){return;}var _k=_j.ontouchmove(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);return _k;};_pWindow._on_default_sys_touchend=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro._gap_client_height=_f-_d;nexacro._gap_client_width=_e-_c;if(this._click_cancel){this._click_cancel=false;return;}var _j=this._getTouchManager();if(!_j){return;}this._cur_touch_elem=_a;var _k=_j.ontouchend(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);if(_j._slide_blocked){var _l=this.findComponent(_a,0,0);if(_l){var _m=_l[0]?_l[0]._getRootForm():null;if(_m&&_m.stepcontrol){if(_m.stepcontrol){var _n=_m.stepcontrol?_m.stepcontrol.getStepIndex():0;_m._createStepChangeAnimation(_n,400);}}}}if(_j._allow_default){return;}return _k;};_pWindow._on_default_sys_touchcancel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=this._getTouchManager();if(!_j){return;}var _k=_j.ontouchcancel(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);return _k;};_pWindow._on_default_sys_orientationchange=function(_a){if(this.frame){this.frame._on_orientationchange(_a);}};_pWindow._getTouchManager=function(){var _a=application._touch_manager;if(!_a){_a=application._touch_manager=new nexacro.TouchManager();}return _a;};_pWindow._setFocus=function(){nexacro._setWindowHandleFocus(this._handle);};_pWindow._on_modalLock=function(){nexacro._updateWindow(this._handle);};delete _pWindow;nexacro.PopupWindow=function(_a,_b){nexacro.Window.call(this,_a,_b,false);this.comp=null;this._old_focused_comp=null;};var _pPopupWindow=nexacro._createPrototype(nexacro.Window,nexacro.PopupWindow);nexacro.PopupWindow.prototype=_pPopupWindow;_pPopupWindow._type_name="PopupWindow";_pPopupWindow.attachHandle=function(_a){if(!this._handle){this._handle=this._dest_handle=_a;this._doc=this._dest_doc=nexacro._getPopupWindowDocumentHandle(_a);this.left=nexacro._getPopupWindowHandlePosX(_a);this.top=nexacro._getPopupWindowHandlePosY(_a);this.width=nexacro._getPopupWindowHandleOuterWidth(_a);this.height=nexacro._getPopupWindowHandleOuterHeight(_a);this.clientWidth=nexacro._getPopupWindowHandleClientWidth(_a);this.clientHeight=nexacro._getPopupWindowHandleClientHeight(_a);this._gap_client_width=this.width-this.clientWidth;this._gap_client_height=this.height-this.clientHeight;}};_pPopupWindow.attachFrame=function(_a,_b){};_pPopupWindow.attachComp=function(_a,_b){this.comp=_a;if(_b){this._onPrepareWindowHandle();}};_pPopupWindow.create=function(_a,_b,_c,_d,_e,_f,_g){nexacro._createPopupWindowHandle(_a,this,_b,_e,_f,_c,_d);};_pPopupWindow.destroy=function(){if(!this._is_alive){return;}this._is_alive=false;var _a=this._handle;if(_a){nexacro._closePopupWindowHandle(_a);this._handle=null;}this.comp=null;nexacro.Window.prototype.destroy.call(this);};_pPopupWindow.moveBy=function(_a,_b){var _c=this._handle;if(_c&&_a&&_b){var _d=this.left+(_a|0);var _e=this.top+(_b|0);nexacro._setPopupWindowHandlePos(_c,_d,_e);this.left=nexacro._getPopupWindowHandlePosX(_c);this.top=nexacro._getPopupWindowHandlePosY(_c);}};_pPopupWindow.moveTo=function(_a,_b){var _c=this._handle;if(_c){if(_a===undefined||_a===null){_a=this.left;}if(_b===undefined||_b===null){_b=this.top;}nexacro._setPopupWindowHandlePos(_c,_a,_b);this.left=nexacro._getPopupWindowHandlePosX(_c);this.top=nexacro._getPopupWindowHandlePosY(_c);}};_pPopupWindow.setArea=function(_a,_b,_c,_d){var _e=this._handle;if(_e){if(_a===undefined||_a===null){_a=this.left;}if(_b===undefined||_b===null){_b=this.top;}if(_c===undefined||_c===null){_c=this.width;}if(_d===undefined||_d===null){_d=this.height;}nexacro._setPopupWindowHandleArea(_e,_a,_b,_c,_d);this.left=nexacro._getPopupWindowHandlePosX(_e);this.top=nexacro._getPopupWindowHandlePosY(_e);this.width=nexacro._getPopupWindowHandleOuterWidth(_e);this.height=nexacro._getPopupWindowHandleOuterHeight(_e);this.clientWidth=nexacro._getPopupWindowHandleClientWidth(_e);this.clientHeight=nexacro._getPopupWindowHandleClientHeight(_e);this._gap_client_width=this.width-this.clientWidth;this._gap_client_height=this.height-this.clientHeight;}};_pPopupWindow.setSize=function(_a,_b){var _c=this._handle;if(_c){if(_a===undefined||_a===null){_a=this.width;}if(_b===undefined||_b===null){_b=this.height;}nexacro._setPopupWindowHandleSize(_c,_a,_b);this.width=nexacro._getPopupWindowHandleOuterWidth(_c);this.height=nexacro._getPopupWindowHandleOuterHeight(_c);this.clientWidth=nexacro._getPopupWindowHandleClientWidth(_c);this.clientHeight=nexacro._getPopupWindowHandleClientHeight(_c);this._gap_client_width=this.width-this.clientWidth;this._gap_client_height=this.height-this.clientHeight;}};_pPopupWindow.setVisible=function(_a){if(this.visible!=_a){this.visible=_a;var _b=this._getRootWindow();if(_a){var _c=_b.getCurrentFocusPaths();if(_c&&_c.length>0){var _d=_c[_c.length-1];_d=_d._last_focused?_d._last_focused:_d;if(_d._is_killfocusing){_d=_b._setfocusing_comp;}this._old_focused_comp=_d;}else{this._old_focused_comp=null;}}else{if(this._old_focused_comp){this._old_focused_comp.setFocus();}}nexacro._setPopupWindowHandleVisible(this._handle,_a);}};_pPopupWindow.getTopComp=function(){return this.comp;};_pPopupWindow._setCaptureComp=function(_a){var _b=this._getRootWindow();if(_b){_b._setCaptureLock(_a,true,false);}};_pPopupWindow._releaseCaptureComp=function(_a){var _b=this._getRootWindow();if(_b){_b._releaseCaptureLock(_a);}};_pPopupWindow._on_default_sys_activate=nexacro._emptyFn;_pPopupWindow._on_default_sys_deactivate=nexacro._emptyFn;_pPopupWindow._getRootWindow=function(){var _a=this;while(_a){if(_a.frame){return _a;}_a=_a.parent;}return this;};_pPopupWindow.getCurrentFocusPaths=function(){return this._getRootWindow().getCurrentFocusPaths();};_pPopupWindow.addCurrentFocusPaths=function(_a){this._getRootWindow().addCurrentFocusPaths(_a);};_pPopupWindow.clearCurrentFocusPaths=function(){this._getRootWindow().clearCurrentFocusPaths();};_pPopupWindow._removeFromCurrentFocusPath=function(_a,_b,_c,_d){this._getRootWindow()._removeFromCurrentFocusPath(_a,_b,_c,_d);};_pPopupWindow._indexOfCurrentFocusPaths=function(_a){return this._getRootWindow()._indexOfCurrentFocusPaths(_a);};delete _pPopupWindow;if(!this.application){_pApplication=nexacro.Application=nexacro._createPrototype(nexacro.EventSinkObject);_pApplication._type_name="Application";_pApplication.id="application";_pApplication.name="application";_pApplication.all=new nexacro.Collection();_pApplication.trays=new nexacro.Collection();_pApplication.widgets=new nexacro.Collection();_pApplication.popupframes=new nexacro.Collection();_pApplication.services=new nexacro.Collection();_pApplication.images=new nexacro.Collection();_pApplication.components=new nexacro.Collection();_pApplication.updates=new nexacro.Collection();_pApplication.onload=null;_pApplication.onerror=null;_pApplication.onbeforeexit=null;_pApplication.onexit=null;_pApplication.onusernotify=null;_pApplication.onloadtypedefinition=null;_pApplication.onloadingglobalvariables=null;_pApplication.ondownloadactivex=null;_pApplication.oncopydata=null;_pApplication.onquickviewmenuclick=null;_pApplication.onbeforeuserconfirm=null;_pApplication.onafteruserconfirm=null;_pApplication.onaddlog=null;_pApplication.oncommunication=null;_pApplication.oncduplicateexecution=null;_pApplication.mainframe=null;_pApplication.key="";_pApplication.xadl="";_pApplication.componentpath="";_pApplication.commthreadcount=3;_pApplication.commthreadwaittime=0;_pApplication.cachedir="";_pApplication.errorfile="";_pApplication.onlyone=false;_pApplication.loginformurl="";_pApplication.loginformstyle="";_pApplication.codepage="";_pApplication.language="";_pApplication.version="";_pApplication.tracemode="none";_pApplication.traceduration= -1;_pApplication.usehttpkeepalive=true;_pApplication.useproxykeepalive=true;_pApplication.httptimeout=30;_pApplication.proxytimeout=30;_pApplication.httpretry=3;_pApplication.proxyretry=3;_pApplication.themeid="";_pApplication.engineversion=nexacro._getEngineVersion();_pApplication.enginesetupkey="";_pApplication.usewaitcursor=true;_pApplication.licenseurl="";_pApplication.mousehovertime=500;_pApplication.mousewheeltype=0;_pApplication.imepastemode=0;_pApplication.addcookietovariable=true;_pApplication.filesecurelevel=1;_pApplication.networksecurelevel=1;_pApplication.enablescreencapture=true;_pApplication.enablecookie=true;_pApplication.enablecache=true;_pApplication.enableclipboard=true;_pApplication.enabletouchevent=false;_pApplication.enableanimation=false;_pApplication.loglevel="debug";_pApplication.errorlevel=0;_pApplication.cookiecachetype="cache";_pApplication.usecontextmenu="all";_pApplication.loadingimage="";_pApplication.usevml=true;_pApplication.tabkeycirculation="form,cycle";_pApplication.checkversion=false;_pApplication._appversion="";_pApplication.popuptype="normal";_pApplication.rtldirection="";_pApplication.locale="";_pApplication.enableaccessibility=false;_pApplication.accessibilityfirstovertext="";_pApplication.accessibilitylastovertext="";_pApplication.accessibilityreplayhotkey="";_pApplication.accessibilitybackwardkey="";_pApplication.accessibilityforwardkey="";_pApplication.accessibilitywholereadhotkey="";_pApplication.accessibilityhistorycount=5;_pApplication.accessibilitytype="standard";_pApplication.accessibilitydescreadtype="label";_pApplication.accessibilitywholereadtype="none";_pApplication.hithemeid="";_pApplication.accessibilityheadingnexthotkey="";_pApplication.accessibilityheadingprevhotkey="";_pApplication.accessibilitycomponentnexthotkey="";_pApplication.accessibilitycomponentprevhotkey="";_pApplication._tabkeycirculation=0;_pApplication._accessibilitywholereadtype=0;_pApplication._accessibilityHistoryList=null;_pApplication._accessibilityHistoryCursor= -1;_pApplication.layoutautofittype="none";_pApplication._hotkey_list=[];_pApplication._locale_info=nexacro.Locale.getLocaleInfo(nexacro._getLocale());_pApplication._locale=_pApplication._locale_info.name;_pApplication._rtldirection=_pApplication._locale_info.direction;_pApplication._is_application=true;_pApplication._need_init=true;_pApplication._project_uri="";_pApplication._theme_uri="./_theme_/default";_pApplication._resource_path="";_pApplication._default_loadingimage="./images/waitimage.gif";_pApplication._variables=[];_pApplication._cookie_variables=[];_pApplication._header_variables=[];_pApplication._datasets=[];_pApplication._protocols={};_pApplication._active_window=null;_pApplication._global_context=this;_pApplication._is_loaded=false;_pApplication._is_hybrid=false;_pApplication._is_loadforms=false;_pApplication._local_path="";_pApplication._loglevel=4;_pApplication._cssurls=[];_pApplication._css_selectors={_is_selector:true,_has_items:false,_has_attr_items:false};_pApplication._cssfinder_cache={};_pApplication._load_manager=new nexacro.LoadManager(nexacro.Application);_pApplication._screeninfo=null;_pApplication._device_name="";_pApplication._layout_manager=new nexacro.LayoutManager(nexacro.Application);_pApplication._curscreen=null;if(nexacro.SupportTouch){_pApplication._touch_manager=new nexacro.TouchManager();_pApplication._lastTouchEndX=0;_pApplication._lastTouchEndY=0;}else{_pApplication._touch_manager=null;}_pApplication._com_waiting=false;_pApplication._comm_contextlist=[];_pApplication._current_popups=[];_pApplication._typedefinitions=[];_pApplication._aliaslist=[];_pApplication._registerclass=[];_pApplication._extensionmodules=[];_pApplication._typedefinition_url="";_pApplication._globalvar_uri="";_pApplication._includescriptlist=[];_pApplication._quickview_mode=false;_pApplication._localcache_path="";_pApplication._localtheme_path="";_pApplication._localcaches={};_pApplication._localthemecaches={};_pApplication._entered=null;_pApplication._load_callbacklist=[];_pApplication._closedmodalasync_list=[];_pApplication.services=new nexacro.Collection();_pApplication._defaultservice=null;_pApplication._rtldirection=undefined;_pApplication._skipDragEventAfterMsgBox=false;_pApplication._current_tray_popup=null;_pApplication._accessibilitytype=1;_pApplication._is_on_alert=false;_pApplication._popupparentframe=[];_pApplication._popupparentargs=[];_pApplication._popupparentopener=[];_pApplication._event_list={"onload":1,"onerror":1,"onbeforeexit":1,"onexit":1,"onusernotify":1,"onloadtypedefinition":1,"onloadingglobalvariables":1,"ondownloadactivex":1,"oncopydata":1,"onquickviewmenuclick":1,"onbeforeuserconfirm":1,"onafteruserconfirm":1,"onaddlog":1,"oncommunication":1,"onaccessibilitykey":1,"onloadforms":1,"onduplicateexecution":1,"onnotification":1};_pApplication._isEnable=function(){return true;};_pApplication._isLoaded=function(){return this._is_loaded;};_pApplication.on_fire_onload=function(_a,_b){if(this.onload&&this.onload._has_handlers){var _c=new nexacro.LoadEventInfo(_a,"onload",_b);return this.onload._fireEvent(this,_c);}};_pApplication._on_load=function(_a,_b){this.on_fire_onload(_a,_b);var _c=this._load_callbacklist;var _d=_c.length;if(_d>0){for(var _g=0;_g<_d;_g++ ){var _e=_c[_g];var _f=_e.target;var _b=_e.url;if(_f._is_alive!=false){_e.callback.call(_f,_f,_b,true);}}_c.splice(0,_d);}return true;};_pApplication._addLoadCallbacklist=function(_a){if(!this._is_loaded){application._load_callbacklist.push(_a);return true;}return false;};_pApplication._registerLoadforms=function(_a){if(this._is_loadforms){return;}if(!application._loadforms){application._loadforms=[];}application._loadforms.push(_a);};_pApplication._notifyLoadforms=function(_a){if(this._is_loadforms){return;}var _b=application._loadforms;if(!_b){return false;}var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_a==_d){_b.splice(_e,1);}}if(_b.length==0){this._is_loadforms=true;this.on_fire_onloadforms(this,this.xadl);}return false;};_pApplication.on_fire_onloadforms=function(_a,_b){if(this.onloadforms&&this.onloadforms._has_handlers){var _c=new nexacro.LoadEventInfo(_a,"onloadforms",_b);return this.onloadforms._fireEvent(this,_c);}};_pApplication.on_fire_onloadtypedefinition=function(_a,_b){if(this.onloadtypedefinition&&this.onloadtypedefinition._has_handlers){var _c=new nexacro.LoadEventInfo(_a,"onloadtypedefinition",_b);return this.onloadtypedefinition._fireEvent(this,_c);}return true;};_pApplication.on_fire_onloadingglobalvariables=function(_a,_b){if(this.onloadingglobalvariables&&this.onloadingglobalvariables._has_handlers){var _c=new nexacro.LoadEventInfo(_a,"onloadingglobalvariables",_b);return this.onloadingglobalvariables._fireEvent(this,_c);}return true;};_pApplication.on_fire_onerror=function(_a,_b,_c,_d,_e,_f,_g,_h){if(this.onerror&&this.onerror._has_handlers){var _i=new nexacro.ErrorEventInfo(_a,"onerror",_b,_c,_d,_e,_f,_g,_h);if(nexacro._communicationStatusTable["stop"]==_e){if(nexacro.Browser=="Runtime"){var _j=this.onerror._fireUserEvent(this,_i);this.onerror._fireSysEvent(this,_i);return _j;}}return this.onerror._fireEvent(this,_i);}};_pApplication.on_fire_onbeforeexit=function(_a){if(this.onbeforeexit&&this.onbeforeexit._has_handlers){var _b=new nexacro.ExitEventInfo(_a,"onbeforeexit");return this.onbeforeexit._fireEvent(this,_b);}};_pApplication.on_fire_onexit=function(_a){if(this.onexit&&this.onexit._has_handlers){var _b=new nexacro.ExitEventInfo(_a,"onexit");return this.onexit._fireEvent(this,_b);}return true;};_pApplication.on_fire_onusernotify=function(_a,_b,_c){if(this.onusernotify&&this.onusernotify._has_handlers){var _d=new nexacro.UserNotify(_a,"onusernotify",_b,_c);return this.onusernotify._fireEvent(this,_d);}return true;};_pApplication.on_fire_onaddlog=function(_a,_b){if(this.onaddlog&&this.onaddlog._has_handlers){var _c=new nexacro.AddLog(_a,"onaddlog",_b);return this.onaddlog._fireEvent(this,_c);}return true;};_pApplication.on_fire_oncommunication=function(_a,_b){if(this.oncommunication&&this.oncommunication._has_handlers){var _c=new nexacro.Communication(_a,"oncommunication",_b);return this.oncommunication._fireEvent(this,_c);}return true;};_pApplication.on_fire_onaccessibilitykey=function(_a,_b,_c,_d,_e,_f){if(this.onaccessibilitykey&&this.onaccessibilitykey._has_handlers){var _g=new nexacro.KeyEventInfo(this,"onaccessibilitykey",_b,_c,_d,_a,_e,_f);return this.onaccessibilitykey._fireEvent(this,_g);}return false;};_pApplication._on_callback_beforeuserconfirm=function(){return this.on_fire_onbeforeuserconfirm();};_pApplication._on_callback_afteruserconfirm=function(){return this.on_fire_onafteruserconfirm();};_pApplication.on_fire_onbeforeuserconfirm=function(){if(this.onbeforeuserconfirm&&this.onbeforeuserconfirm._has_handlers){var _a=new nexacro.EventInfo(this,"onbeforeuserconfirm");return this.onbeforeuserconfirm._fireEvent(this,_a);}return false;};_pApplication.on_fire_onafteruserconfirm=function(){if(this.onafteruserconfirm&&this.onafteruserconfirm._has_handlers){var _a=new nexacro.EventInfo(this,"onafteruserconfirm");return this.onafteruserconfirm._fireEvent(this,_a);}return false;};_pApplication.on_fire_onduplicateexecution=function(_a){if(this.onduplicateexecution&&this.onduplicateexecution._has_handlers){var _b=[];var _c=/([a-z0-9_]*)(=|:[sgc]=)(([^,'"]+)|('[^']*')|("[^"]*"))(,|$)/ig;var _d;while(_d=_c.exec(_a)){var _e=_d[0];if(_e.charAt(_e.length-1)==','){_e=_e.substr(0,_e.length-1);}var _f=_e.indexOf("=");var _g=_e.substr(0,_f);if(_g[0]>='0'&&_g.charAt(0)<='9'){continue;}var _h=_e.substr(_f+1,_e.length-_f);var _i=null;var _j=_g.indexOf(":");if(_j>0){_i=_g.substr(_j+1,1);_g=_g.substr(0,_j);}if(_h.length>2&&((_h.charAt(0)=='\''&&_h.charAt(_h.length-1)=='\'')||(_h.charAt(0)=='\"'&&_h.charAt(_h.length-1)=='\"'))){_h=_h.substr(1,_h.length-2);}switch(_i){case 's':_b.push({name:_g,value:_h,usecokie:true});break;case 'g':default:_b.push({name:_g,value:_h,usecokie:false});break;}}var _k=new nexacro.DuplicateExecutionEventInfo(this,"onduplicateexecution",_b);return this.onduplicateexecution._fireEvent(this,_k);}return false;};_pApplication.on_fire_onnotification=function(_a){var _b=JSON.parse(_a);if(_b.token!=undefined){nexacro.System._setNotificationToken(_b.token);}if(this.onnotification&&this.onnotification._has_handlers){var _c=new nexacro.NotificationEventInfo(this,"onnotification",_b.reason,_b.messages);return this.onnotification._fireEvent(this,_c);}return false;};_pApplication._on_sys_focus=function(_a,_b,_c){return false;};_pApplication._on_sys_lbuttondown=function(_a,_b,_c){return false;};_pApplication._on_sys_lbuttonup=function(_a,_b,_c){return false;};_pApplication._on_sys_rbuttondown=function(_a,_b,_c){return false;};_pApplication._on_sys_rbuttonup=function(_a,_b,_c){return false;};_pApplication._on_sys_mouseup=function(_a,_b,_c){return false;};_pApplication._on_sys_mousedown=function(_a,_b,_c){return false;};_pApplication._on_sys_mouseenter=function(_a,_b,_c){return false;};_pApplication._on_sys_mouseleave=function(_a,_b,_c){return false;};_pApplication._on_sys_mousemove=function(_a,_b,_c){return false;};_pApplication._on_sys_mousewheel=function(_a,_b,_c){return false;};_pApplication._on_sys_keydown=function(_a,_b,_c){return false;};_pApplication._on_sys_keypress=function(_a,_b,_c){return false;};_pApplication._on_sys_keyup=function(_a,_b,_c){return false;};_pApplication._on_sys_dblclick=function(_a,_b,_c){return false;};_pApplication._on_sys_touch=function(_a,_b,_c){return false;};_pApplication._onSystemWarning=function(_a,_b){var _c=Array.prototype.slice.call(arguments,2);var _d=this._getErrorMessge.apply(this,_c);this._onFireSystemError(_a,false,_b,2,_d,true);};_pApplication._onSystemError=function(_a,_b,_c){this._onFireSystemError(_a,true,_b,1,_c,true);};_pApplication._onHttpSystemError=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=false;var _k=nexacro.MakeCommunicationError(this,_d,_e,_f,_g,_h,_i);if(_b){_j=this.on_fire_onerror(_a,_k.name,_k.message,_c,_f,_g,_h,_i);}this._onFireSystemError(_a,false,_k.name,1,_k.message,true);return _j;};_pApplication._onFireSystemError=function(_a,_b,_c,_d,_e,_f){if(_b){this.on_fire_onerror(application,_c,_e,_a);}if(_e){nexacro._writeTraceLog(_d,_e,_f,this._loglevel);}};_pApplication._getMsg=function(_a){if(nexacro._errortable){var _b=nexacro._errortable[system._language][_a];if(!_b){return "";}var _c=Array.prototype.slice.call(arguments,1);var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e="%["+_f+"]";_b=_b.replace(_e,_c[_f]);}return _b;}};_pApplication._getErrorMessge=function(_a){if(nexacro._errortable){var _b="en";if(nexacro._errortable[system._language]){_b=system._language;}var _c=nexacro._errortable[_b][_a];if(!_c){return "";}var _d=Array.prototype.slice.call(arguments,1);var _e="";var _f=0;var _g=_c.length;var _h=_d.length;for(var _j=0;_j<_g;_j++ ){var _i=_c[_j];if(_h>0&&_i.length==2&&_i.charCodeAt(0)==0x25){var _f=(_i.charCodeAt(1)-0x30)>>>0;if(_f<_g){_i=_d[_f];}}_e+=_i;}return _e;}};_pApplication.addErrorMessage=function(_a,_b,_c){if(!nexacro._errortable){nexacro._errortable={};}var _d=arguments.length;if(_d==1){var _e=_a;for(locale in _e){var _f=_e[locale];for(_b in _f){message=_f[_b];if(!nexacro._errortable[locale]){nexacro._errortable[locale]={};}nexacro._errortable[locale][_b]=message;}}}else{if(nexacro._errortable[_a]==null){nexacro._errortable[_a]=nexacro._errortable["en"];}if(nexacro._errortable[_a]){nexacro._errortable[_a][_b]=_c;}}};_pApplication._loadGlobalValueData=function(_a,_b){};_pApplication._addGlobalVariableFromGlobalValue=function(){var _a=nexacro._getGlobalValueData(this.key,this.xadl);if(!_a){return;}var _b=/([a-z0-9_]*)(=|:[sgc]=)(([^,'"]+)|('[^']*')|("[^"]*"))(,|$)/ig;var _c;while(_c=_b.exec(this._globalvalue)){var _d=_c[0];if(_d.charAt(_d.length-1)==','){_d=_d.substr(0,_d.length-1);}var _e=_d.indexOf("=");var _f=_d.substr(0,_e);if(_f[0]>='0'&&_f.charAt(0)<='9'){continue;}var _g=_d.substr(_e+1,_d.length-_e);var _h=null;var _i=_f.indexOf(":");if(_i>0){_h=_f.substr(_i+1,1);_f=_f.substr(0,_i);}if(_g.length>2&&((_g.charAt(0)=='\''&&_g.charAt(_g.length-1)=='\'')||(_g.charAt(0)=='\"'&&_g.charAt(_g.length-1)=='\"'))){_g=_g.substr(1,_g.length-2);}switch(_h){case 's':var _j;this.setVariable(_f,_g,"share",_j);break;case 'g':default:this.setVariable(_f,_g);break;}}};_pApplication.quickView=function(_a,_b,_c){if(_b){this._project_uri=_b;nexacro._setLocalStorage("_project_uri",_b,"string");var _d=nexacro._getProjectBaseURL(_a);if(_b!=_d){this._localcache_path=_d;nexacro._setLocalStorage("_localcache_path",_d,"string");}}this.loadADL(_a);};_pApplication.load=function(_a,_b,_c,_d){if(_c){var _e=_c?_c.substr(_c.length-1)=="/"?_c:_c+"/":_c;this._project_uri=_e;nexacro._setLocalStorage("_project_uri",_e,"string");var _f=nexacro._getProjectBaseURL(_b);if(_c!=_f){this._localcache_path=_f;nexacro._setLocalStorage("_localcache_path",_f,"string");}}this.loadADL(_b,_a);};_pApplication.loadADL=function(_a,_b){var _c=_a.split("?version=");if(_c.length>1){this._appversion=_c[1];}this.key=_b;var _d=_a;var _e=this._project_uri;if(_d.length>5&&_d.substring(_d.length-5)==".xadl"){_d=_d+".js"+this._addcachequerystring(_d,"appversion");}var _f=_d;if(nexacro._isAbsolutePath(_d)){if(!_e){this._project_uri=nexacro._getBaseUrl(_d);nexacro._setLocalStorage("_project_uri",nexacro._getBaseUrl(_d),"string");}}else{if(!_e){this._project_uri=nexacro._getProjectBaseURL(_d);nexacro._setLocalStorage("_project_uri",nexacro._getProjectBaseURL(_d),"string");}_f=_d=nexacro._transfullurl(this._project_uri,_d);if(this._localcache_path){var _g=_a;if(_g.substring(_g.length-3)==".js"){_g=_g.substring(0,_g.length-3);}if(nexacro._hasLocalCacheUrl(_g)){_d=nexacro._transfullurl(this._localcache_path,_a);}}}this.xadl=_f;var _h=nexacro._getServiceObject(_f);this._load_manager.loadMainModule(_d,false,true,false,_h);};_pApplication._addcachequerystring=function(_a,_b){var _c="?version=";if(_b=="appversion"){_c+=(application.version||application._appversion);}else{_c+=nexacro._getServiceObject(_a)?nexacro._getServiceObject(_a).version:0;}return _c;};_pApplication._addTypedefintion=function(_a){var _b;_b=nexacro._getServiceLocation(_a.name);if(_a&&_a.context==this){this._typedefinition_url=_b;nexacro._setLocalStorage("_typedefinition_url",_b,"string");this.services=_a.services;}this._typedefinitions.push({id:_b,obj:_a});this._typedeflen=this._typedefinitions.length;nexacro._setLocalStorage("_typedeflen",this._typedeflen,"int");};_pApplication._findTypedefintion=function(_a){var _b=this._typedefinitions;for(var _c=0,_d=_b.length;_c<_d;_c++ ){if(_b[_c].id==_a){return 0;}}return  -1;};_pApplication._addService=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a){if(typeof _a=="string"){var _j=new nexacro.ServiceItem(_b,_c,_d,_e,_f,_g,_h,_i);this.services.add(_b,_j);var _k=nexacro._getServiceLocation(_a);if(_k){this._typedefinition_url=_k;nexacro._setLocalStorage("_typedefinition_url",_k,"string");}}else{_a.addService(_b,_c,_d,_e,_f,_g,_h,_i);this.services=_a.services;}}};_pApplication._loadModules=function(_a){var _b;if(this._localcache_path){_b=this._localcache_path;}this._component_uri=nexacro._getServiceLocation(this._component_uri,_b);if(nexacro.Component){return;}var _c=_a.length;for(var _f=0;_f<_c;_f++ ){if(_a[_f]){var _d=nexacro._getServiceLocation(_a[_f],this._component_uri);var _e=nexacro._getServiceObject(_a[_f]);this._load_manager.loadGlobalModule(_d,true,_e);}}};_pApplication._addClasses=function(_a){this._registerclass=this._registerclass.concat(_a);nexacro._setLocalStorage("_registerclass",this._registerclass,"json");};_pApplication._addRegisterClass=function(_a,_b){var _c=nexacro._getLocalStorage("_registerclass",[]);_c.push({id:_a,classname:_b});this._registerclass=this._registerclass.concat(_c);nexacro._setLocalStorage("_registerclass",_c,"json");};_pApplication._registerClass=function(_jsContext){var registerclass=this._registerclass;var len=registerclass.length;for(var i=0;i<len;i++ ){var item=registerclass[i];if(item){if(!_jsContext[item.id]){_jsContext[item.id]=_jsContext.eval(item.classname);}}}};_pApplication._setAliasForJSContext=function(_jsContext){var aliases=this._aliaslist;var len=aliases.length;for(var i=0;i<len;i++ ){var item=this.components[aliases[i].name];if(item){_jsContext[item.name]=eval(item.classname);}}};_pApplication._addExtensionModules=function(_a){this._extensionmodules=_a;var _b=this._extensionmodules;if(_b){var _c=_b.length;if(_c>0){for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d){nexacro._addExtensionModule(_d);}}}}};_pApplication._addUpdateResource=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=nexacro._getServiceLocation(_c,_b);var _j=nexacro._getServiceObject(_c);this._load_manager.loadUpdateModule(_i,_a,_d,_e,_f,_g,_h,_j);};_pApplication._updateResources=function(_a){if(_a){var _b=nexacro._getOSVersion();var _c=(_b?_b.toLowerCase().replace(/ /g,"_"):"default");var _d=nexacro.SystemType.toLowerCase();if(_d.indexOf("win64")>=0){_d="win32";}else if(_d.indexOf("ipad")>=0){_d="iphone";}if(_d.indexOf("android")>=0){return;}var _e=_a[_d];var _f;if(_e){_f=_e.updateurl;this._addUpdateOS(_e,_c,_f,true);this._addUpdateOS(_e,"all",_f,false);}}};_pApplication._addUpdateOS=function(_a,_b,_c,_d){var _e=_a;var _f=_c;var _g=nexacro.DEVICE;var _h=_g?_g.toLowerCase():"default";var _i=_e[_b];if(!_i&&_d){var _j=nexacro._getOS();var _k=(_j?_j.toLowerCase().replace(/ /g,"_"):"");_i=_e[_k];if(!_i){_i=_e["default"];}}if(_i){if(_i.updateurl){_f=_i.updateurl;}var _l=_i[_h];if(!_l){_l=_i["default"];}if(_l&&_l.resources){this._addUpdateDeviceResources(_l,_f);}_l=_i["all"];if(_l&&_l.resources){this._addUpdateDeviceResources(_l,_f);}}};_pApplication._addUpdateDeviceResources=function(_a,_b){var _c=_b;var _d=_a;if(_d.updateurl){_c=_d.updateurl;}var _e=nexacro._getServiceLocation(_c);var _f=_d.resources;var _g=_f.length;for(var _j=0;_j<_g;_j++ ){var _h=_f[_j].file;if(nexacro._isAbsolutePath(_h)!=true){_h=nexacro._getServiceLocation(_f[_j].file,_e);}var _i=nexacro._getServiceObject(_f[_j].file);this._load_manager.loadUpdateModule(_h,_f[_j].type,_f[_j].targetpath,_f[_j].ref,_f[_j].version,_f[_j].failpass,_i);}};_pApplication._loadInclude=function(_a,_b,_c){var _d=nexacro._getServiceObject(_b);_b=nexacro._makeurl(_b);this._load_manager.loadIncludeModule(_b,null,_c,_d);};_pApplication.loadCss=function(_a){var _b=[];_b.push(nexacro._getServiceLocation(_a));if(!this.checkversion&&!this._appversion){_b.push(".js");}this._typedeflen=this._typedefinitions.length;nexacro._setLocalStorage("_typedeflen",this._typedeflen,"int");var _c=nexacro._getServiceObject(_a);this._cssurls.push(_a);nexacro._setLocalStorage("_cssurls",this._cssurls,"array");this._load_manager.loadCssModule(_b.join(""),null,null,_c);};_pApplication.loadTheme=function(_a,_b){if(this._curscreen){if(this._curscreen.themeid){_a=this._curscreen.themeid;}if(this._curscreen.hithemeid){_b=this._curscreen.hithemeid;}}var _c=_a;if(nexacro._checkHighContrast()&&_b){_c=_b;}if(_c){var _d;var _e=_c.indexOf(".xtheme");if(_e<0){_d=_c;}else if(_e>0){_d=_c.substring(0,_e);}var _f,_g;if(_d){nexacro._clearLocalThemeCache();var _e=_d.indexOf("::");if(_e>0){var _h=_d.substring(0,_e);_d=_d.substring(_e+2);this._theme_uri="./_theme_/"+_h+"/"+_d;nexacro._setLocalStorage("_theme_uri",this._theme_uri,"string");}else{this._theme_uri="./_theme_/"+_d;nexacro._setLocalStorage("_theme_uri",this._theme_uri,"string");}var _i=false;if(this._localcache_path&&nexacro._hasLocalCacheUrl(_c)){_f=nexacro._getLocalCacheUrl(_c);if(_f){var _j=nexacro._getServiceObject(_c);this._load_manager.loadCssModule(_f,null,null,_j);return;}_i=true;_g=this._localcache_path;}_f=this._theme_uri+"/theme.css";_f=nexacro._getServiceLocation(_f,_g);if(!this.checkversion&&!this._appversion){_f+=".js";}if(_i){nexacro._addLocalCacheUrl(_c,_f);}var _j=nexacro._getServiceObject(_f);this._load_manager.loadCssModule(_f,null,null,_j);}}};_pApplication.createMainFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=new nexacro.MainFrame(_a,_b,_c,_d,_e,_f,_g,_h,_i);this[_a]=this.mainframe=_j;this.all.add_item(_a,_j);return _j;};_pApplication.createWidget=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j;return _j;};_pApplication.createTray=function(_a,_b){var _c=new nexacro.Tray(_a,_b);this.trays.add_item(_a,_c);this.all.add_item(_a,_c);return _c;};_pApplication.addTray=function(_a,_b){if(_b._type_name!="Tray"){return  -1;}if(this.trays.indexOf(_a)> -1){return  -1;}var _c=this.trays.add_item(_a,_b);this.all.add_item(_a,_b);return _c;};_pApplication.removeTray=function(_a){if(typeof (_a)=="string"){if(this.trays[_a]){this.trays[_a]._destroy();}}else{var _b=this.trays.length;for(var _c=_b-1;_c>=0;_c-- ){if(this.trays[_c]){this.trays[_c]._destroy();}}}};_pApplication.removeDatasets=function(){var _a=this._datasets?this._datasets.length:0;for(var _b=0;_b<_a;_b++ ){this._datasets[_b].destroy();}this._datasets=null;};_pApplication._addPreloadList=function(_a,_b,_c,_d){if(!_b){return;}var _e=nexacro._getServiceLocation(_b);var _f=nexacro._getServiceObject(_b);if(_a=="data"){_f=this._getServiceObject(_b,true);this._load_manager.addPreloadItem(_a,_e,_c,_d,_f);}else{_f=this._getServiceObject(_b);this._load_manager.addPreloadItem(_a,_b,(_c?_c:this),null,_f);}};_pApplication._loadScreenInfo=function(_a){this._screeninfo=_a;var _b=nexacro._getCurrentScreenID();var _c=this._curscreen=this._searchScrInfo(_b);if(_c){if(!_c.zoommin){_c._zoommin=undefined;}else{var _d=_c.zoommin;if(typeof _d=="string"&&_d.charAt(_d.length-1)=="%"){_c._zoommin=parseFloat(_d.slice(0,_d.length-1))/100.0;}else{_c._zoommin=parseFloat(_d);}if(_c._zoommin>=1){_c._zoommin=1;}nexacro._minimum_scale=_c._zoommin;}if(!_c.zoommax){_c._zoommax=undefined;}else{var _e=_c.zoommax;if(typeof _e=="string"&&_e.charAt(_e.length-1)=="%"){_c._zoommax=parseFloat(_e.slice(0,_e.length-1))/100.0;}else{_c._zoommax=parseFloat(_e);}if(_c._zoommax<=1){_c._zoommax=1;}nexacro._maximum_scale=_c._zoommax;}}nexacro._applyScreenAutozoom();};_pApplication.getParentContext=function(){return null;};_pApplication._addCss=function(_a,_b,_c,_d){var _e=_a.split(">");var _f=_e.length;var _g=this._css_selectors;_g._has_items=true;var _h="";var _i="";var _j="";for(var _n=0;_n<_f;_n++ ){var _k=_e[_n];if(_k=="*"){continue;}if(_k.substr(0,1)=="#"){_i+=_k;}else if(_k.substr(0,1)=="."){if(_i==""){_j=_k;}}else{if(_k.substr(0,2)=="*."){_k=_k.substring(1);}if(_i==""){_h=_k;}}}if(_h!=""){var _l=_g[_h];if(!_l){_g[_h]=_l={_is_selector:true};}_g=_l;}else if(_j!=""){var _l=_g[_j];if(!_l){_g[_j]=_l={_is_selector:true};}_g=_l;}if(_i!=""){var _l=_g[_i];if(!_l){_g[_i]=_l={_is_selector:true};}_g=_l;}_g._has_attr_items=true;var _m=_g[_b];if(!_m){_g[_b]=_m={};}var _n=0;var _o=_d.length;var _p;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;if(_n>=_o){return;}_p=_d[_n++ ];_m[_p]=_c;};_pApplication._make_find_csslist=function(){var _a=this._find_csslist;if(!_a){_a=[];var _b=this;var _c;while(_b){_c=_b._css_selectors;if(_c&&_c._has_items){_a.push(_c);}if(_b.parent==null&&!_b._is_application){_b=application;}else if(_b._is_frame&&_b._is_popup_frame){break;}else{_b=_b.parent;}}this._find_csslist=_a;}return _a;};_pApplication._addProtocol=function(_a,_b){this._protocols[_a]=_b;};_pApplication._isProtocol=function(_a){var _b=nexacro._getLocalStorage("_registerclass",[]);var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d&&_d.id==_a&&nexacro._isRuntimeProtocol(_a)==false){return true;}}return false;};_pApplication._getProtocol=function(_a){return this._protocols[_a];};_pApplication._removeProtocols=function(){var _a;var _b=this._protocols;for(_a in _b){if(_b[_a].finalize){_b[_a].finalize();}}this._protocols={};};_pApplication._getProtocolLocation=function(_a){if(!_a){return "";}if(_a.indexOf("://")>=0){var _b=_a.split("://");var _c=_b[0];var _d=_b[1];if(_c=="http"||_c=="https"||_c=="file"){return _a;}var _e=nexacro._getProtocol(_c);if(_e!=null){return nexacro._mergeUrl(_e,_d);}}return _a;};_pApplication.setProtocolVar=function(_a,_b,_c){nexacro._setProtocolVar(_a,_b,_c);};_pApplication._getNamedImage=function(_a){return nexacro._getLocalStorage("images")[_a];};_pApplication._addLocalCacheUrl=function(_a,_b){if(_b){_b=_b.replace(/\\/g,"/");}this._localcaches[_a]=_b;};_pApplication._hasLocalCacheUrl=function(_a){return (_a in this._localcaches);};_pApplication._getLocalCacheUrl=function(_a){return this._localcaches[_a];};_pApplication._addLocalThemeCacheUrl=function(_a,_b){nexacro._addlocalthemecacheurl=true;if(_b){_b=_b.replace(/\\/g,"/");}this._localthemecaches[_a]=_b;};_pApplication._hasLocalThemeCacheUrl=function(_a){return (_a in this._localthemecaches);};_pApplication._getLocalThemeCacheUrl=function(_a){return this._localthemecaches[_a];};_pApplication._clearLocalThemeCache=function(){this._localthemecaches={};};_pApplication._getService=function(_a,_b){if(_b){var _c=this._typedefinitions.length;var _d=0;for(_d=0;_d<_c;_d++ ){if(this._typedefinitions[_d].id==_b){return this._typedefinitions[_d].obj.services[_a];}}}return this.services[_a];};_pApplication._addVariable=function(_a,_b,_c,_d,_e){if(arguments.length==3&&_b==null){_b="";}this[_a]=_b;_c=!!(_c==true||_c=="true");if(!_c){this._variables.push(_a);}else{this._cookie_variables.push(_a);nexacro._setLocalStorage("_cookie_variables",this._cookie_variables,"array");nexacro._setCookie(_a,_b,_e);}this.all.add_item(_a,_b);return true;};_pApplication._getVariable=function(_a){return this[_a];};_pApplication._existVariable=function(_a){var _b=this._variables;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){if(_b[_e]==_a){return true;}}var _d=nexacro._getLocalStorage("_cookie_variables",[]);_c=_d.length;for(var _e=0;_e<_c;_e++ ){if(_d[_e]==_a){return true;}}return false;};_pApplication._addImage=function(_a,_b){_b=_b.replace(/\\/g,"/");this.images.add(_a,_b);nexacro._setLocalStorage("images",this.images,"string");};_pApplication._addDataset=function(_a,_b){this._addObject(_a,_b);this._datasets.push(_b);};_pApplication._addObject=function(_a,_b){this[_a]=_b;this.all.add_item(_a,_b);};_pApplication._getDatasetObject=function(_a){return this[_a];};_pApplication._waitCursor=function(_a,_b){var _c=this.mainframe;if(_c){_c._waitCursor(_a,_b);}};_pApplication._transfullurl=function(_a,_b){if(nexacro._isAbsolutePath(_b)==true){return _b;}_a=nexacro._getBaseUrl(_a);var _c=null;if(_a.indexOf("?")>=0){_c=_a+_b;}else{_c=nexacro._mergeUrl(_a,_b);}var _d=_c.split("/");var _e=_d.length;var _f=[];var _g=0;while(_g<_e){if(_d[_g]!="."&&_d[_g]!=".."){break;}_f.push(_d[_g]);_g++ ;}while(_g<_e){if(_d[_g]!="."){if(_d[_g]==".."){_f.pop();}else{_f.push(_d[_g]);}}_g++ ;}return _f.join("/");};_pApplication._transurl=function(_a,_b,_c){var _d=_c;if(_d.indexOf("theme://")>=0){var _e=false;if(this._hasLocalCacheUrl(_c)){var _f=this._getLocalCacheUrl(_c);if(_f){return _f;}_e=true;}var _g=_d.split("://");var _h=_g[0];var _i=_g[1];var _j=[];var _k="/";var _l=this._theme_uri;_j.push(_l);if(_l.charAt(_l.length-1)=="/"){_k="";}_j.push(_i);_d=_j.join(_k).replace(/\\/g,"/");if(nexacro._isAbsolutePath(_d)!=true){if(_e){_d=this._transfullurl(this._localcache_path,_d);}else{_d=this._transfullurl(this._project_uri,_d);}}if(_e){this._addLocalCacheUrl(_c,_d);}}else{var _e=false;if(this._hasLocalCacheUrl(_c)){var _f=this._getLocalCacheUrl(_c);if(_f){return _f;}_e=true;}if(_d.indexOf("::")<0){if(_e){_a=this._localcache_path;}_d=this._transfullurl(_a,_d);}else{var _g=_d.split("::");var _m=_g[0];var _i=_g[1];var _n=this._getService(_m,_b);if(_n!=null){var _o=_n.url;if(_o.charAt(_o.length-1)!="/"){_o=_o+"/";}if(_i.charAt(0)=="/"){_i=_i.substring(1);}if(nexacro._isAbsolutePath(_o)==true){_d=this._transfullurl(_o,_i);}else{var _p;if(_e){_p=this._transfullurl(this._localcache_path,_o);}else{_p=this._transfullurl(_b,_o);}_d=this._transfullurl(_p,_i);}}else{_d=_d.replace(/\\/g,"/");}}if(_e){this._addLocalCacheUrl(_c,_d);}}if(this.checkversion){var _q="appversion";if(_d.match('.xfdl')||_d.match('.xjs')||_d.match('.css')){_d+=".js";if(!_d.match('.css')){_q="serviceversion";}}_d+=this._addcachequerystring(_c,_q);}else if(application._appversion){_d+=".js?version="+application._appversion;}return _d;};_pApplication._getServiceLocation=function(_a,_b,_c){if(!_c){_c=this._typedefinition_url;}if(!_b){_b=this._project_uri;}return this._transurl(_b,_c,_a);};_pApplication._getFDLLocation=function(_a,_b){if(!_a||_a.length<=0){return _a;}var _c=this._getServiceLocation(_a,_b);if(_c.length>5){if(_c.substring(_c.length-5)==".xfdl"){_c=_c+".js"+(this.checkversion?this._addcachequerystring(_c,"serviceversion"):"");}}return _c;};_pApplication._getServiceObject=function(_a,_b){var _c=_a.split("::");if(_c.length>=2){var _d=this._getService(_c[0]);if(_d){return _d;}}if(!this._defaultservice){this._defaultservice=new nexacro.ServiceItem();this._defaultservice.cachelevel="session";this._defaultservice.version="0.0";}if(_a.toLowerCase().indexOf("file://")>=0||_b){this._defaultservice.cachelevel="none";}else{this._defaultservice.cachelevel="session";}return this._defaultservice;};_pApplication.flashWindow=function(_a,_b,_c){return this.mainframe._window._flashWindow(_a,_b,_c);};_pApplication.getActiveFrame=function(){var _a=this.mainframe;if(!_a){return null;}var _b=_a._getWindow();if(_b&&_b._is_active_window){return _b.getActiveFrame();}var _c=this.popupframes;var _d=_c?_c.length:0;var _e=_c?_c.length:0;for(var _f=0;_f<_e;_f++ ){_b=_c[_f]._getWindow();if(_b&&_b._is_active_window){return _b.getActiveFrame();}}return null;};_pApplication.getActiveForm=function(){var _a=this.getActiveFrame();if(_a){return _a.form;}else{return null;}};_pApplication.userNotify=function(_a,_b){return this.on_fire_onusernotify(this,_a,_b);};_pApplication.callscript=function(expr){var start=expr.indexOf('(');var end=expr.indexOf(')',start+1);if(start== -1||end== -1){return;}var name=expr.substring(0,start).trim();var args=expr.substring(start+1,end).trim();var call_fn=this[name];if(typeof call_fn=="function"){var thisp=this;return eval("call_fn.call(thisp, "+args+");");}};_pApplication.trace=function(_a,_b){if(_b){trace(_b);}else{trace(_a);}};_pApplication.addVariable=function(_a,_b,_c,_d){if(this[_a]||((typeof (this[_a])!="object")&&this[_a]=="")){return  -1;}var _e=false;if(_c){if(_c=="share"){_e=true;}else if(_c=="header"){this._header_variables.push(_a);nexacro._setLocalStorage("_header_variables",this._header_variables,"array");}}return this._addVariable(_a,_b,_e,null,_d)==true?1:0;};_pApplication.setVariable=function(_a,_b,_c,_d){var _e=this._variables;var _f=_e.length;for(var _i=0;_i<_f;_i++ ){if(_e[_i]==_a){this[_a]=_b;this.all.set_item(_a,_b);return  -1;}}var _g=this._header_variables;_f=_g.length;for(var _i=0;_i<_f;_i++ ){if(_g[_i]==_a){this[_a]=_b;this.all.set_item(_a,_b);return  -1;}}var _h=this._cookie_variables;_f=_h.length;for(var _i=0;_i<_f;_i++ ){if(_h[_i]==_a){nexacro._setCookie(_a,_b,_d);this[_a]=_b;this.all.set_item(_a,_b);return  -1;}}return this.addVariable(_a,_b,_c,_d);};_pApplication.getVariable=function(_a){var _b=this._variables;var _c=_b.length;for(var _f=0;_f<_c;_f++ ){if(_b[_f]==_a){return this[_a];}}var _d=this._cookie_variables;_c=_d.length;for(var _f=0;_f<_c;_f++ ){if(_d[_f]==_a){var _e=nexacro._getCookie(_a);if(_e==undefined){_d.splice(_f,1);this[_a]=null;}return _e;}}return null;};_pApplication.removeVariable=function(_a){var _b=this._variables;if(_b){var _c=_b.length;for(var _e=0;_e<_c;_e++ ){if(_b[_e]==_a){_b.splice(_e,1);this[_a]=null;this.all.delete_item(_a);return;}}}var _d=this._cookie_variables;if(_d){_c=_d.length;for(var _e=0;_e<_c;_e++ ){if(_d[_e]==_a){_d.splice(_e,1);this[_a]=null;return;}}}};_pApplication.isNumeric=function(_a){if(!_a){return false;}if(typeof _a=="string"){var _b=_a.length;for(var _d=0;_d<_b;_d++ ){var _c=_a.charAt(_d);if(_c<"0"||_c>"9"){return false;}}return true;}return false;};_pApplication.lookup=function(_a){if(_a in this){return this[_a];}this._global_context[_a];};_pApplication.lookupSetter=function(_a,_b){if(!_b){_b="set_"+_a;}var _c=this[_b];if(_c){return new nexacro.SetterBinder(this,_a,_c);}if(_a in this){return new nexacro.PropBinder(this,_a);}return new nexacro.PropBinder(this._global_context,_a);};_pApplication.lookupFunc=function(_a){var _b=this[_a];if(_b&&_b instanceof Function){return new nexacro.FuncBinder(this,_b);}_b=this._global_context[_a];if(_b&&_b instanceof Function){return new nexacro.FuncBinder(this._global_context,_b);}return null;};_pApplication.findAccessibility=function(_a,_b,_c,_d,_e,_f){if(!_a||!_c){return null;}if(_a._findAccessibility){return _a._findAccessibility(_a,_b,_c,_d,_e,_f);}if(_f=="child"){_f=2;}else{_f= -1;}return this._findAccessibility(_a,_b,_c,_d,_e,_f);};_pApplication._findAccessibility=function(_a,_b,_c,_d,_e,_f,_g){var _h=function(_p,_b){if(!_p._isVisible()){return 0;}if(_p==_b){return  -1;}var _q=_p.on_find_CurrentStyle_accessibility(_p._pseudo);if(!_q){return 0;}var _r=_q.label;var _s=_q.description;if((_d==undefined||_d=="all")&&(_r.toLowerCase().match(_c)||_s.toLowerCase().match(_c))){return 1;}else if((_d=="label")&&_r.toLowerCase().match(_c)){return 1;}else if((_d=="desc")&&_s.toLowerCase().match(_c)){return 1;}return 0;};if(_f==0){return null;}_f=_f-1;if(!_g){_g=_a;}_c=_c.toLowerCase();var _i;if(_a instanceof nexacro.MainFrame){_i=_h(_a.frame,_b);if(_i==1){return _a.frame;}if(_i== -1){_b=null;}return this._findAccessibility(_a.frame,_b,_c,_d,_e,_f);}else if(_a instanceof nexacro.FrameSet){var _j=_a.frames;var _k=_j.length;var _l=0;if(_b){var _m=nexacro._indexOf(_j,_b)+1;if(_m>0){_l=_m;}}for(;_l<_k;_l++ ){var _n=(_e=="prev")?_n=_j[_k-1-_l]:_j[_l];_i=_h(_n,_b);if(_i==1){return _n;}if(_i== -1){_b=null;}if(_f!=1){_i=this._findAccessibility(_n,_b,_c,_d,_e,_f);if(_i){return _i;}}}}else if(_a instanceof nexacro.ChildFrame){_i=_h(_a.form,_b);if(_i==1){return _a.form;}if(_i== -1){_b=null;}return this._findAccessibility(_a.form,_b,_c,_d,_e,_f,_g);}else if(_a instanceof nexacro.Tab){var _o=_a._child_list[_a.tabindex];_i=_h(_o,_b);if(_i==1){return _o;}if(_i== -1){_b=null;}return this._findAccessibility(_o,_b,_c,_d,_e,_f,_g);}else if(_a instanceof nexacro.Form){var _j=_a._getSortedDecendants(_a);var _k=_j.length;var _l=0;if(_b){var _m=nexacro._indexOf(_j,_b)+1;if(_m>0){_l=_m;}}for(;_l<_k;_l++ ){var _n=(_e=="prev")?_n=_j[_k-1-_l]:_j[_l];_i=_h(_n,_b);if(_i==1){return _n;}if(_f!=1&&_n instanceof nexacro.Form){_i=this._findAccessibility(_n,_b,_c,_d,_e,_f,_g);if(_i){return _i;}}}}else if(_g==_a){}return null;};_pApplication.open=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=_c;if(_c instanceof nexacro.Form){_k=_c.getOwnerFrame();}if(_k&&_k[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}if(nexacro._isPopupFrame(_a)){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}var _l=_k?_k._getWindow():null;var _m=false,_n=false,_o=false,_p=false;if(!_l){_p=true;}if(_e){var _q=_e.split(" "),_r,_s;for(var _x=0,_y=_q.length;_x<_y;_x++ ){_r=_q[_x].split("=");_s=nexacro._toBoolean(_r[1]);switch(_r[0]){case "resizable":_m=_s;break;case "layered":_n=_s;break;case "showontaskbar":_p=_s;break;case "location":_o=_s;break;}}}var _t;var _u=_j;if(_j==null||_j==undefined){var _v=null;if(_k&&_k._focusManager){_v=_k._focusManager[0];}if(_v){if(_v.parent._is_form){_u=_v.parent;}else{_u=_k?_k.form:null;}}else{_u=_k?_k.form:null;}}if(!this._popupframeoption){this._popupframeoption={};}if(_h==undefined||_h<0){_h=0;}if(_i==undefined||_i<0){_i=0;}this._popupframeoption[_a]={"_openstyles":_e,"_formurl":_b,"_parentwindow":_l,"_opener":_u,"_args":_d,"_parentframe":_k,"_left":_f,"_top":_g,"_width":_h,"_height":_i};nexacro._setPopupframeOption(_a,this);if(_l){_l._cancelEvent();}var _w=nexacro._createOpenWindowHandle(_l,_a,_b,_f,_g,_h,_i,_m,_n,_p,_o);if(_w){return true;}return false;};_pApplication.set_useajaximagefilter=function(_a){};_pApplication.set_version=function(_a){this.version=_a;};_pApplication.set_checkversion=function(_a){var _b=nexacro._toBoolean(_a);if(this.checkversion!=_b){this.checkversion=_b;this._appversion="";nexacro.__setCheckVersion(_b);}};_pApplication.set_tracemode=function(_a){var _b=this.tracemode;if(_b!=_a){this.tracemode=_a;if(this.tracemode!="append"){nexacro._deleteTraceLogFile();}}};_pApplication.set_traceduration=function(_a){var _b=this.traceduration;var _c=nexacro._parseInt(_a);if(_b!=_c){this.traceduration=_c;if(this.tracemode=="append"&&_c<1){nexacro._deleteTraceLogFile();}}};_pApplication.set_usehttpkeepalive=function(_a){nexacro._setUseHttpKeepAlive(_a);};_pApplication.set_useproxykeepalive=function(_a){this.useproxykeepalive=nexacro._toBoolean(_a);};_pApplication.set_httptimeout=function(_a){nexacro._setHttpTimeout(_a);};_pApplication.set_proxytimeout=function(_a){this.proxytimeout=nexacro._parseInt(_a);};_pApplication.set_httpretry=function(_a){nexacro._setHttpRetry(_a);};_pApplication.set_proxyretry=function(_a){this.proxyretry=nexacro._parseInt(_a);};_pApplication.set_themeid=function(_a){this.themeid=_a;};_pApplication.set_usewaitcursor=function(_a){this.usewaitcursor=nexacro._toBoolean(_a);};_pApplication.set_licenseurl=function(_a){this.licenseurl=_a;};_pApplication.set_mousewheeltype=function(_a){this.mousewheeltype=_a;};_pApplication.set_imepastemode=function(_a){this.imepastemode=_a;};_pApplication.set_addcookietovariable=function(_a){this.addcookietovariable=nexacro._toBoolean(_a);};_pApplication.set_filesecurelevel=function(_a){nexacro._setFileSecureLevel(_a);this.filesecurelevel=nexacro._parseInt(_a);};_pApplication.set_networksecurelevel=function(_a){if(this.networksecurelevel!=_a){nexacro._setNetworkSecureLevel(_a);}};_pApplication.set_enablescreencapture=function(_a){nexacro._setEnableScreenCapture(_a);};_pApplication.set_enablecookie=function(_a){nexacro._setEnableCookie(_a);};_pApplication.set_enablecache=function(_a){nexacro._setEnableCache(_a);};_pApplication.set_enableclipboard=function(_a){nexacro._setEnableClipboard(_a);};_pApplication.set_locale=function(_a){if(this.locale!=_a){this.locale=_a;this._setLocale(_a);}};_pApplication._setLocale=function(_a){var _b=this.mainframe;this._locale=_a;if(this._locale_info){delete this._locale_info;this._locale_info=null;}this._locale_info=nexacro.Locale.getLocaleInfo(_a);if(!this.rtldirection){this._rtldirection=this._locale_info.direction;if(this._is_loaded){this._setRtlDirection(this._rtldirection);}}if(_b){_b._setLocale(_a);}};_pApplication.set_enabletouchevent=function(_a){this.enabletouchevent=nexacro._toBoolean(_a);};_pApplication.set_tabkeycirculation=function(_a){if(this.tabkeycirculation!=_a){var _b;switch(_a){case "form,nocycle":this._tabkeycirculation=1;this.tabkeycirculation=_a;break;default:this._tabkeycirculation=0;this.tabkeycirculation="form,cycle";break;}}};_pApplication.set_enableaccessibility=function(_a){if(this._is_loaded!=true&&this._enableaccessibility===undefined){this.enableaccessibility=nexacro._toBoolean(_a);this._enableaccessibility=nexacro._toBoolean(_a);if(this.enableaccessibility==true){if(this._accessibilityHistoryList==null){this._accessibilityHistoryList=[];}nexacro._attachAccessibilityComponentFunctions();}}};_pApplication.set_accessibilityfirstovertext=function(_a){this.accessibilityfirstovertext=_a;};_pApplication.set_accessibilitylastovertext=function(_a){this.accessibilitylastovertext=_a;};_pApplication.set_accessibilityreplayhotkey=function(_a){var _b=this._accessibilityreplayhotkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilityreplayhotkey="";this._accessibilityreplayhotkey=null;delete _c;}else{this.accessibilityreplayhotkey=_c._toString();this._accessibilityreplayhotkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilitywholereadhotkey=function(_a){var _b=this._accessibilitywholereadhotkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilitywholereadhotkey="";this._accessibilitywholereadhotkey=null;delete _c;}else{this.accessibilitywholereadhotkey=_c._toString();this._accessibilitywholereadhotkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilityheadingnexthotkey=function(_a){var _b=this._accessibilityheadingnexthotkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilityheadingnexthotkey="";this._accessibilityheadingnexthotkey=null;delete _c;}else{this.accessibilityheadingnexthotkey=_c._toString();this._accessibilityheadingnexthotkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilityheadingprevhotkey=function(_a){var _b=this._accessibilityheadingprevhotkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilityheadingprevhotkey="";this._accessibilityheadingprevhotkey=null;delete _c;}else{this.accessibilityheadingprevhotkey=_c._toString();this._accessibilityheadingprevhotkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilitycomponentnexthotkey=function(_a){var _b=this._accessibilitycomponentnexthotkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilitycomponentnexthotkey="";this._accessibilitycomponentnexthotkey=null;delete _c;}else{this.accessibilitycomponentnexthotkey=_c._toString();this._accessibilitycomponentnexthotkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilitycomponentprevhotkey=function(_a){var _b=this._accessibilitycomponentprevhotkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilitycomponentprevhotkey="";this._accessibilitycomponentprevhotkey=null;delete _c;}else{this.accessibilitycomponentprevhotkey=_c._toString();this._accessibilitycomponentprevhotkey=_c;this._registerHotkey(_c);}};_pApplication.set_popuptype=function(_a){if(_a!=this.popuptype){this.popuptype=_a;}};_pApplication._registerHotkey=function(_a){if(!_a||_a._is_registered){return;}nexacro._registerHotkeyComp(this,this,_a);};_pApplication._unregisterHotkey=function(_a){if(!_a||!_a._is_registered){return;}nexacro._unregisterHotkeyComp(this,this,_a);};_pApplication._processHotkey=function(_a,_b,_c,_d,_e){var _f=this._hotkey_list;for(var _h=0,_i=_f.length;_h<_i;_h++ ){var _g=_f[_h];if(_g[1]==_a&&_g[2]==_b&&_g[3]==_c&&_g[4]==_d){this._on_hotkey(_a,_b,_c,_d,_e);return true;}}};_pApplication._on_hotkey=function(_a,_b,_c,_d,_e){if(nexacro._enableaccessibility){var _f=this._accessibilityforwardkey;var _g=this._accessibilitybackwardkey;var _h=this._accessibilityreplayhotkey;var _i=this._accessibilitywholereadhotkey;var _j=this._accessibilityheadingnexthotkey;var _k=this._accessibilityheadingprevhotkey;var _l=this._accessibilitycomponentnexthotkey;var _m=this._accessibilitycomponentprevhotkey;var _n;if(_f&&_a==_f._keycode&&_b==((_f._modifierkey&0x02)==0x02)&&_c==((_f._modifierkey&0x01)==0x01)&&_d==((_f._modifierkey&0x04)==0x04)){if(this._accessibilityHistoryCursor<=this._accessibilityHistoryList.length-2&&this._accessibilityHistoryCursor<=this.accessibilityhistorycount-1){if(this._accessibilityHistoryCursor== -1){this._accessibilityHistoryCursor=0;}_n=this._get_accessibility_history( ++this._accessibilityHistoryCursor);if(_n){this.playAccessibility(_n);}}}else if(_g&&_a==_g._keycode&&_b==((_g._modifierkey&0x02)==0x02)&&_c==((_g._modifierkey&0x01)==0x01)&&_d==((_g._modifierkey&0x04)==0x04)){if(this._accessibilityHistoryCursor>0){if(this._accessibilityHistoryCursor>this.accessibilityhistorycount){this._accessibilityHistoryCursor-- ;}_n=this._get_accessibility_history( --this._accessibilityHistoryCursor);if(_n){this.playAccessibility(_n);}}}else if(_h&&_a==_h._keycode&&_b==((_h._modifierkey&0x02)==0x02)&&_c==((_h._modifierkey&0x01)==0x01)&&_d==((_h._modifierkey&0x04)==0x04)){_n=this._get_accessibility_history(this._accessibilityHistoryCursor);if(_n){this.playAccessibility(_n);}}else if(_i&&_a==_i._keycode&&_b==((_i._modifierkey&0x02)==0x02)&&_c==((_i._modifierkey&0x01)==0x01)&&_d==((_i._modifierkey&0x04)==0x04)){if(nexacro._accessibilitywholereadtype!=0){var _o=this._accessibilityHistoryList;var _p=this._get_accessibility_history(this._accessibilityHistoryList.length-1);var _q=_p._getForm();_q._playAccessibilityWholeReadLabel("wholeread");}}else if(_j&&_a==_j._keycode&&_b==((_j._modifierkey&0x02)==0x02)&&_c==((_j._modifierkey&0x01)==0x01)&&_d==((_j._modifierkey&0x04)==0x04)){var _q=this.getActiveForm();var _r=_q._getLastFocused();var _n=_q._getNextHeadingComponent(_r?_r:_q);if(_n){_n._setFocus(true,0,true);}}else if(_k&&_a==_k._keycode&&_b==((_k._modifierkey&0x02)==0x02)&&_c==((_k._modifierkey&0x01)==0x01)&&_d==((_k._modifierkey&0x04)==0x04)){var _q=this.getActiveForm();var _r=_q._getLastFocused();var _n=this.getActiveForm()._getPrevHeadingComponent(_r?_r:_q);if(_n){_n._setFocus(true,1,true);}}else if(_l&&_a==_l._keycode&&_b==((_l._modifierkey&0x02)==0x02)&&_c==((_l._modifierkey&0x01)==0x01)&&_d==((_l._modifierkey&0x04)==0x04)){var _q=_e._getForm();if(_q instanceof nexacro.Tab){_q=_q._getForm();}var _r=_q._getLastFocused();var _n=_q._searchNextTabFocus(_r?_r:_q,undefined,undefined,true,true);if(_n&&_n[0]){_q._processArrowKey(true,_n);}}else if(_m&&_a==_m._keycode&&_b==((_m._modifierkey&0x02)==0x02)&&_c==((_m._modifierkey&0x01)==0x01)&&_d==((_m._modifierkey&0x04)==0x04)){var _q=_e._getForm();if(_q instanceof nexacro.Tab){_q=_q._getForm();}var _r=_q._getLastFocused();var _n=_q._searchPrevTabFocus(_r?_r:_q,undefined,undefined,true,true);if(_n&&_n[0]){_q._processArrowKey(false,_n);}}}};_pApplication.set_accessibilitybackwardkey=function(_a){var _b=this._accessibilitybackwardkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilitybackwardkey=null;this._accessibilitybackwardkey=null;delete _c;}else{this.accessibilitybackwardkey=_c._toString();this._accessibilitybackwardkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilityforwardkey=function(_a){var _b=this._accessibilityforwardkey;if(_b){this._unregisterHotkey(_b);}var _c=new nexacro.HotKey(_a);if(_c._isEmpty()){this.accessibilityforwardkey=null;this._accessibilityforwardkey=null;delete _c;}else{this.accessibilityforwardkey=_c._toString();this._accessibilityforwardkey=_c;this._registerHotkey(_c);}};_pApplication.set_accessibilityhistorycount=function(_a){this.accessibilityhistorycount=parseInt(_a);};_pApplication._set_accessibility_history=function(_a){var _b=this._accessibilityHistoryList;if(_b){var _c=this.accessibilityhistorycount;var _d=_b.length;if(_d>0){var _e=_b[_d-1];if(_e==_a){return;}}if(_d<_c+1){_b.push(_a);_d++ ;}else if(_d==_c+1){_b.splice(0,1);_b.push(_a);}this._accessibilityHistoryCursor=_d-1;}};_pApplication._get_accessibility_history=function(_a,_b){var _c=this._accessibilityHistoryList;if(_c){var _d=this.accessibilityhistorycount;if(_a> -1&&_a<=_d){return _c[_a];}else if(_b){return _c[_a];}}};_pApplication._remove_accessibility_history=function(_a){var _b=this._accessibilityHistoryList;for(var _c=0,_d=_b.length;_c<_d;_c++ ){if(_b[_c]==_a){_b.splice(_c,1);if(_c<=this._accessibilityHistoryCursor){this._accessibilityHistoryCursor-- ;}}}};_pApplication.set_accessibilitytype=function(_a){this.accessibilitytype=_a;nexacro._setAccessibilityType(_a);};_pApplication.set_accessibilitydescreadtype=function(_a){this.accessibilitydescreadtype=_a;nexacro._setAccessibilityDescReadType(_a);};_pApplication.set_accessibilitywholereadtype=function(_a){this.accessibilitywholereadtype=_a;nexacro._setAccessibilityWholeReadType(_a);};_pApplication.set_hithemeid=function(_a){this.hithemeid=_a;};_pApplication.set_enableevent=function(_a){this.enableevent=nexacro._toBoolean(_a);};_pApplication.set_enableanimation=function(_a){this.enableanimation=nexacro._toBoolean(_a);};_pApplication.set_enginesetupkey=function(_a){this.enginesetupkey=_a;};_pApplication.set_engineurl=function(_a){this.engineurl=_a;};_pApplication.set_engineversion=function(_a){this.engineversion=_a;};_pApplication.set_usevml=function(_a){this.usevml=nexacro._toBoolean(_a);};_pApplication._updateEngine=function(_a){var _b="",_c="",_d="";if(_a){var _e=nexacro.DEVICE.toLowerCase();var _f=nexacro._getOSVersion();var _g=(_f?_f.toLowerCase().replace(/ /g,"_"):"");var _h=nexacro.SystemType.toLowerCase();if(_h.indexOf("win")>=0){_h="windows";}else if(_h.indexOf("ipad")>=0){_h="iphone";}var _i=_a[_h];if(_e.length<=0){_e="default";}if(_a[_g]){_i=_a[_g];}else{if(_i[_g]){_i=_i[_g];}}if(_i){var _j=_i[_e];if(_j){_b=_j.enginesetupkey;_c=_j.engineversion;_d=_j.engineurl;}}}if(_b.length>0&&_d.length>0&&_c.length>0){var _k=nexacro._transfullurl(this._project_uri,_d);nexacro._updateEngine(_b,_k,_c);}};_pApplication.set_loglevel=function(_a){if(_a=="fatal"){this._loglevel=0;}else if(_a=="error"){this._loglevel=1;}else if(_a=="warn"){this._loglevel=2;}else if(_a=="info"){this._loglevel=3;}else{this._loglevel=4;}this.loglevel=_a;};_pApplication.set_errorlevel=function(_a){this.errorlevel=_a;};_pApplication.set_cookiecachetype=function(_a){};_pApplication.set_fullscreen=function(_a){this.fullscreen=nexacro._toBoolean(_a);};_pApplication.set_layoutselecttype=function(_a){this.layoutselecttype=_a;};_pApplication.set_modallockmode=function(_a){this.modallockmode=_a;};_pApplication.set_mousehovertime=function(_a){this.mousehovertime=_a;nexacro._setMouseHovertime(this.mousehovertime);};_pApplication.set_okclosebutton=function(_a){this.okclosebutton=_a;};_pApplication.set_usecontextmenu=function(_a){this.usecontextmenu=_a;};_pApplication._on_loadwaitimage=function(_a,_b,_c){};_pApplication.set_loadingimage=function(_a){this.loadingimage=_a;if(this._is_loaded){var _b=nexacro._getImageSize(_a,this._on_loadwaitimage,this,undefined,_a);}};_pApplication.set_rtldirection=function(_a){if(this.rtldirection!=_a){this.rtldirection=_a;nexacro._set_application_rtldirection(_a);this._setRtlDirection(_a);}};_pApplication._setRtlDirection=function(_a){var _b=this.mainframe;this._rtldirection=_a;if(_b){_b._setRtlDirection(_a);}};_pApplication.set_layoutautofittype=function(_a){return;};_pApplication._getLoadingImageUrl=function(){if(this.loadingimage){return this.loadingimage;}return nexacro._transfullurl(this._resource_path,this._default_loadingimage);};_pApplication.reload_theme=function(_a,_b){};_pApplication.reload=function(){window.location.reload();};_pApplication._isPopupFrame=function(_a){if(this.popupframes.get_item(_a)!=null){return true;}return false;};_pApplication._registerPopupFrame=function(_a,_b){if(this.popupframes.get_item(_a)!=null){return  -1;}return this.popupframes.add_item(_a,_b);};_pApplication._unregisterPopupFrame=function(_a){this.popupframes.delete_item(_a);this._activeform=null;};_pApplication.getLayoutManager=function(){return this._layout_manager;};_pApplication._getFileCache=function(_a){var _b=application;if(_b.files&&(_b.files[_a])){return _b.files[_a];}if(_a.trim().indexOf("theme://")>=0){return _b.theme[_a];}return null;};_pApplication._removeLastPopupComponent=function(){nexacro._current_popups.pop();};_pApplication._removePopupComponent=function(_a){if(!_a||!_a._is_popup_control){nexacro._current_popups=[];}else{var _b=nexacro._current_popups;var _c=_b.length;if(_c>0){var _d=null;var _e=null;var _f=_a._getRootComponent(_a);for(var _g=_c;_g>0;_g-- ){_d=_b[_g-1];if(!_d){break;}if(_d==_a){nexacro._current_popups=_b.slice(0,_g-1);break;}_e=_d;_d=null;}}}};_pApplication._appendPopupComponent=function(_a){if(!_a||!_a._is_popup_control){_f=nexacro._current_popups[0];if(_f){_f._closePopup();}nexacro._current_popups=[];}else{var _b=_a._getRootComponent(_a);var _c=nexacro._current_popups;var _d=_c.length;if(_d>0){var _e=false;var _f=null;var _g=null;for(var _i=_d;_i>0;_i-- ){_f=_c[_i-1];if(!_f){break;}if(_f._contains(_a)){_e=true;if(_g){_g._closePopup();}nexacro._current_popups=_c.slice(0,_i);break;}_g=_f;}if(!_e){var _h=nexacro._current_popups.length;for(var _i=_h-1;_i>=0;_i-- ){_g=nexacro._current_popups[_i];if(_g){_g._closePopup();}}nexacro._current_popups=[];}}nexacro._current_popups.push(_a);}};_pApplication._checkClosePopupComponent=function(_a,_b){if(!_a){var _c=nexacro._current_popups.length;for(var _l=_c-1;_l>=0;_l-- ){_g=nexacro._current_popups[_l];if(_g){_g._closePopup();}}nexacro._current_popups=[];}else{var _d=nexacro._current_popups;var _e=_d.length;if(_e>0){var _f=false;var _g=null;var _h=null;var _i=[];for(var _l=_e;_l>0;_l-- ){_g=_d[_l-1];if(!_g){break;}if(_b){if(_g._contains(_a)){_f=true;for(var _m=_e;_m>=_l;_m-- ){var _j=_d[_m-1];if(_g!=_j&&_g._contains(_j)){_i.push(_d[_m-1]);_d.splice(_m-1);}}}else{var _k=_g._getPopupRootComponent(_g);_f=_k._contains(_a);}}else{_f=_g._contains(_a);}if(_f){break;}}if(!_f){var _c=nexacro._current_popups.length;for(var _l=_c-1;_l>=0;_l-- ){_h=nexacro._current_popups[_l];if(_h){_h._closePopup();}}nexacro._current_popups=[];}else if(_i.length>0){while(_i.length>0){var _j=_i.shift();if(_j){_j._closePopup();}}}}}};_pApplication._appendCommContext=function(_a){if(!_a){return;}this._comm_contextlist.push(_a);};_pApplication._removeCommContext=function(_a){if(!_a){return;}var _b=this._comm_contextlist;var _c=_b.length;for(var _e=0;_e<_c;_e++ ){var _d=_b[_e];if(_d==_a){for(var _f=_e;_f<_c-1;_f++ ){_b[_f]=_b[_f+1];}_b[_c-1]=null;_b.length=_b.length-1;break;}}};_pApplication.init=function(){nexacro._setBrowserErrorMsg();return;};_pApplication._checkLicense=function(_a){var _b=this._getServiceLocation(_a);return nexacro._checkLicense(_b,this.xadl);};_pApplication._searchScrInfo=function(_a){var _b=this._screeninfo;if(!_b){return null;}var _c=_b;var _d=_c.length;var _e=null;var _f="desktop";switch(nexacro.SystemType.toLowerCase()){case "win32":case "win64":case "mac":case "linux":_f="desktop";break;case "ipad":_f="tablet";break;case "iphone":case "winphone":_f="phone";break;case "android":if(nexacro.Browser=="Runtime"){_f="tablet";if(nexacro.__isPhone&&nexacro.__isPhone()){_f="phone";}}else{_f="tablet";if(nexacro._isMobile()){_f="phone";}}break;}var _g;switch(nexacro.SystemType){case "win32":case "win64":case "winphone":_g="windows";break;case "ipad":case "iphone":_g="ios";break;case "android":_g="android";break;}var _h=nexacro._getLocale();var _i=nexacro._getMonitorCount();var _j=1;for(var _ai=0;_ai<_i;_ai++ ){if(nexacro._isPrimaryMonitor(_ai)){_j=_ai;}}var _k=nexacro._getScreenWidth(_j);var _l=nexacro._getScreenHeight(_j);var _m=nexacro._getMobileOrientation();var _n=false;if((_k>_l)||_m==2||_m==3){_n=true;}if(_n&&nexacro.OS=="Android"){var _o=nexacro._searchDeviceExceptionValue("swap_screen");if(_o){var _p=_k;_k=_l;_l=_p;}}for(var _ai=0;_ai<_d;_ai++ ){var _q=_c[_ai];_q._priority=0;if(_a){if(_q.name!=_a){continue;}_e=_q;}var _r=_q.type;if(!_a&&_f&&_r){_q._priority= -100;var _s=_r.toLowerCase().split(",");var _t=_s.length;var _u=false;for(var _aj=0;_aj<_t;_aj++ ){if(_s[_aj]===_f){_q._priority=100;_u=true;break;}}if(!_u){continue;}}var _v=_q.systemos;if(!_a&&_g&&_v){var _w=_v.toLowerCase().split(",");var _x=_w.length;var _y=false;for(var _aj=0;_aj<_x;_aj++ ){if(_w[_aj]==_g){_q._priority+=10;_y=true;break;}}if(!_y&&(_w.indexOf("windows")>=0||_w.indexOf("ios")>=0||_w.indexOf("android")>=0)){continue;}}var _z=_q.locale;if(!_a&&_h&&_z){var _aa=_z.toLowerCase().split(",");var _ab=_aa.length;var _ac=false;for(var _aj=0;_aj<_ab;_aj++ ){if(_aa[_aj]==_h){_q._priority+=1;_ac=true;break;}}}var _ad=_q.screenwidth||0;var _ae=_q.screenheight||0;var _af=_q.sizeorientation;if(_af===undefined){if(_f=="phone"){_af="portrait";}else if(_f=="tablet"){_af="landscape";}}var _ag=false;if(_af=="landscape"){_k=_k+_l;_l=_k-_l;_k=_k-_l;_ag=true;}_q._device_width=_k;_q._width=_k-parseInt(_ad);_q._height=_l-parseInt(_ae);if(!_a&&_q._priority>=0){if(!_e){_e=_q;}else{var _ah=false;if(_e._width>=0){if(_q._width>=0&&_e._width>_q._width){_e=_q;}else if(_e._width==_q._width){_ah=true;}}else if(_e._width<0){_e=_q;}if(_ah){if(_e.screenheight===undefined&&_q.screenheight===undefined){if(_n&&_q.sizeorientation=="landscape"){_e=_q;}}else if(_e._height>=0){if(_q._height>=0){if(_e._height>_q._height||(_e._height==_q._height&&_n&&_q.sizeorientation=="landscape")){_e=_q;}}}else if(_e._height<0){if(_q._height>0){_e=_q;}else if(_e._height<=_q._height){_e=_q;}}}}}if(_ag){_k=_k+_l;_l=_k-_l;_k=_k-_l;}}if(_e){_e._cur_type=_f;}return _e;};_pApplication._applyScreenAutozoom=function(){var _a=this._curscreen;if(!_a){return;}if(_a._cur_type!="phone"&&_a._cur_type!="tablet"){return;}if(_a.screenwidth!==undefined&&nexacro._toBoolean(_a.autozoom)==true){if(parseInt(_a.screenwidth)<=320&&nexacro.OS=="Android"&&nexacro.Browser!="Chrome"){_a.screenwidth="321";}var _b=Math.abs(parseInt(_a.screenwidth));nexacro._zoom_factor=_a._device_width*100/_b;}};_pApplication.transaction=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){var _k=nexacro._getServiceLocation(_b);var _l=nexacro._getServiceObject(_b,true);this._load_manager.loadDataModule(_k,_a,_c,_d,_e,_f,_g,_h,_i,_l,_j);};_pApplication.cancelTransaction=function(_a){if(!this._load_manager){return  -1;}var _b=this._load_manager.dataList;if(!_b){return  -1;}var _c=0;if(_a!=undefined){var _d=(typeof _a=="string")?_a.split(","):_a;if(_d.length>0){var _e=[];var _f=_b.length;for(var _o=0;_o<_f;_o++ ){_e[_o]=_b[_o].url;}var _g=[];var _h=_e.length;for(var _p=0;_h>_p;_p++ ){var _i=false;var _j=_d.length;for(var _q=0;_j>_q;_q++ ){if(_d[_q]==_e[_p]){_i=true;break;}}if(!_i){_g.push(_e[_p]);}}var _k=_g.length;for(var _p=_k-1;_p>=0;_p-- ){var _f=_b.length;for(var _q=_f-1;_q>=0;_q-- ){if(_b[_q].url==_g[_p]){_b=nexacro._removedatalist(_b,_q);}}}}}var _l=_b.length;for(var _p=0;_p<_l;_p++ ){var _m=_b[_p];var _n=_m._handle;_n._user_aborted=true;_m._is_cancel=true;nexacro._cancelLoad(_n);_c++ ;}};_pApplication.beforeExit=function(){return false;};_pApplication._exit=function(_a){this.removeTray();var _b=this.mainframe;if(!_a){var _c=_b._on_beforeclose();if(_b._checkAndConfirmClose(_c)==false){return false;}}var _d=this.popupframes;var _e=_d.length;var _f=null;for(var _i=_e-1;_i>=0;_i-- ){_f=_d[_i]._window;if(_f){_f._ignore_close_confirm=true;}}_b._on_close();this.on_fire_onexit();this._removeProtocols();_popuframes=this.popupframes;var _g=_popuframes.length;for(var _i=_g-1;_i>=0;_i-- ){var _h=_popuframes[_i];if(_h&&_h.form){_h.form.close();}}if(nexacro.Browser=="IE"&&!_a){this.mainframe._skip_destroy=true;}this.mainframe._destroy();this.mainframe._skip_destroy=false;this.removeDatasets();this.destroy();this._global_context=null;nexacro._applicationExit();};_pApplication.exit=function(){if(this._exit()==false){return;}nexacro._applicationExit(true);};_pApplication.getRealPath=function(_a,_b,_c){var _d="";return _d;};_pApplication.alert=function(_a,_b,_c){this._is_on_alert=true;nexacro._skipDragEventAfterMsgBox=true;nexacro._alert(this,_a,_b,_c);this._is_on_alert=false;};_pApplication.confirm=function(_a,_b,_c){nexacro._skipDragEventAfterMsgBox=true;return nexacro._confirm(this,_a,_b,_c);};_pApplication.userconfirm=function(_a,_b,_c){return true;};_pApplication.setPrivateProfile=function(_a,_b,_c){return nexacro._setPrivateProfile(_a,_b,_c);};_pApplication.getPrivateProfile=function(_a,_b){return nexacro._getPrivateProfile(_a,_b);};_pApplication.checkLicense=function(_a){if(_a){this._checkLicense(_a);}};_pApplication.loadTypedefition=nexacro._emptyFn;_pApplication.on_initApplication=nexacro._emptyFn;_pApplication.on_loadGlobalVariables=nexacro._emptyFn;_pApplication.on_initEvent=nexacro._emptyFn;_pApplication.on_createBodyFrame=nexacro._emptyFn;_pApplication.initApplication=function(){this.on_initApplication();if(this._component_uri){this._resource_path=nexacro._transfullurl(this._component_uri,"../resources/");}var _a=this._curscreen;if(_a){var _b=["name","type","screenwidth","screenheight","sizeorientation","themeid","hithemeid","autozoom","description","zoommin","zoommax","systemos","systemlocale"];for(var _c in _a){if(_b.indexOf(_c)<0&&this["set_"+_c]){this["set_"+_c](_a[_c]);}}}};_pApplication.loadGlobalVariables=function(){this.on_loadGlobalVariables();this._addGlobalVariableFromGlobalValue();};_pApplication.initEvent=function(){this.on_initEvent();};_pApplication.createBodyFrame=function(_a){this.on_createBodyFrame(_a);};_pApplication.executeScript=function(_a,_b,_c){var _d=nexacro._makeurl(_a);if(_b){var _e=nexacro._executeScript(_b);if(_e){var _f=this._async;this._async=false;_e.call(this,_d,_c);this._executeScript(this);this._async=_f;}}else{var _g=this._includescriptlist;var _h,_i,_j;for(var _k=0,_l=_g.length;_k<_l;_k++ ){_h=_g[_k];_j=nexacro._makeurl(_h.url);if((_j==_d||_j==_a)&&!_h.isexecute){if(!_h.isloadonly){for(var _m=0,_n=_h.deps.length;_m<_n;_m++ ){_i=_h.deps[_m];this.executeScript(_i,_b,_c);}}_h.isexecute=true;_h.fn.call(this);break;}}}};_pApplication.executeIncludeScript=_pApplication.executeScript;_pApplication._executeScript=function(_a){if(_a&&_a._registerscriptfn){_a._registerscriptfn.call(_a);}_a._registerscriptfn=null;_a._includescriptlist.length=0;};_pApplication.registerScript=function(_a,_b){var _c=this._includescriptlist;var _d=_c.length,_e;for(var _f=0;_f<_d;_f++ ){_e=nexacro._makeurl(_c[_f].url);if(_e==_a){_c[_f].fn=_b;return;}}this._registerscriptfn=_b;};_pApplication.addIncludeScript=function(_a,_b){if(_b&&!this._is_loaded){var _c=[],_d;var _e,_f;var _g=this._includescriptlist;for(var _h=0,_i=_g.length;_h<_i;_h++ ){_e=_g[_h];_f=nexacro._makeurl(_e.url);if(!_e.isloadonly){if(_f.match(_a)){_d=_e.deps.length;for(var _j=0;_j<_d;_j++ ){if(_e.deps[_j]==_b){continue;}}_e.deps.push(_b);}}if(_f==_b){return;}}this._includescriptlist.push({url:_b,deps:_c,isloadonly:false,fn:nexacro._emptyFn,isload:false,isexecute:false});}};_pApplication.loadIncludeScript=function(_a,_b){var _c;var _d=this._includescriptlist;for(var _e=0,_f=_d.length;_e<_f;_e++ ){_c=_d[_e];_c.isloadonly=_b;if(_c.isload==false){_c.isload=true;this._loadInclude.call(this,_a,_c.url,true);}}};var _global_context=this;_pApplication._on_init=function(){nexacro._setLocalStorage("_typedefinition_url",this._typedefinition_url,"string");nexacro._setLocalStorage("_globalvar_uri",this._globalvar_uri,"string");nexacro._initializeGlobalObjects(_global_context);nexacro._registerClass(_global_context);nexacro._observeGlobalEvent(null,"beforeuserconfirm","onbeforeuserconfirm",this._on_callback_beforeuserconfirm);nexacro._observeGlobalEvent(null,"afteruserconfirm","onafteruserconfirm",this._on_callback_afteruserconfirm);nexacro._initApplication();this.initApplication();if(this.mainframe){this.mainframe.createBodyFrame();}var _a=this._url,_b=null;var _c=this._includescriptlist;for(var _f=0,_g=_c.length;_f<_g;_f++ ){_b=_c[_f];if(_b&&!_b.isloadonly){this.executeScript(_b.url,null,this);}}this._executeScript(this);this.initEvent();this.on_fire_onloadtypedefinition(this,this._typedefinition_url);this.loadGlobalVariables();this.on_fire_onloadingglobalvariables(this,this._globalvar_uri);var _d=this._datasets.length;for(var _f=0;_f<_d;_f++ ){this._datasets[_f].on_created();}if(this.mainframe){this.mainframe.createComponent();this.mainframe._setRtlDirection(this._rtldirection);this.mainframe._setLocale(this._locale);this.mainframe.on_created();}_d=this.widgets.length;for(var _f=0;_f<_d;_f++ ){this.widgets[_f].createComponent();this.widgets[_f].on_created();}_d=this.trays.length;for(var _f=0;_f<_d;_f++ ){this.trays[_f].on_created();}if(!this.loadingimage){var _e=this._getLoadingImageUrl();_e=nexacro._getImageLocation(_e);nexacro._getImageSize(_e,this._on_loadwaitimage,this,undefined,this.loadingimage);}this._is_loaded=true;};_pApplication._beginCommProgress=function(){var _a=this.mainframe;var _b=_a?_a.statusbar:null;if(_b){_b._beginCommProgress();}};_pApplication._stepCommProgress=function(_a,_b){var _c=this.mainframe;var _d=_c?_c.statusbar:null;if(_d){_d._stepCommProgress(_a,_b);}};_pApplication._endCommProgress=function(){var _a=this.mainframe;var _b=_a?_a.statusbar:null;if(_b){_b._endCommProgress();}};_pApplication.playAccessibility=function(_a){if(_a){_a._notifyAccessibility();return true;}return false;};_pApplication.deleteCacheDB=function(){return nexacro._deleteCacheDB();};_pApplication.enableAutoUpdate=function(){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;var _a='{"id":'+this._id+', "div":"Update",  "method":"enableAutoUpdate"}';nexacro.Device.exec(_a);};}nexacro.FlingHandler=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this._id=_a;this._touch_manager=_m;var _n=_b.findComponent(_c,0,0);if(_n&&_n[0]&&(_g||_h)){this._target_comp=_n[0];this.totalx=_g;this.totaly=_h;this.speedx=_i;this.speedy=_j;this.duration=_k;this.touchlen=_l;this._target_window=_b;this._target_elem=_c;this._starttime=Date.now();this._compinfo=_n;this._scroll_comp=_d;this._scroll_mode=_e;this._oldspeedx=this._oldspeedy=this._oldcurvevalue=0.0;this._is_alive=true;}else{this._is_alive=false;}if(!nexacro.FlingHandler.prototype._fling_bezier){nexacro.FlingHandler.prototype._fling_bezier=new nexacro.CubicBezier(0.1,0.4,0.3,1);}};var _pFlingHandler=nexacro.FlingHandler.prototype;_pFlingHandler._fling_interval=20;_pFlingHandler._fling_bezier=null;_pFlingHandler.start=function(){var _a=this._touch_manager;var _b=_a.on_fire_onflingstart(this._target_elem,this._compinfo,this,this.speedx,this.speedy,this.speedx,this.speedy,this.touchlen);if(_b==true){this._touch_manager.onflingend(this._id);return;}this._flingend_timer=new nexacro.TouchTimer(this._target_window,this._on_flingend_timer,this,this.duration);var _c=this;this._fling_timer=new nexacro.AnimationFrame(this._target_comp,function(){_c._on_fling_frame();});this._fling_timer.start();};_pFlingHandler.stop=function(){if(this._flingend_timer&&this._flingend_timer.isWait()){this._fling_timer.stop();this._flingend_timer.stop();this.on_fire_onflingend();this._touch_manager.onflingend(this._id);}};_pFlingHandler._on_fling_timer=function(){var _a=Date.now()-this._starttime;if(!this._is_alive){return _a;}var _b=this._fling_bezier;var _c=1.0/(200.0*this.duration);var _d=_b._getTForCoordinate(_a/this.duration,_b._p1.x,_b._p2.x,_c);var _e=_b._getCoordinateForT(_d,_b._p1.y,_b._p2.y);var _f=_e-this._oldcurvevalue;var _g=(_f*this.speedx);var _h=(_f*this.speedy);this._proc_scroll=false;this._touch_manager.on_fire_onfling(this._target_elem,this._compinfo,this,this.speedx,this.speedy,_g,_h,this.touchlen);var _i=this._scroll_comp;if(_i&&this._proc_scroll){var _j=(_f*this.totalx);var _k=(_f*this.totaly);var _l=this._scroll_mode;var _m=_i.hscrollbar;if((_l==3||_l==2)&&_j&&_m&&_m.enable){_m._setPos(_m.pos-_j,"fling");}_m=_i.vscrollbar;if((_l==3||_l==1)&&_k&&_m&&_m.enable){_m._setPos(_m.pos-_k,"fling");}}this._oldcurvevalue=_e;return (_a/this.duration);};_pFlingHandler._on_fling_frame=function(){var _a=this._on_fling_timer();if(_a<1.0){this._fling_timer.start();}};_pFlingHandler.on_fire_onflingend=function(){this._touch_manager.on_fire_onflingend(this._target_elem,this._compinfo,this,this.speedx,this.speedy,0,0,this.touchlen);this._is_alive=false;};_pFlingHandler._setScrollComp=function(_a){if(this._scroll_comp||!_a){return;}this._scroll_comp=_a;};_pFlingHandler._on_flingend_timer=function(){if(this._fling_timer){this._fling_timer.stop();this._fling_timer.destroy();}this._flingend_timer.destroy();this.on_fire_onflingend();this._touch_manager.onflingend(this._id);};delete _pFlingHandler;nexacro.TouchTimer=function(_a,_b,_c,_d){var _e=this;this._callbackfunc=function(){_e.stop();_b.call(_c);};if(_a._getReferenceContext){this.context=_a._getReferenceContext();this._win_handle=this.context._getWindowHandle();}else{this._win_handle=_a._handle;}this._handle=null;if(_d!=undefined){this.start(_d);}};var _pTouchTimer=nexacro.TouchTimer.prototype;_pTouchTimer.start=function(_a){if(this._handle){this.stop();}this._handle=nexacro._setSystemTimer(this._win_handle,this._callbackfunc,_a);};_pTouchTimer.stop=function(){if(this._handle){nexacro._clearSystemTimer(this._win_handle,this._handle);this._handle=null;}};_pTouchTimer.isWait=function(){return !!this._handle;};_pTouchTimer.destroy=function(){this.stop();this.context=null;this._callbackfunc=null;this.scope=null;};delete _pTouchTimer;nexacro.CubicBezier=function(_a,_b,_c,_d){this._p1={x:_a,y:_b};this._p2={x:_c,y:_d};};var _pCubicBezier=nexacro.CubicBezier.prototype;_pCubicBezier._getCoordinateForT=function(_a,_b,_c){var _d=3*_b,_e=3*(_c-_b)-_d,_f=1-_d-_e;return ((_f*_a+_e)*_a+_d)*_a;};_pCubicBezier._getCoordinateDerivateForT=function(_a,_b,_c){var _d=3*_b,_e=3*(_c-_b)-_d,_f=1-_d-_e;return (3*_f*_a+2*_e)*_a+_d;};_pCubicBezier._getTForCoordinate=function(_a,_b,_c,_d){if(!isFinite(_d)||_d<=0){throw new RangeError('"epsilon" must be a number greater than 0.');}var _e,_f,_g,_h;for(_e=_a,_f=0;_f<8;_f=_f+1){_g=this._getCoordinateForT(_e,_b,_c)-_a;if(Math.abs(_g)<_d){return _e;}_h=this._getCoordinateDerivateForT(_e,_b,_c);if(Math.abs(_h)<1e-6){break;}_e=_e-_g/_h;}_e=_a;var _i=0,_j=1;if(_e<_i){return _i;}if(_e>_j){return _j;}while(_i<_j){_g=this._getCoordinateForT(_e,_b,_c);if(Math.abs(_g-_a)<_d){return _e;}if(_a>_g){_i=_e;}else{_j=_e;}_e=(_j-_i)*0.5+_i;}return _e;};_pCubicBezier.getPointForT=function(_a){if(_a===0||_a===1){return {x:_a,y:_a};}if(_a<0||_a>1){throw new RangeError('"t" must be a number between 0 and 1'+'Got '+_a+' instead.');}return {x:this._getCoordinateForT(_a,this._p1.x,this._p2.x),y:this._getCoordinateForT(_a,this._p1.y,this._p2.y)};};_pCubicBezier.getTForX=function(_a,_b){return this._getTForCoordinate(_a,this._p1.x,this._p2.x,_b);};_pCubicBezier.getTForY=function(_a,_b){return this._getTForCoordinate(_a,this._p1.y,this._p2.y,_b);};_pCubicBezier._getAuxPoints=function(_a){if(_a<=0||_a>=1){throw new RangeError('"t" must be greater than 0 and lower than 1');}var _b={x:_a*this._p1.x,y:_a*this._p1.y},_c={x:this._p1.x+_a*(this._p2.x-this._p1.x),y:this._p1.y+_a*(this._p2.y-this._p1.y)},_d={x:this._p2.x+_a*(1-this._p2.x),y:this._p2.y+_a*(1-this._p2.y)};var _e={x:_b.x+_a*(_c.x-_b.x),y:_b.y+_a*(_c.y-_b.y)},_f={x:_c.x+_a*(_d.x-_c.x),y:_c.y+_a*(_d.y-_c.y)};var _g={x:_e.x+_a*(_f.x-_e.x),y:_e.y+_a*(_f.y-_e.y)};return {i0:_b,i1:_c,i2:_d,j0:_e,j1:_f,k:_g};};_pCubicBezier.divideAtT=function(_a){if(_a<0||_a>1){throw new RangeError('"t" must be a number between 0 and 1. '+'Got '+_a+' instead.');}if(_a===0||_a===1){var _b=[];_b[_a]=CubicBezier.linear();_b[1-_a]=this.clone();return _b;}var _c={},_d={},_e=this._getAuxPoints(_a);var _f=_e.i0,_g=_e.i2,_h=_e.j0,_i=_e.j1,_j=_e.k;var _k=_j.x,_l=_j.y;_c.p1={x:_f.x/_k,y:_f.y/_l};_c.p2={x:_h.x/_k,y:_h.y/_l};_d.p1={x:(_i.x-_k)/(1-_k),y:(_i.y-_l)/(1-_l)};_d.p2={x:(_g.x-_k)/(1-_k),y:(_g.y-_l)/(1-_l)};return [new nexacro.CubicBezier(_c.p1.x,_c.p1.y,_c.p2.x,_c.p2.y),new nexacro.CubicBezier(_d.p1.x,_d.p1.y,_d.p2.x,_d.p2.y)];};_pCubicBezier.divideAtX=function(_a,_b){if(_a<0||_a>1){throw new RangeError('"x" must be a number between 0 and 1. '+'Got '+_a+' instead.');}var _c=this.getTForX(_a,_b);return this.divideAtT(_c);};_pCubicBezier.divideAtY=function(_a,_b){if(_a<0||_a>1){throw new RangeError('"y" must be a number between 0 and 1. '+'Got '+_a+' instead.');}var _c=this.getTForY(_a,_b);return this.divideAtT(_c);};_pCubicBezier.clone=function(){return new nexacro.CubicBezier(this._p1.x,this._p1.y,this._p2.x,this._p2.y);};_pCubicBezier.toString=function(){return "cubic-bezier("+[this._p1.x,this._p1.y,this._p2.x,this._p2.y].join(", ")+")";};_pCubicBezier.linear=function(){return new nexacro.CubicBezier();};_pCubicBezier.ease=function(){return new nexacro.CubicBezier(0.25,0.1,0.25,1.0);};_pCubicBezier.linear=function(){return new nexacro.CubicBezier(0.0,0.0,1.0,1.0);};_pCubicBezier.easeIn=function(){return new nexacro.CubicBezier(0.42,0,1.0,1.0);};_pCubicBezier.easeOut=function(){return new nexacro.CubicBezier(0,0,0.58,1.0);};_pCubicBezier.easeInOut=function(){return new nexacro.CubicBezier(0.42,0,0.58,1.0);};delete _pCubicBezier;if(!this.system){this.system=nexacro.System;}if(!this.application){this.application=nexacro.Application;application.init();}}