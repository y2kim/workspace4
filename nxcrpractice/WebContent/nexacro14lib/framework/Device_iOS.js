if(nexacro.OS=="iOS"&&window.location.pathname.split('/').pop()=="Run.html"){nexacro.DeviceI.prototype.setup=function(){this._userCreatedObj={};this.curDevice=0;this.isphone=0;this._is_hybrid=true;this._protocolparameters={};if(!!window.webkit&&!!window.webkit.messageHandlers&&!!window.webkit.messageHandlers.nexacro){this._use_wkwebview=true;}else{this._use_wkwebview=false;}if(nexacro.OS=="iOS"){this.curDevice=1;if(!this._use_wkwebview){if(!this.bridge&&this.isHybrid()){this.bridge=document.createElement("IFRAME");this.bridge.setAttribute("height","0px");this.bridge.setAttribute("width","0px");this.bridge.setAttribute("frameborder","0");this.bridge.style.display="none";document.documentElement.appendChild(this.bridge);this.msgqueue=new Array();this.msgqueue.length=0;setInterval("nexacro.Device.execiOS()",20);}}}};nexacro.DeviceI.prototype.execiOS=function(_a){if(this.msgqueue.length>0&&this.curDevice==1){this.msgqueue.reverse();this.bridge.src="nexacro://?"+encodeURI(this.msgqueue.pop());this.msgqueue.reverse();}};nexacro.DeviceI.prototype.exec=function(_a,_b){if(this.isHybrid()==false){return;}if(this._use_wkwebview){if(!_b){window.webkit.messageHandlers.nexacro.postMessage(_a);}else{return prompt("nexacro",_a);}}else{this.msgqueue.push(_a);}};nexacro._convertRealPath=function(_a){if(nexacro.Device.isHybrid()==undefined||!nexacro.Device.isHybrid()){return _a;}if(_a===undefined||_a===null){return "";}var _b=_a.substring(0,9);var _c="";if(_b.toLowerCase()=="%userapp%"){_c=_a.substring(9,_a.length);return nexacro.System.userapppath+_c;}else{return _a;}};nexacro._isHybrid=function(){return nexacro.Device.isHybrid();};nexacro._convertDatasetSSVToBIN=function(_a){return _a;};nexacro._convertDatasetBINToSSV=function(_a){return _a;};nexacro._convertStreamSSVToBIN=function(_a){return _a;};nexacro._convertStreamBINToSSV=function(_a){return _a;};nexacro._setProtocolVar=function(_a,_b,_c){var _d=nexacro.Device._protocolparameters[_a];if(_d==undefined){nexacro.Device._protocolparameters[_a]={};_d=nexacro.Device._protocolparameters[_a];}_d[_b]=_c;return true;};nexacro._execBrowser=function(_a){this._id=nexacro.Device.makeID();if(_a==null||_a==undefined){return false;}var _b='{"url":"'+_a+'"}';var _c='{"id":'+this._id+', "div":"Browser", "method":"execBrowser", "params":'+_b+'}';nexacro.Device.exec(_c);return true;};nexacro._setPreferencesValue=function(_a,_b){if(!_a){return false;}var _c='{}';if(_b){_c='{"key":"'+_a+'","value":"'+nexacro.Device.encodeString(_b)+'"}';}else{_c='{"key":"'+_a+'","value":undefined}';}var _d='{"id":0, "div":"Preferences", "method":"setPreferencesValue", "params":'+_c+'}';nexacro.Device.exec(_d);return true;};nexacro._initDeviceAPI();}