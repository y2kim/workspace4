if(!nexacro.Edit){nexacro.Edit_Style=function(_a){nexacro.Style.call(this);if(_a){this._target=_a;}this.caretcolor=null;this.compositecolor=null;this.displaynulltextcolor=null;};var _pEditStyle=nexacro._createPrototype(nexacro.Style,nexacro.Edit_Style);nexacro.Edit_Style.prototype=_pEditStyle;eval(nexacro._createColorAttributeEvalStr("_pEditStyle","caretcolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","compositecolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","selectcolor"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","selectbackground"));eval(nexacro._createColorAttributeEvalStr("_pEditStyle","displaynulltextcolor"));_pEditStyle.__custom_emptyObject=function(){this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};_pEditStyle.__get_custom_style_value=function(){var _a="";if(this.caretcolor&&!this.caretcolor._is_empty){_a+="caretcolor:"+this.caretcolor._value+"; ";}if(this.compositecolor&&!this.compositecolor._is_empty){_a+="compositecolor:"+this.compositecolor._value+"; ";}if(this.selectcolor&&!this.selectcolor._is_empty){_a+="selectcolor:"+this.selectcolor._value+"; ";}if(this.selectbackground&&!this.selectbackground._is_empty){_a+="selectbackground:"+this.selectbackground._value+"; ";}if(this.displaynulltextcolor&&!this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor:"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.Edit_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.caretcolor=null;this.compositecolor=null;this.selectcolor=null;this.selectbackground=null;this.displaynulltextcolor=null;};var _pEditCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Edit_CurrentStyle);nexacro.Edit_CurrentStyle.prototype=_pEditCurrentStyle;_pEditCurrentStyle.__custom_emptyObject=_pEditStyle.__custom_emptyObject;_pEditCurrentStyle.__get_custom_style_value=_pEditStyle.__get_custom_style_value;_pEditStyle=null;_pEditCurrentStyle=null;nexacro.Edit=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.value=undefined;this.useinputpanel=true;this.displaynulltext="";this.readonly=false;this.password=false;this.autoselect=false;this.autoskip=false;this.maxlength=0;this.usesoftkeyboard=true;this.inputmode="normal";this.inputfilter="none";this.inputtype="normal";this.lengthunit="utf16";this.tabindentsize=4;this.imemode="none";this.useime="global";this.updatebindingvalue="default";this.usecontextmenu=true;this.text="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ontextchange":1,"ontextchanged":1,"oncontextmenu":1,"onfling":1,"onflingstart":1,"onflingend":1,"onpinch":1,"onpinchstart":1,"onpinchend":1,"onslide":1,"onslidestart":1,"onslideend":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"onlongpress":1};this._input_element=null;this._edit_base_api=new nexacro.EditNormal(this);this._accessibility_role="edit";this._caret_pos={begin: -1,end: -1,org_begin: -1,org_end: -1};this._setcaret=false;this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;this._activate_flag=false;this._has_inputElement=true;this._old_selection=[0,0];this._lose_focus_comp=null;};var _pEdit=nexacro._createPrototype(nexacro.Component,nexacro.Edit);nexacro.Edit.prototype=_pEdit;_pEdit._type_name="Edit";nexacro.Edit._default_selectcolor=nexacro._getCachedStyleObj("color","#3e3e3eff");nexacro.Edit._focused_selectcolor=nexacro._getCachedStyleObj("color","#ffffffff");nexacro.Edit._default_selectbackground=nexacro._getCachedStyleObj("color","#ffffffb3");_pEdit.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a)||nexacro.Component._default_left_align;if(_c!=_b.align){_b.align=_c;this.on_apply_style_align(_c);}_c=null;var _d=this.on_find_CurrentStyle_font(_a);if(_d!=_b.font){_b.font=_d;this.on_apply_style_font(_d);}_d=null;var _e=this.on_find_CurrentStyle_letterspace(_a);if(_e!=_b.letterspace){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}_e=null;var _f=this.on_find_CurrentStyle_color(_a);if(_f!=_b.color){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_g!=_b.displaynulltextcolor){_b.displaynulltextcolor=_g;this.on_apply_style_displaynulltextcolor(_g);}_f=this.on_find_CurrentStyle_caretcolor(_a);if(_f!=_b.caretcolor){_b.caretcolor=_f;this.on_apply_style_caretcolor(_f);}_f=this.on_find_CurrentStyle_compositecolor(_a);if(_f!=_b.compositecolor){_b.compositecolor=_f;this.on_apply_style_compositecolor(_f);}_f=null;var _h=this.on_find_CurrentStyle_selectcolor(_a);if(_h!=_b.selectcolor){_b.selectcolor=_h;this.on_apply_style_selectcolor(_h);}_h=null;var _i=this.on_find_CurrentStyle_selectbackground(_a);if(_i!=_b.selectbackground){_b.selectbackground=_i;this.on_apply_style_selectbackground(_i);}_i=null;var _j=this.on_find_CurrentStyle_rtlimagemirroring(_a);if(_j!=_b.rtlimagemirroring){_b.rtlimagemirroring=_j;this.on_apply_style_rtlimagemirroring(_j);}_j=null;};_pEdit.on_create_custom_style=function(){return new nexacro.Edit_Style(this);};_pEdit.on_create_custom_currentStyle=function(){return new nexacro.Edit_CurrentStyle();};_pEdit.on_find_CurrentStyle_cursor=function(_a){var _b="";if(!this._isEnable()&&this.parent&&!this.parent._is_application){if(!this._is_subcontrol){_b=this.parent._find_pseudo_obj("cursor",_a,"value");}else{var _c=this.parent;while(_c&&_c._is_form){_c=_c.parent;}if(_c){_b=_c._find_pseudo_obj("cursor",_a,"value");}else{_b=null;}}}else{_b=this._find_pseudo_obj("cursor",_a,"value");}return (_b)?_b:nexacro.Component._default_cursor;};_pEdit.on_find_CurrentStyle_align=function(_a){var _b=this._find_pseudo_obj("align",_a,"align");return (_b)?_b:nexacro.Component._default_left_align;};_pEdit.on_find_CurrentStyle_caretcolor=function(_a){return this._find_pseudo_obj("caretcolor",_a,"color");};_pEdit.on_find_CurrentStyle_compositecolor=function(_a){return this._find_pseudo_obj("compositecolor",_a,"color");};_pEdit.on_find_CurrentStyle_selectcolor=function(_a){var _b=this._find_pseudo_obj("selectcolor",_a,"color");if(!_b){if(_a=="focused"){_b=nexacro.Edit._focused_selectcolor;}else{_b=nexacro.Edit._default_selectcolor;}}return _b;};_pEdit.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pEdit.on_find_CurrentStyle_selectbackground=function(_a){var _b=this._find_pseudo_obj("selectbackground",_a,"background");return (_b)?_b:nexacro.Edit._default_selectbackground;};_pEdit.on_update_style_cursor=function(){var _a=this.on_find_CurrentStyle_cursor(this._pseudo);this.currentstyle.cursor=_a;this.on_apply_style_cursor(_a);};_pEdit.on_update_style_caretcolor=function(){var _a=this.on_find_CurrentStyle_caretcolor(this._pseudo);this.currentstyle.caretcolor=_a;this.on_apply_style_caretcolor(_a);};_pEdit.on_update_style_compositecolor=function(){var _a=this.on_find_CurrentStyle_compositecolor(this._pseudo);this.currentstyle.compositecolor=_a;this.on_apply_style_compositecolor(_a);};_pEdit.on_update_style_selectcolor=function(){var _a=this.on_find_CurrentStyle_selectcolor(this._pseudo);this.currentstyle.selectcolor=_a;this.on_apply_style_selectcolor(_a);};_pEdit.on_update_style_displaynulltextcolor=function(){var _a=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo);this.currentstyle.displaynulltextcolor=_a;this.on_apply_style_displaynulltextcolor(_a);};_pEdit.on_update_style_selectbackground=function(){var _a=this.on_find_CurrentStyle_selectbackground(this._pseudo);this.currentstyle.selectbackground=_a;this.on_apply_style_selectbackground(_a);};_pEdit.on_apply_style_color=function(_a){var _b=this._input_element;if(_b){_b.setElementColor(_a);}};_pEdit.on_apply_style_font=function(_a){if(_a==null){this.currentstyle.font=nexacro.Component._default_font;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_c.setElementFont(_a);_b.setPosition();_b._apply_style(_c);}};_pEdit.on_apply_style_cursor=function(_a){var _b=this.getElement();if(_b){_b.setElementCursor(_a);var _c=this._input_element;if(_c){_c.setElementCursor(_a);}}};_pEdit.on_apply_style_align=function(_a){if(_a==null){_a=nexacro.Component._default_left_align;}var _b=this._edit_base_api;var _c=this._input_element;if(_c){_b.setPosition();_b._apply_style(_c);}};_pEdit.on_apply_style_caretcolor=function(_a){};_pEdit.on_apply_style_compositecolor=function(_a){};_pEdit.on_apply_style_selectbackground=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectBackgroundColor(_a);}};_pEdit.on_apply_style_selectcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementSelectColor(_a);}};_pEdit.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this._input_element){this._input_element.setElementAccessibilityRole(_a.role);}};_pEdit.on_apply_style_displaynulltextcolor=function(_a){var _b=this._input_element;if(_b){_b.setElementDisplayNullTextColor(_a);}};_pEdit.on_apply_style_letterspace=function(_a){var _b=this._input_element;if(_b){_b.setElementLetterSpace(_a);}};_pEdit.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._input_element=new nexacro.InputElement(_a);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlign(_b.align);_c.setElementSelectColor(_b.selectcolor);_c.setElementSelectBackgroundColor(_b.selectbackground);_c.setElementDisplayNullTextColor(_b.displaynulltextcolor);}};_pEdit.on_created_contents=function(){var _a=this._input_element;var _b=this._edit_base_api;if(_a){var _c=nexacro._toString(this.value);var _d=this.currentstyle;_a.setElementReadonly(this.readonly);_a.setElementMaxLength(this.maxlength);_a.setElementUseIme(this.useime);_a.setElementImeMode(this.imemode);_a.setElementEnable(this._isEnable());if(this.password){_a.setElementPassword(this.password);}else{_a.setElementInputType(this.inputtype);_a.setElementInputTypeKeypad(this.inputtype);}if(_b){_b.setValue(_c);_b._setFocusValue();}_a.create();this.on_apply_style_letterspace(_d.letterspace);this.on_apply_lengthunit();_a._bindEvent(_a);if(_b){_b.setPosition();}if(nexacro._isDesktop()&&(nexacro.Browser=="Chrome"||nexacro.Browser=="Safari")){this.setCaretPos(0);}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a._setElementInputLabel();}this.on_apply_prop_rtldirection();this.on_apply_displaynulltext();if(_d&&_d.cursor){this.on_apply_style_cursor(_d.cursor);}this.on_apply_prop_class();}};_pEdit.on_destroy_contents=function(){var _a=this._input_element;if(_a){_a._unBindEvent();_a.destroy();this._input_element=null;}var _b=this._edit_base_api;if(_b){_b._destroy();this._edit_base_api=null;}this._caret_pos=null;};_pEdit.on_change_containerRect=function(_a,_b){var _c=this._input_element;var _d=this._edit_base_api;if(_c&&_d){_d.setPosition();_d._apply_style(_c);}};_pEdit.on_getBindableProperties=function(){return "value";};_pEdit.on_apply_prop_enable=function(_a){var _b=this._input_element;if(_b){_b.setElementEnable(_a);this.on_apply_style_cursor(this.currentstyle.cursor);}};_pEdit.on_apply_custom_setfocus=function(_a){var _b=this._input_element;var _c=this._edit_base_api;if(_b){if(_c){_c._changeFocusText(_b);_c._bChangeFocusText=true;}var _d=this.text;if(this._old_selection[0]!=this._old_selection[1]){_b.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}_b.setElementFocus();var _e=this;if(nexacro.OS=="iOS"&&_b._keypad_type=="change"&&!this.readonly){setTimeout(function(){_c._text=_d;_b.setElementInputType("text",true);if(_e.autoselect){var _f=_c._select_text=_c._text;_c._is_apply_autoselect=true;_c.setElementCaretPos(0,_f.length,_b);}_b.setElementInputTypeKeypad("changed");},500);}}};_pEdit.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){var _d=this._edit_base_api;if(_d){if(_d._undoStack){_d._undoStack.init();}}this._setValue(undefined);return true;}};_pEdit.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){var _f=_b.getColumn(_c,_d);var _g=this._edit_base_api;var _h=this._input_element;if(_g){var _i=_g._getFocusValue();if(_h){if(_f===this.value&&_f===_g._value&&_f===_h.value){if(_i!=_f){_g._setFocusValue();}return true;}if(this._textchanging&&_f==this.value){return true;}}if(_g._undoStack){_g._undoStack.init();}}this._setValue(_f);if(_g&&_h){if(_i!=_f){_g._setFocusValue();}}return true;}return false;};_pEdit.on_get_style_accessibility_label=function(){var _a="";return _a;};_pEdit._on_getAccessibilityAdditionalLabel=function(){if(this._edit_base_api){return this._edit_base_api._on_getAccessibilityAdditionalLabel();}};_pEdit._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this._input_element&&this._status!="focus"){if(!this._input_element._wantAccessibilityAdditionalLabel||!this._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pEdit._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);if(nexacro._accessibilitytype==4){return "";}else{return _b;}};_pEdit._setAccessibilityStatFocus=function(_a){if(this._input_element){var _b=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_b="none";}this._input_element.setElementAccessibilityRole(_b);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pEdit._setAccessibilityNotifyEvent=function(_a){if(this._edit_base_api){this._edit_base_api._setAccessibilityNotifyLabel();}return nexacro.Component.prototype._setAccessibilityNotifyEvent.call(this,_a);};_pEdit.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._edit_base_api;if(_a){_a.setPosition();}if(this._input_element){this._input_element.setElementRtlDirection(this._rtldirection);}};_pEdit.set_text=function(_a,_b){};_pEdit.set_value=function(_a){var _b=_a;_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!==this.value){var _c=this._getRootForm();var _d=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){var _c=this._getRootForm();if(_c&&_c._bind_manager){var _e=_c._bind_manager._FindBindItem(this,"value");if(_e){var _f=_e._dataset;var _g=_f.rowposition;var _h=_f._getDataColIndex(_e.columnid);var _i=_f.getColumn(_g,_h);this._setValue(_i);}delete _e;_e=null;}delete _c;_c=null;return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_d){var _j=_d._accept_keyinput_event;_d._accept_keyinput_event=false;this._setValue(_a);_d._accept_keyinput_event=_j;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_c&&_c._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}if(_d){_d._setFocusValue();}if(typeof _b=="number"){this.value=parseFloat(_a);}}};_pEdit.on_apply_value=function(){var _a=this._edit_base_api;if(_a){_a.setValue(this.value);_a.syncValue();}this._refreshAccessibilityValue();};_pEdit.set_displaynulltext=function(_a){var _b=nexacro._isNull(_a);if(_b){_a="";}else{_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pEdit.on_apply_displaynulltext=function(){var _a=this._input_element;if(_a){_a.setElementDisplayNullText(this.displaynulltext);}};_pEdit.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pEdit.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}var _b=this._input_element;if(_b){_b.setElementReadonly(_a);}};_pEdit.set_autoselect=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoselect){this.autoselect=_a;}};_pEdit.set_autoskip=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.autoskip){this.autoskip=_a;}};_pEdit.on_apply_autoskip=function(){var _a=this._getRootComponent(this);var _b=this._refform.getNextComponent(_a,true);if(_b){_b.setFocus();var _c=_b._edit_base_api?_b._edit_base_api:null;if(_c){if(!_b.autoselect){_b.setCaretPos(0);}}}};_pEdit.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pEdit.on_apply_usesoftkeyboard=function(){var _a=this._input_element;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pEdit.set_imemode=function(_a){_a=nexacro._toString(_a);this.imemode=_a;this.on_apply_imemode();};_pEdit.on_apply_imemode=function(){var _a=this._input_element;if(_a){_a.setElementImeMode(this.imemode);}};_pEdit.set_inputmode=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputmode){this.inputmode=_a;}};_pEdit.set_inputfilter=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.inputfilter){this.inputfilter=_a;this.on_apply_inputfilter();}};_pEdit.on_apply_inputfilter=function(){var _a=this._edit_base_api;if(_a){_a.setInputfilter(this.inputfilter);}};_pEdit.set_inputtype=function(_a){_a=nexacro._toString(_a);if(_a==""){_a="normal";}if(_a&&_a!=this.inputtype){this.inputtype=_a;this.on_apply_inputtype();}};_pEdit.on_apply_inputtype=function(){var _a=this._edit_base_api;if(_a){_a.setInputType(this.inputtype);_a._apply_elementtype(this._input_element);}};_pEdit.set_lengthunit=function(_a){if(_a!=this.lengthunit){this.lengthunit=_a;this.on_apply_lengthunit();}};_pEdit.on_apply_lengthunit=function(){var _a=this._edit_base_api;if(_a){_a.setLengthunit(this.lengthunit);}};_pEdit.set_maxlength=function(_a){_a=nexacro._toInt(_a);if(_a<0){_a=0;}if(_a!=this.maxlength){this.maxlength=_a;this.on_apply_maxlength();}};_pEdit.on_apply_maxlength=function(){var _a=this._input_element;if(_a){_a.setElementMaxLength(this.maxlength);}};_pEdit.set_password=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.password){this.password=_a;this.on_apply_password();}};_pEdit.on_apply_password=function(){var _a=this._input_element;if(_a){_a.setElementPassword(this.password);}};_pEdit.set_useime=function(_a){_a=nexacro._toString(_a);this.useime=_a;this.on_apply_useime();};_pEdit.on_apply_useime=function(){var _a=this._input_element;if(_a){_a.setElementUseIme(this.useime);}};_pEdit.set_useinputpanel=function(_a){};_pEdit.set_tabindentsize=function(_a){};_pEdit.set_updatebindingvalue=function(_a){};_pEdit.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(this.usecontextmenu!=_a){this.usecontextmenu=_a;}};_pEdit.getLength=function(_a){var _b=this._edit_base_api;if(_b){if(!_a){_a=this.lengthunit;}return _b.getLength(this._input_element,this.value,false,null,_a);}return  -1;};_pEdit.getCaretPos=function(){if(this.readonly){return  -1;}var _a=this._input_element;if(_a){if(!_a._checkActiveElement()){return  -1;}var _b=_a.getElementCaretPos();if(_b&&_b!= -1){var _c=this._edit_base_api;if(_c&&_c._is_composition()){return _b.end;}else{return _b.begin;}}}return  -1;};_pEdit.getInputElementAttribute=function(_a){var _b=this._input_element;if(_b){return _b.getInputElementAttribute(_a);}return undefined;};_pEdit.setInputElementAttribute=function(_a,_b){var _c=this._input_element;if(_c){return _c.setInputElementAttribute(_a,_b);}return false;};_pEdit.setCaretPos=function(_a){var _b=this._edit_base_api;var _c=this._input_element;if(_c){this._caret_pos.org_begin=_a;this._caret_pos.org_end=_a;if(arguments.length==0){_a=0;}else{_a=nexacro._toInt(_a);if(_a== -1){if(_a&&this.value!=undefined){_a=this.value.length;}else{_a=0;}}}_c.setElementSetSelect(_a,_a);_b._begin_pos=_b._end_pos=_a;this._caret_pos.begin=_a;this._caret_pos.end=_a;this._setcaret=true;return true;}return false;};_pEdit.getSelect=function(){var _a=this._edit_base_api;if(_a){var _b=_a._begin_pos!==undefined?_a._begin_pos:0;var _c=_a._end_pos!==undefined?_a._end_pos:0;return [_b,_c];}else{return [0,0];}};_pEdit.setSelect=function(_a,_b){var _c=this._input_element;if(_c){var _d=this._edit_base_api;var _e=this.text?this.text:"";var _f=_e.length;this._caret_pos.org_begin=_a;this._caret_pos.org_end=_b;if(nexacro._isNull(_a)||_a===""){_a=0;}if(nexacro._isNull(_b)||_b===""){_b= -1;}if(!nexacro._isNumber(_a)){_a=nexacro._toInt(_a);}if(!nexacro._isNumber(_b)){_b=nexacro._toInt(_b);}if(_a== -1){_a=_f;}if(_b== -1){_b=_f;}if(_a>_b){var _g=_a;_a=_b;_b=_g;}_d._begin_pos=_a;_d._end_pos=_b;this._caret_pos.begin=_a;this._caret_pos.end=_b;this._setcaret=true;if(_c._checkActiveElement()){_c.setElementSetSelect(_a,_b);}else{_c.setElementSetSelect(_a,_b);}return true;}return false;};_pEdit.getSelectedText=function(){var _a=this._edit_base_api;var _b=this._input_element;if(_a){var _c=_a._begin_pos!==undefined?_a._begin_pos:0;var _d=_a._end_pos!==undefined?_a._end_pos:0;var _e=_a._getText();if(_b&&!_b._is_focused){_c=this._old_selection[0];_d=this._old_selection[1];}if(_e&&(_c!=_d)){return _e.substring(_c,_d);}else{return "";}}return "";};_pEdit.setSelectedText=function(_a){_a=nexacro._toString(_a);var _b=this._edit_base_api;var _c=this._input_element;if(_b){if(!_c._is_focused){_c._bFireSelectEvent=false;_c.setElementSetSelect(this._old_selection[0],this._old_selection[1]);}var _d=_b.setSelectText(this._input_element,_a);if(_d&&!_c._is_focused){var _e=_b._getFocusText();var _f=_b._getFocusValue();var _g=_b._getText();var _h=_b._getValue();this._on_fire_changeEventSet(_e,_f,_g,_h);this._restoreSelect();this._cancelSelect();}_c._bFireSelectEvent=true;return _d;}return "";};_pEdit.isAboveSelected=function(){};_pEdit.updateToDataset=function(){if(!this._bind_event){return false;}var _a=this.applyto_bindSource("value",this.value);if(this._textchanging){this._dsupdate_in_textchanging=true;if(!_a){this._dsupdate_cancel=true;}else{this._dsupdate_cancel=false;}}else{this._dsupdate_in_textchanging=false;}return _a;};_pEdit._on_activate=function(){if(!this._isSelected()){this._stat_change("focus","normal");}this._activate_flag=true;};_pEdit._on_killfocus=function(_a,_b){if(!this._is_alive){return;}var _c=this._edit_base_api;var _d=this._input_element;if(_c&&_d){var _e=_c._getFocusText();var _f=_c._getFocusValue();var _g=_c._getText();var _h=_c._getValue();if(this._activate_flag){this._activate_flag=false;}if((nexacro.Browser=="Edge"||nexacro.Browser=="IE")&&!_d._is_focused){if(_e!=_g){this.applyto_bindSource("value",this.value);}return;}_c._is_on_killfocus=true;this._on_input_blur(_d);_c._is_on_killfocus=false;if(_e!=_g){var _i=this._getWindow();if(_i&&_i._is_active_window!=true&&!_a){_d.setElementValue(_c._value,false,true);return;}var _j=this._on_fire_changeEventSet(_e,_f,_g,_h);if(!_j){return;}}else if(_f===undefined&&_e==_g){_c._setValue(undefined);_c._setText("");_c.syncValue();_d.setElementValue(_c._value);}else{_d.setElementValue(_c._value,false,true);}this._restoreSelect();this._cancelSelect();}};_pEdit._cancelSelect=function(){var _a=this._edit_base_api;if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Gecko"){if(_a._is_selected()){if(this.visible){var _b=this._getRootForm();var _c=_b.getElement();if(_b.vscrollbar){_c._recover_vpos=_b.vscrollbar.pos;}if(_b.hscrollbar){_c._recover_hpos=_b.hscrollbar.pos;}var _d=this._input_element._input_handle;var _e=this._input_element.getRootWindowHandle();this._input_element.setElementSetSelect(_a._begin_pos,_a._begin_pos);nexacro._inputsetCaretPos(_d,_e);if(nexacro.BrowserVersion<=8){_c._recover_vpos=undefined;_c._recover_hpos=undefined;}}else{this.setCaretPos(_a._begin_pos);}}}else if(nexacro.Browser=="Runtime"){if(_a._is_selected()&&this.autoselect==true){this.setCaretPos(_a._begin_pos);}}};_pEdit._restoreSelect=function(){this._old_selection=this.getSelect();};_pEdit._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(!this._is_alive){return;}if(this.visible&&this._isEnable()&&this.enableevent){var _j=this.getCaretPos();var _k=this._getClientXY(_f,_g);this.on_fire_oneditclick(this,_j,_b,_c,_d,_e,_h,_i,_f,_g,_k[0],_k[1],this,this);}};_pEdit._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}};_pEdit._on_input_focus=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_focus(_a,_b);}};_pEdit._on_input_blur=function(_a,_b){var _c=this._edit_base_api;if(_c){_c._on_input_blur(_a,_b);}};_pEdit._on_input_keydown=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keydown(_a,_b,_c,_d,_e);}return _f;};_pEdit._on_input_keyup=function(_a,_b,_c,_d,_e){var _f=false;var _g=this._edit_base_api;if(_g){_f=_g._on_input_keyup(_a,_b,_c,_d,_e);}return _f;};_pEdit._on_input_keypress=function(_a,_b,_c,_d,_e,_f){var _g=false;var _h=this._edit_base_api;if(_h){_g=_h._on_input_keypress(_a,_b,_c,_d,_e,_f);}return _g;};_pEdit._on_input_mousedown=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mousedown(_a,_b,_c,_d);}};_pEdit._on_input_mouseup=function(_a,_b,_c,_d){var _e=this._edit_base_api;if(_e){_e._on_input_mouseup(_a,_b,_c,_d);}};_pEdit._on_input_mousemove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_mousemove(_a);}};_pEdit._on_input_touchstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchstart(_a);}};_pEdit._on_input_touchmove=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchmove(_a);}};_pEdit._on_input_touchend=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_touchend(_a);}};_pEdit._on_input_select=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_select(_a);}};_pEdit._on_input_selectionchange=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_selectionchange(_a);}};_pEdit._on_input_copy=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_copy(_a);}};_pEdit._on_input_cut=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_cut(_a);}};_pEdit._on_input_paste=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_paste(_a);}};_pEdit._on_input_compositionstart=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionstart(_a);}};_pEdit._on_input_compositionupdate=function(_a){var _b=this._edit_base_api;if(_b){_b._on_input_compositionupdate(_a);}};_pEdit._on_input_compositionend=function(_a){var _b=this._edit_base_api;if(_b&&_b._is_composition()){_b._on_input_compositionend(_a);}};_pEdit.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pEdit.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pEdit.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangeEventInfo(_a,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}};_pEdit.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(_a,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return this.oneditclick._fireEvent(this,_o);}return true;};_pEdit.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(_a,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pEdit.on_fire_ontextchange=function(_a,_b){var _c=_b;if(!_b){_c=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}else if(!(_b instanceof nexacro.TextChangeEventInfo)){_b.evt=_c=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);}if(this.ontextchange&&this.ontextchange._has_handlers){return this.ontextchange._fireCheckEvent(this,_c);}return true;};_pEdit.on_fire_onchar=function(_a,_b){var _c=_b;if(!_b){_c=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}else if(!(_b instanceof nexacro.TextChangeEventInfo)){_b.evt=_c=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);}if(this.onchar&&this.onchar._has_handlers){return this.onchar._fireCheckEvent(this,_c);}return true;};_pEdit._on_fire_textchangeEventSet=function(_a){var _b=_a.chartext;var _c=_a.chartext;var _d=false;var _e=_a.bInsert;var _f=_a.bCut;var _g=true;var _h=true;var _i=true;var _j=false;var _k=false;var _l=true;var _m="";var _n="";var _o=this._edit_base_api;var _p=new nexacro.TextChangeEventInfo(this,"ontextchange",_a.chartext,_a.pretext,_a.posttext,_a.preimetext,_a.postimetext);var _q=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);this._setcaret=false;_s=this.on_fire_ontextchange(_a,_p);if(_s){if(_b!=_p.chartext){_j=true;_c=_p.chartext;}if(this._setcaret){_o.restoreBuffer(_o._old_text,_o._old_begin_pos,_o._old_end_pos);_o.syncValue();this.setSelect(this._caret_pos.org_begin,this._caret_pos.org_end);_o.clearBuffer(_o._text,_o._begin_pos,_o._end_pos);_m=_o._text.substr(0,_o._begin_pos);_n=_o._text.substr(_o._end_pos,_o._text.length-_o._end_pos);_a.posttext=_m+_c+_n;this._setcaret=false;_k=true;}if(!_o._is_composition()){_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_s){_s=this.on_fire_onchar(_a,_q);if(!_s){_i=false;}if(_b!=_q.chartext){_c=_q.chartext;}}else{_i=false;_h=false;}}else{_l=false;}if(_b!=_c){var _r=_o.applyInputmode(_c);_r=_o._apply_inputfilter(_c);_r=_o._apply_inputtype(_c);if(_c.length>0&&_r.length==0){_d=true;}if(!_d){_e=_o._check_maxlength_from_text_event(_r);if(!_e){_r="";}else{_r=_o._apply_maxlength_from_text_event(_r);if(_r!=_c.chartext){_f=true;}}}_a.chartext=_r;_m=_a.pretext.substr(0,_o._begin_pos);_n=_a.pretext.substr(_o._end_pos,_a.pretext.length-_o._end_pos);_a.posttext=_m+_r+_n;if(_j&&_i&&_h){_s=this.on_fire_cancharchange(this,_a.chartext,_a.prechareventtext,_a.posttext);if(_s){evt=new nexacro.TextChangeEventInfo(this,"onchar",_a.chartext,_a.prechareventtext,_a.posttext);_s=this.on_fire_onchar(_a);if(!_s){_i=false;}}else{_i=false;_h=false;}}}}else{_g=false;}var _s={bTextchangeRet:_g,bCancahrchangeRet:_h,bOncharRet:_i,fireCancharEvent:_l,bChangeInputValue:_k,bInsert:_e,bCut:_f};return _s;};_pEdit._on_fire_changeEventSet=function(_a,_b,_c,_d){var _e=this._edit_base_api;var _f=this._input_element;var _g=this.value;this._textchanging=true;var _h=this.on_fire_canchange(this,_a,_b,_c,_d);if(!_h){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_f.setElementValue(_e._value,false,true);var _i=this.applyto_bindSource("value",this.value);var _j=this.value;if(this._dsupdate_cancel||(!this._dsupdate_in_textchanging&&!_i&&_g==_j)){_e._setText(_a);_e._setValue(_b);_e.syncValue();_e._setFocusValue();_f.setElementValue(_e._value);this._init_bind_flag();return false;}_e._setFocusValue();this._init_bind_flag();this.on_fire_onchanged(this,_a,_b,this.text,this.value);_e._setFocusValue();return true;};_pEdit._init=function(){var _a=this._edit_base_api;if(_a){_a._init();}this.set_value(undefined);};_pEdit._init_bind_flag=function(){this._textchanging=false;this._dsupdate_in_textchanging=false;this._dsupdate_cancel=false;};_pEdit._getDragData=function(){return this.getSelectedText();};_pEdit._setValue=function(_a){if(nexacro._isNull(_a)){this.text="";}else{this.text=nexacro._toString(_a);}this.value=_a;this.on_apply_value();};_pEdit._accept_keydown_event=function(_a){return true;};_pEdit._recreateInputElement=function(){var _a=this._input_element;if(_a){_a._destroyInputHandle();_a._input_handle=_a._createInputHandle();_a._bindEvent(_a);}};_pEdit._accept_keydown_event=function(_a){return true;};_pEdit._set_editbase_focusstat=function(_a){var _b=this._edit_base_api;if(_b){switch(_a){case "focus":_b._stat_focus.setStatus(nexacro.EditBase.Status.Focus);break;case "blur":_b._stat_focus.setStatus(nexacro.EditBase.Status.Blur);break;default:_b._stat_focus.setStatus(_a);break;};}};delete _pEdit;_pEdit=null;nexacro.EditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Edit.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pEditCtrl=nexacro._createPrototype(nexacro.Edit,nexacro.EditCtrl);nexacro.EditCtrl.prototype=_pEditCtrl;_pEditCtrl._type_name="EditControl";nexacro._setForControlStyleFinder(_pEditCtrl);delete _pEditCtrl;_pEditCtrl=null;};