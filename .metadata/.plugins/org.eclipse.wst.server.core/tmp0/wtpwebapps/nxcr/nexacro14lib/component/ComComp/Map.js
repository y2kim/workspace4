if(nexacro.Device&&nexacro.OS=="Android"){if(!nexacro.Map){nexacro.MapEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.centerlocation=_c;this.coordinates=_d;this.viewmode=_e;this.zoomlevel=_f;this.addresses=_g;};var _pMapEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapEventInfo);nexacro.MapEventInfo.prototype=_pMapEventInfo;_pMapEventInfo._type_name="MapEventInfo";delete _pMapEventInfo;nexacro.MapClickEventInfo=function(_a,_b,_c){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.location=_c;};var _pMapClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapClickEventInfo);nexacro.MapClickEventInfo.prototype=_pMapClickEventInfo;_pMapClickEventInfo._type_name="MapClickEventInfo";delete _pMapClickEventInfo;nexacro.MapDragEventInfo=function(_a,_b,_c){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.location=_c;};var _pMapDragEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapDragEventInfo);nexacro.MapDragEventInfo.prototype=_pMapDragEventInfo;_pMapDragEventInfo._type_name="MapDragEventInfo";delete _pMapDragEventInfo;nexacro.MapErrorEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.errortype="ObjectError";this.statuscode=_c;this.errormsg=_d;};var _pMapErrorEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapErrorEventInfo);nexacro.MapErrorEventInfo.prototype=_pMapErrorEventInfo;_pMapErrorEventInfo._type_name="MapErrorEventInfo";delete _pMapErrorEventInfo;nexacro.Map=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._ifrm_elem=null;this.window=null;this.document=null;this.centerlocation={latitude:0,longitude:0};this.location={latitude:0,longitude:0};this.showmode=0;this.zoomlevel=15;this.showzoom=true;this.showmode=false;this.shownavigator=false;this.viewmode=0;this.items=new Array();this.itemsname=new Array();this._itemsname=new Array();this._items=new Array();this._infowindowname=new Array();this._infowindow=new Array();this.bSensor=false;this.bLoaded=false;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onload":1,"onerror":1,"onrecvsuccess":1,"oncenterchanged":1,"onmapdragstart":1,"onmapdrag":1,"onmapdragend":1};this._location={latitude:0,longitude:0};this._pixel={x:0,y:0};};var _pMap=nexacro._createPrototype(nexacro.Component,nexacro.Map);nexacro.Map.prototype=_pMap;_pMap._type="nexacroMap";_pMap._type_name="Map";_pMap.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;this._ifrm_elem=new nexacro.GoogleMapPluginElement(_a);this._ifrm_elem.setElementSize(this._client_width,this._client_height);}};_pMap.on_created_contents=function(){var _a=this._ifrm_elem;if(_a){_a.create();_a.initEvent();this.document=_a._document;this.window=_a._winodw;}};_pMap.on_destroy_contents=function(){var _a=this._ifrm_elem;if(_a){this.window=null;this.document=null;_a.destroy();this._ifrm_elem=null;}this.items=null;this.itemsname=null;this._itemsname=null;this._items=null;this._infowindowname=null;this._infowindow=null;};_pMap.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);var _c=this._ifrm_elem;if(_c){_c.on_update_position();}};_pMap.on_change_containerRect=function(_a,_b){var _c=this._ifrm_elem;if(_c){_c.setElementSize(_a,_b);}};_pMap.on_fire_onload=function(_a,_b,_c,_d,_e,_f,_g){if(this.onload&&this.onload._has_handlers){var _h=new nexacro.MapEventInfo(_a,_b,_c,_d,_e,_f,_g);return this.onload._fireEvent(this,_h);}return true;};_pMap.on_fire_onerror=function(_a,_b,_c,_d){if(this.onerror&&this.onerror._has_handlers){var _e=new nexacro.MapErrorEventInfo(_a,_b,_c,_d);return this.onerror._fireEvent(this,_e);}return true;};_pMap.on_fire_onrecvsuccess=function(_a,_b,_c,_d,_e,_f,_g){if(this.onrecvsuccess&&this.onrecvsuccess._has_handlers){var _h=new nexacro.MapEventInfo(_a,_b,_c,_d,_e,_f,_g);return this.onrecvsuccess._fireEvent(this,_h);}return true;};_pMap.on_fire_oncenterchanged=function(){if(this.oncenterchanged&&this.oncenterchanged._has_handlers){var _a=new nexacro.MapEventInfo(obj,id,centerlocation,coordinates,viewmode,zoomlevel,addresses);return this.oncenterchanged._fireEvent(this,_a);}return true;};_pMap.on_fire_onclick=function(_a,_b,_c){if(this.onclick&&this.onclick._has_handlers){var _d=new nexacro.MapClickEventInfo(_a,_b,_c);return this.onclick._fireEvent(this,_d);}return true;};_pMap.on_fire_ondrag=function(_a,_b,_c){if(this.ondrag&&this.ondrag._has_handlers){var _d=new nexacro.MapDragEventInfo(_a,_b,_c);return this.ondrag._fireEvent(this,_d);}return true;};_pMap.on_fire_onmapdragstart=function(_a,_b,_c){if(this.onmapdragstart&&this.onmapdragstart._has_handlers){var _d=new nexacro.MapDragEventInfo(_a,_b,_c);return this.onmapdragstart._fireEvent(this,_d);}return true;};_pMap.on_fire_onmapdrag=function(_a,_b,_c){if(this.onmapdrag&&this.onmapdrag._has_handlers){var _d=new nexacro.MapDragEventInfo(_a,_b,_c);return this.onmapdrag._fireEvent(this,_d);}return true;};_pMap.on_fire_onmapdragend=function(_a,_b,_c){if(this.onmapdragend&&this.onmapdragend._has_handlers){var _d=new nexacro.MapDragEventInfo(_a,_b,_c);return this.onmapdragend._fireEvent(this,_d);}return true;};_pMap.on_apply_custom_setfocus=function(_a){var _b=this._ifrm_elem;if(_b){_b.setElementFocus(true);}};_pMap.set_text=function(_a){_a=nexacro._toString(_a);if(_a&&_a!=this.text){this.text=_a;this._display_text=_a.replace(/ /g,"\u00a0");}};_pMap.set_viewmode=function(_a){if(_a==null){return false;}if(_a!=null){this.viewmode=_a;var _b=this._ifrm_elem;if(_b){var _c='{"value":"'+this.viewmode+'"}';_b.setElementParam("viewmode",_c);}}else{return false;}};_pMap.set_zoomlevel=function(_a){_a=parseInt(_a,10)|0;this.zoomlevel=_a;var _b=this._ifrm_elem;if(_b){var _c='{"value":"'+this.zoomlevel+'"}';_b.setElementParam("zoomlevel",_c);}};_pMap.set_showzoom=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.showzoom=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.showzoom=false;}else{return false;}this.showzoom=_a;var _b=this._ifrm_elem;if(_b){var _c='{"value":"'+this.showzoom+'"}';_b.setElementParam("showzoom",_c);}return true;}};_pMap.set_shownavigator=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.shownavigator=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.shownavigator=false;}else{return false;}var _b=this._ifrm_elem;if(_b){var _c='{"value":"'+this.shownavigator+'"}';_b.setElementParam("shownavigator",_c);}return true;}};_pMap.set_showmapscale=function(){};_pMap.set_showmode=function(){};_pMap.set_showcompass=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.showcompass=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.showcompass=false;}else{return false;}if(this.bLoaded){var _b=this._ifrm_elem;if(_b){var _c='{"value":"'+this.showcompass+'"}';_b.setElementParam("showcompass",_c);}}return true;}};_pMap.set_enable=function(_a){_a=nexacro._toBoolean(_a);if(this.enable!=_a){var _b=this._control_element;this.enable=_a;if(this._is_created){var _c=(this.parent._real_enable&&_a);if(this._ifrm_elem){this._ifrm_elem.setElementEnable(_c);}}}};_pMap.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._ifrm_elem;if(_b){if(_b.setElementPluginVisible!=null){_b.setElementPluginVisible(_a);}}};_pMap.load=function(_a,_b,_c,_d,_e){if(_e!=null){var _f=0;try{_f=_e.toString().split(" ").join("");}catch(e){return false;}if(_e.length==0){return false;}var _g=0;try{_g=Number(_e.toString());}catch(e){return false;}if(_g>=0){this.zoomlevel=_g;}else{return false;}}if((_b!=null)&&(_c!=null)){var _f=0;try{_f=_b.toString().split(" ").join("");}catch(e){return false;}if(_f.length==0){return false;}try{_f=_c.toString().split(" ").join("");}catch(e){return false;}if(_f.length==0){return false;}var _h=0;var _i=0;try{_h=Number(_b.toString());}catch(e){return false;}if(( +_h)!=( +_h)){return false;}try{_i=Number(_c.toString());}catch(e){return false;}if(( +_i)!=( +_i)){return false;}this.centerlocation.latitude=_h;this.centerlocation.longitude=_i;_pMap.centerlocation={latitude:_h,longitude:_i};}if(_d!=null){if(_d==0||(typeof (_d)=="string"&&_d=="0")){this.viewmode=0;}else if(_d==1||(typeof (_d)=="string"&&_d=="1")){this.viewmode=1;}else if(_d==2||(typeof (_d)=="string"&&_d=="2")){this.viewmode=2;}else if(_d==3||(typeof (_d)=="string"&&_d=="3")){this.viewmode=3;}else{return false;}}else{this.viewmode=0;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.bSensor=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.bSensor=false;}else{return false;}}else if(_a==null){this.bSensor=false;}else{}var _j='{"bUseSensor":"'+this.bSensor+'","nLatitude":"'+this.centerlocation.latitude+'","nLongitude":"'+this.centerlocation.longitude+'","constViewMode":"'+this.viewmode+'","nZoomLevel":"'+this.zoomlevel+'"}';var _k=this._ifrm_elem;if(_k){_k._setLoad(_j);}this.bLoaded=true;return true;};_pMap.setMarkerLoc=function(_a,_b,_c){this.items[_a].location.latitude=_b;this.items[_a].location.longitude=_c;};_pMap.getAddress=function(_a,_b,_c,_d){if(_a==undefined||_a==null){return false;}if(_b==undefined||_b==null){return false;}if(_c<0){return false;}if(_c==undefined||_c==null){_c=1;}var _e='{"nLatitude":"'+_a+'","nLongitude":"'+_b+'","nMaxResultCount":"'+_c+'","strLocale":"'+_d+'"}';var _f=this._ifrm_elem;if(_f){_f._getAddress(_e);}return true;};_pMap.getCoordinates=function(_a){if(_a==undefined||_a==null||_a==""){return false;}var _b=this._ifrm_elem;if(_b){_b._getCoordinates(_a);}return true;};var _itemsname=new Array();var _items=new Array();var _infowindowname=new Array();var _infowindow=new Array();_pMap.addItem=function(_a,_b){var _c=this._ifrm_elem;if(_a==null||_b==null){return false;}if(_a==""||typeof (_a)=="undefined"||_b==""||_b=="undefined"||_a.trim()==""){return false;}if(typeof (this.items[_a])!="undefined"){this.on_fire_onerror(this,"onerror","1501","item is already exist.");return false;}if(_b instanceof nexacro.MapMarker||_b instanceof nexacro.MapPolyline||_b instanceof nexacro.MapPolygon){this.items[_a]=_b;this.items.push(_a);if(this.bLoaded){if(_b._type==0||_b._type==1){_pMap.addMarker(_c,_a,_b);}else if(_b._type==2){_pMap.addPolyline(_c,_a,_b);}else if(_b._type==3){_pMap.addPolygon(_c,_a,_b);}}return true;}else{return false;}};_pMap.addMarker=function(_a,_b,_c){_itemsname.push(_b);_items[_b]="marker";_c._map=this;_c._name=_b;var _d='{"itemName":"'+_b+'","nLatitude":"'+_c.location.latitude+'","nLongitude":"'+_c.location.longitude+'","text":"'+_c.text+'","visible":"'+_c.visible+'","image":"'+_c.style.image+'","draggable":"'+_c.draggable+'"}';if(_a){_a._setMarker(_d);}};_pMap.addPolygon=function(_a,_b,_c){var _d,_e,_f;var _g=new Array();var _h=new Array();_d=_c.locationdata.toString().split("]");for(i=0;i<(_d.length-1);i++ ){_e=_d[i].toString().split(",")[0].split(" ").join().substring(1);_f=_d[i].toString().split(",")[1].split(" ").join().substring(1);if(_e.length>0&&_f.length>0){_g.push(_e);_h.push(_f);}}_itemsname.push(_b);_items[_b]="polygon";_c._map=this;_c._name=_b;var _i='{"itemName":"'+_b+'","nLatitude":'+JSON.stringify(_g)+',"nLongitude":'+JSON.stringify(_h)+',"visible":"'+_c.visible+'","strokepen_color":"'+_c.style.strokepen.color+'","strokepen_width":"'+_c.style.strokepen.width+'","fillbrush_color":"'+_c.style.fillbrush.color+'"}';if(_a){_a._setPolygon(_i);}};_pMap.addPolyline=function(_a,_b,_c){var _d,_e,_f;var _g=new Array();var _h=new Array();_d=_c.locationdata.toString().split("]");for(i=0;i<(_d.length-1);i++ ){_e=_d[i].toString().split(",")[0].split(" ").join().substring(1);_f=_d[i].toString().split(",")[1].split(" ").join().substring(1);if(_e.length>0&&_f.length>0){_g.push(_e);_h.push(_f);}}_itemsname.push(_b);_items[_b]="polyline";_c._map=this;_c._name=_b;var _i='{"itemName":"'+_b+'","nLatitude":'+JSON.stringify(_g)+',"nLongitude":'+JSON.stringify(_h)+',"visible":"'+_c.visible+'","strokepen_color":"'+_c.style.strokepen.color+'","strokepen_width":"'+_c.style.strokepen.width+'"}';if(_a){_a._setPolyline(_i);}};_pMap.removeItem=function(_a){var _b=this._ifrm_elem;if(_a==null){return false;}if(_a==""||typeof (_a)=="undefined"){return false;}if(typeof (this.items[_a])=="undefined"){this.on_fire_onerror(this,"onerror","1502","item is not exist.");return false;}else{delete this.items[_a];for(var _d=0;_d<this.items.length;_d++ ){if(this.items[_d]==_a){var _c=this.items.indexOf(this.items[_d]);this.items.splice(_c,_d+1);}}if(this.bLoaded){_pMap._removeItem(_b,_a);}return true;}};_pMap._removeItem=function(_a,_b){var _c='{"item":"'+_items[_b]+'","itemname":"'+_b+'"}';if(_a){_a._setRemove(_c);}delete _items[_b];for(i=0;i<_itemsname.length;i++ ){if(_itemsname[i]==_b){_itemsname.splice(i+1,i+1);}}return true;};_pMap.on_load_handler=function(_a,_b,_c,_d,_e,_f){this.on_fire_onload(this,_a,_b,_c,_d,_e,_f);};_pMap.on_error_handler=function(_a,_b,_c){this.on_fire_onerror(this,_a,_b,_c);};_pMap.on_recvsuccess_handler=function(_a,_b,_c,_d,_e,_f){this.on_fire_onrecvsuccess(this,_a,_b,_c,_d,_e,_f);};_pMap.on_centerchanged_handler=function(_a,_b,_c,_d,_e){this.on_fire_oncenterchanged(this,_a,_b,_c,_d,_e);};_pMap.on_click_handler=function(_a,_b){this.on_fire_onclick(this,_a,_b);};_pMap.on_drag_handler=function(_a,_b){this.on_fire_ondrag(this,_a,_b);};_pMap.on_mapdragstart_handler=function(_a,_b){this.on_fire_onmapdragstart(this,_a,_b);};_pMap.on_mapdrag_handler=function(_a,_b){this.on_fire_onmapdrag(this,_a,_b);};_pMap.on_mapdragend_handler=function(_a,_b){this.on_fire_onmapdragend(this,_a,_b);};_pMap.callMethod=function(_a){if(this._ifrm_elem){this._ifrm_elem.callScriptMethod(_a);}};delete _pMap;}if(!nexacro.MapMarker){nexacro.MapMarker=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._type=0;this.location={_MapMarkerID:"",set_parentID:function(_c){this["_MapMarkerID"]=_c;},latitude:0,longitude:0,set_latitude:function(_c){var _d=0;try{_d=_c.toString().split(" ").join("");}catch(e){return false;}if(_d.length==0){return false;}var _e=0;try{_e=Number(_c.toString());}catch(e){return false;}if(( +_e)!=( +_e)){return false;}this.latitude=_e;return true;},set_longitude:function(_c){var _d=0;try{_d=_c.toString().split(" ").join("");}catch(e){return false;}if(_d.length==0){return false;}var _e=0;try{_e=Number(_c.toString());}catch(e){return false;}if(( +_e)!=( +_e)){return false;}this.longitude=_e;return true;},$s:function(_a,_c,_d){this[_a]=_d;}};this.text="";this.visible=true;this.draggable=false;this.style={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},align:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},halign:"center",valign:"middle",set_halign:function(_c){var _d=_c.toString().split(" ").join("").toLowerCase();if(_d=="left"||_d=="center"||_d=="right"){this.halign=_d;return true;}else{return false;}},set_valign:function(_c){var _d=_c.toString().split(" ").join("").toLowerCase();if(_d=="top"||_d=="middle"||_d=="bottom"){this.valign=_d;return true;}else{return false;}},$s:function(_a,_c,_d){this[_a]=_d;}},image:"",set_align:function(_c){var _d=_c.split(" ");var _e=true;if(_d.length!=2){return false;}_e=this.align.set_halign(_d[0]);if(!_e){return _e;}_e=this.align.set_valign(_d[1]);return _e;},set_image:function(_c){this._type=1;this.image=_c;return true;},$s:function(_a,_c,_d){this[_a]=_d;}};this._name=null;this.location.set_parentID(this._id);};var _pMapMarker=nexacro.MapMarker.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapMarker);_pMapMarker._type_name="MapMarker";_pMapMarker.set_location=function(_a){if(_a!=null){var _b=_a.split(",");if(_b.length!=2){return false;}var _c=_b[0];var _d=_b[1];var _e=0;try{_e=_c.toString().split(" ").join("");}catch(e){return false;}if(_e.length==0){return false;}try{_e=_d.toString().split(" ").join("");}catch(e){return false;}if(_e.length==0){return false;}var _f=0;var _g=0;try{_f=Number(_c.toString());}catch(e){return false;}if(( +_f)!=( +_f)){return false;}try{_g=Number(_d.toString());}catch(e){return false;}if(( +_g)!=( +_g)){return false;}this.location.latitude=_f;this.location.longitude=_g;}else{return false;}return true;};_pMapMarker.set_text=function(_a){this.text=_a;return true;};_pMapMarker.set_draggable=function(_a){if(_a==null){return false;}else if(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.draggable=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.draggable=false;}}else{return false;}};_pMapMarker.set_visible=function(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.visible=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.visible=false;}else{return false;}return true;};_pMapMarker.set_style=function(_a){var _b=_a.split(";");var _c=0;var _d;var _e=true;for(_c=0;_c<_b.length;_c++ ){_d=_b[_c].split(":");if(_d.length!=2){return false;}switch(_d[0].split(" ").join("").toLowerCase()){case "align":_e=this.style.set_align(_d[1]);break;case "image":_e=this.style.set_image(_d[1]);break;default:_e=false;break;}if(!_e){return _e;}}return _e;};delete _pMapMarker;}if(!nexacro.MapPolyline){nexacro.MapPolyline=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._type=2;this.locationdata="";this.visible=true;this.style={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},strokepen:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},width:"",color:"",set_width:function(_c){var _d=0;try{_d=Number(_c.toString());}catch(e){return false;}if(( +_d)!=( +_d)){return false;}this.width=_d;return true;},set_color:function(_c){if(typeof (nexacro._xreNamedColorList[_c])!="undefined"){this.color=nexacro._xreNamedColorList[_c]+"FF";}else{this.color=_c;}this.color=_c;return true;},$s:function(_a,_c,_d){this[_a]=_d;}},set_strokepen:function(_c){var _d=_c.split(" ");var _e=true;if(_d.length!=2){_e=false;}else{_e=this.strokepen.set_width(_d[0]);if(!_e){return _e;}_e=this.strokepen.set_color(_d[1]);}return _e;},$s:function(_a,_c,_d){this[_a]=_d;}};this._name=null;this.style.set_parentID(this._id);this.style.strokepen.set_parentID(this._id);};var _pMapPolyline=nexacro.MapPolyline.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapPolyline);_pMapPolyline._type_name="MapPolyline";_pMapPolyline.set_locationdata=function(_a){var _b;_b=_a.toString().split("]");if(!(_b.length>=2)){return false;}this.locationdata=_a;return true;};_pMapPolyline.set_visible=function(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.visible=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.visible=false;}else{return false;}return true;};_pMapPolyline.set_style=function(_a){var _b=_a.split(";");var _c=0;var _d;var _e=true;for(_c=0;_c<_b.length;_c++ ){_d=_b[_c].split(":");if(_d.length!=2){return false;}switch(_d[0].split(" ").join("").toLowerCase()){case "strokepen":_e=this.style.set_strokepen(_d[1]);break;default:_e=false;break;}if(!_e){return _e;}}return _e;};delete _pMapPolyline;}if(!nexacro.MapPolygon){nexacro.MapPolygon=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._type=3;this.locationdata="";this.visible=true;this.style={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},strokepen:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},width:"",color:"",set_width:function(_c){var _d=0;try{_d=Number(_c.toString());}catch(e){return false;}if(( +_d)!=( +_d)){return false;}this.width=_d;return true;},set_color:function(_c){if(typeof (nexacro._xreNamedColorList[_c])!="undefined"){this.color=nexacro._xreNamedColorList[_c]+"FF";}else{this.color=_c;}this.color=_c;return true;},$s:function(_a,_c,_d){this[_a]=_d;}},set_strokepen:function(_c){var _d=_c.split(" ");var _e=true;if(_d.length!=2){_e=false;}else{_e=this.strokepen.set_width(_d[0]);if(!_e){return _e;}_e=this.strokepen.set_color(_d[1]);}return _e;},fillbrush:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},color:"",set_color:function(_c){if(typeof (nexacro._xreNamedColorList[_c])!="undefined"){this.color=nexacro._xreNamedColorList[_c]+"FF";}else{this.color=_c;}this.color=_c;return true;},$s:function(_a,_c,_d){this[_a]=_d;}},set_fillbrush:function(_c){return this.fillbrush.set_color(_c);},$s:function(_a,_c,_d){this[_a]=_d;}};this._name=null;this.style.set_parentID(this._id);this.style.strokepen.set_parentID(this._id);this.style.fillbrush.set_parentID(this._id);};var _pMapPolygon=nexacro.MapPolygon.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapPolygon);_pMapPolygon._type_name="MapPolygon";_pMapPolygon.set_locationdata=function(_a){var _b;_b=_a.toString().split("]");if(!(_b.length>=2)){return false;}this.locationdata=_a;return true;};_pMapPolygon.set_visible=function(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.visible=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.visible=false;}else{return false;}return true;};_pMapPolygon.set_style=function(_a){var _b=_a.split(";");var _c=0;var _d;var _e=true;for(_c=0;_c<_b.length;_c++ ){_d=_b[_c].split(":");if(_d.length!=2){return false;}switch(_d[0].split(" ").join("").toLowerCase()){case "strokepen":_e=this.style.set_strokepen(_d[1]);break;case "fillbrush":_e=this.style.set_fillbrush(_d[1]);break;default:_e=false;break;}if(!_e){return _e;}}return _e;};delete _pMapPolygon;}}else if(nexacro.Device||nexacro.Browser!="Runtime"&&!(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8)){if(!nexacro.Map){nexacro.MapEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.centerlocation=_c;this.viewmode=_d;this.zoomlevel=_e;this.addresses=_f;this.coordinates=_g;};var _pMapEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapEventInfo);nexacro.MapEventInfo.prototype=_pMapEventInfo;_pMapEventInfo._type_name="MapEventInfo";delete _pMapEventInfo;nexacro.MapErrorEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.errortype="ObjectError";this.statuscode=_c;this.errormsg=_d;};var _pMapErrorEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapErrorEventInfo);nexacro.MapErrorEventInfo.prototype=_pMapErrorEventInfo;_pMapErrorEventInfo._type_name="MapErrorEventInfo";delete _pMapErrorEventInfo;nexacro.MapClickEventInfo=function(_a,_b,_c){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.location=_c;};nexacro.MapDragEventInfo=function(_a,_b,_c){this.id=this.eventid=_b;this.fromobject=this.fromreferenceobject=_a;this.location=_c;};var _pMapDragEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.MapDragEventInfo);nexacro.MapDragEventInfo.prototype=_pMapDragEventInfo;_pMapDragEventInfo._type_name="MapDragEventInfo";delete _pMapDragEventInfo;nexacro.Map_Style=function(_a,_b){nexacro.Style.call(this,_a,_b);if(_a){this._target=_a;}this.zoomalign={halign:"",valign:""};this.zoomalign.halign="left";this.zoomalign.valign="top";};var _pMapStyle=nexacro._createPrototype(nexacro.Style,nexacro.Map_Style);nexacro.Map_Style.prototype=_pMapStyle;_pMapStyle._type_name="MapStyle";eval(nexacro._createAlignAttributeEvalStr("_pMapStyle","modealign"));eval(nexacro._createAlignAttributeEvalStr("_pMapStyle","zoomalign"));eval(nexacro._createAlignAttributeEvalStr("_pMapStyle","navigatoralign"));eval(nexacro._createAlignAttributeEvalStr("_pMapStyle","mapscalealign"));_pMapStyle.set_zoomalign.valign=function(_a){_pMap.set_zoomalign("valign",_a);};_pMapStyle.findCurrentZoomalign=function(_a){};_pMapStyle.__custom_emptyObject=function(){this.modealign=null;this.navigatoralign=null;this.mapscalealign=null;};_pMapStyle.__get_custom_style_value=function(){var _a="";if(this.modealign._value.length){_a+="modealign:"+this.buttonalign._value+"; ";}if(this.zoomalign._value.length){_a+="zoomalign:"+this.buttonalign._value+"; ";}if(this.navigatoralign._value.length){_a+="navigatoralign:"+this.buttonalign._value+"; ";}if(this.mapscalealign._value.length){_a+="mapscalealign:"+this.buttonalign._value+"; ";}return _a;};nexacro.Map_CurrentStyle=function(){this.modealign=null;this.zoomalign=null;this.zoomalign={align:"test1",valign:"to44p"};this.navigatoralign=null;this.mapscalealign=null;};var _pMapCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Map_CurrentStyle);nexacro.Map_CurrentStyle.prototype=_pMapCurrentStyle;_pMapCurrentStyle.__custom_emptyObject=_pMapStyle.__custom_emptyObject;_pMapCurrentStyle.__get_custom_style_value=_pMapStyle.__get_custom_style_value;delete _pMapStyle;delete _pMapCurrentStyle;nexacro.googlemaps_loaded=false;nexacro.googlemaps_callback=function(){nexacro.googlemaps_loaded=true;};nexacro.load_googlemaps=function(){if(nexacro.googlemaps_loaded){return;}var _a=document.createElement("script");_a.type="text/javascript";_a.src="http://maps.googleapis.com/maps/api/js?v=3.9&sensor=true&callback=nexacro.googlemaps_callback";document.body.appendChild(_a);};nexacro.Map=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this.centerlocation={latitude:0,longitude:0};this.location={latitude:0,longitude:0};this.coordinates={latitude:0,longitude:0};this._map_elem=null;this._google_map=null;this.maptype=0;this.viewmode=0;this.zoomlevel=15;this.zoomalign_halign="left";this.zoomalign_valign="top";this.showmode=false;this.showzoom=false;this.shownavigator=false;this.showmapscale=false;this.enableevent=true;this.items=new Array();this.itemsname=new Array();this._itemsname=new Array();this._items=new Array();this._infowindowname=new Array();this._infowindow=new Array();this.bSensor=false;this.bLoaded=false;this.enable=true;this.draggable=false;this.googleloaded=null;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondragstart":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondragend":1,"ondrop":1,"onlbuttondown":1,"onlbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"onrbuttondown":1,"onrbuttonup":1,"onload":1,"onrecvsuccess":1,"onoverlayclick":1,"oncenterchanged":1,"onviewmodechanged":1,"onzoomchanged":1,"onmapdragstart":1,"onmapdrag":1,"onmapdragend":1,"onerror":1};nexacro.load_googlemaps();};var _pMap=nexacro._createPrototype(nexacro.Component,nexacro.Map);nexacro.Map.prototype=_pMap;_pMap._type_name="Map";_pMap.centerlocation={latitude:0,longitude:0};nexacro.Map._default_text_align=nexacro.Component._default_align;nexacro.Map._default_image_align=nexacro.Component._default_buttonimg_align;_pMap.on_apply_custom_pseudo=function(_a){};_pMap.set_draggable=function(_a){if(_a==null){return false;}else if(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.draggable=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.draggable=false;}}else{return false;}};_pMap.set_zoomalign=function(_a,_b){if(_a=="halign"){this.zoomalign_halign=_b;}else if(_a=="valign"){this.zoomalign_valign=_b;}else{return false;}var _c=google.maps.ControlPosition.LEFT_TOP;_c=this._getalign(this.zoomalign_halign,this.zoomalign_valign);this.zoomalign=_c;this._google_map_option_test={zoomControlOptions:{position:this.zoomalign,style:google.maps.ZoomControlStyle.DEFAULT}};return true;};_pMap._getalign=function(_a,_b){if(_a=="left"){if(_b=="top"){return google.maps.ControlPosition.TOP_LEFT;}else if(_b=="middle"){return google.maps.ControlPosition.LEFT;}else if(_b=="bottom"){return google.maps.ControlPosition.LEFT_BOTTOM;}}else if(_a=="center"){if(_b=="top"){return google.maps.ControlPosition.TOP;}else if(_b=="bottom"){return google.maps.ControlPosition.BOTTOM;}}else if(_a=="right"){if(_b=="top"){return google.maps.ControlPosition.TOP_LEFT;}else if(_b=="middle"){return google.maps.ControlPosition.RIGHT;}else if(_b=="bottom"){return google.maps.ControlPosition.RIGHT_BOTTOM;}}};var _itemsname=new Array();var _items=new Array();var _infowindowname=new Array();var _infowindow=new Array();_pMap.set_viewmode=function(_a){if(_a==null){return false;}if(_a!=null){this.viewmode=_a;if(this.bLoaded){this._google_map_option={mapTypeId:this._getMapType(this.viewmode)};this._google_map.setOptions(this._google_map_option);}return true;}else{return false;}};_pMap.set_showmode=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.showmode=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.showmode=false;}else{return false;}if(this.bLoaded){var _b=new google.maps.LatLng(37.5640,126.9751);this._google_map_option_test={mapTypeControl:this.showmode,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DEFAULT,position:this.modealign}};this._google_map.setOptions(this._google_map_option_test);}return true;}};_pMap.set_showmapscale=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.showmapscale=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.showmapscale=false;}else{return false;}if(this.bLoaded){this._google_map_option_test={mapTypeControl:this.showmapscale};this._google_map.setOptions(this._google_map_option_test);}return true;}};_pMap.set_showmapscale=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.showmapscale=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.showmapscale=false;}else{return false;}if(this.bLoaded){this._google_map_option_test={scaleControl:this.showmapscale};this._google_map.setOptions(this._google_map_option_test);}return true;}};_pMap.set_shownavigator=function(_a){if(_a==null){return false;}if(_a!=null){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.shownavigator=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.shownavigator=false;}else{return false;}if(this.bLoaded){var _b=new google.maps.LatLng(37.5640,126.9751);this._google_map_option_test={panControl:this.shownavigator};this._google_map.setOptions(this._google_map_option_test);}return true;}};_pMap._set_option=function(){var _a=this._getMapType();var _b={center:new google.maps.LatLng(this.centerlocation.latitude,this.centerlocation.longitude),mapTypeId:_a,zoom:this.zoomlevel,disableDefaultUI:true,mapTypeControl:this.showmode,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DEFAULT,position:this.modealign},scaleControl:this.showmapscale,scaleControlOptions:{position:this.mapscalealign},panControl:this.shownavigator,panControlOptions:{position:this.navigatoralign},zoomControl:this.showzoom,zoomControlOptions:{position:this.zoomalign,style:google.maps.ZoomControlStyle.SMALL}};return _b;};_pMap._getMapType=function(_a){var _b=google.maps.MapTypeId.ROADMAP;switch(_a){default:case 0:_b=google.maps.MapTypeId.ROADMAP;break;case 1:_b=google.maps.MapTypeId.SATELLITE;break;case 2:_b=google.maps.MapTypeId.HYBRID;break;case 3:_b=google.maps.MapTypeId.TERRAIN;break;}return _b;};_pMap.map_starter=function(_a){var _b=this._getMapType();this._google_map.setOptions(this.setOptions());};_pMap.set_zoomlevel=function(_a){this.zoomlevel=Number(_a.toString());};_pMap.set_enable=function(_a){if(_a==null){return false;}else if(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.enable=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.enable=false;}if(this.bLoaded){this._google_map_option={draggable:this.enable};this._google_map.setOptions(this._google_map_option);}return true;}else{return false;}};_pMap.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._map_elem;if(_b){_b.setElementVisible(_a);}};_pMap.set_showzoom=function(_a){if(_a==null){return false;}if(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.showzoom=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.showzoom=false;}else{return false;}if(this.bLoaded){var _b=new google.maps.LatLng(37.5640,126.9751);this._google_map_option_test={center:google.maps.LatLng(this.centerlocation.latitude,this.centerlocation.longitude),zoomControl:this.showzoom};this._google_map.setOptions(this._google_map_option_test);}return true;}};_pMap.on_create_custom_style=function(){return new nexacro.Map_Style(this);};_pMap.on_create_custom_currentStyle=function(){return new nexacro.Map_CurrentStyle();};_pMap.on_apply_text=function(){var _a=this._control_element;if(this._control_element){var _b=this._text_elem;if(!_b){var _b=new nexacro.TextBoxElement(_a);this._text_elem=_b;_b.setElementSize(this._client_width,this._client_height);_b.setElementColor(this.currentstyle.color);_b.setElementFont(this.currentstyle.font);_b.setElementAlign(this.currentstyle.align);if(this._is_created){_b.create();}}if(this.text!=""){_b.setElementText(this.text);this._text_width= -1;this._text_height= -1;if(this._img_elem){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}}else{_b.setElementText("");this._text_width=0;this._text_height=0;if(this._img_elem){this._updateElementPositions(this.currentstyle.align,this.currentstyle.imagealign);}}}};_pMap.on_apply_expr=function(){var _a=this.getElement();var _b=this.expr;if(_a&&_b.length>0){_b=_b.trim().split(":");var _c=_b.length;var _d=new nexacro.ExprParser();var _e,_f;var _g;if(_c==1){_g=_b[0];}else{if(_b[0].trim().toUpperCase()!="EXPR"){_g=_b.join(":");}else{_g=_b.slice(1).join(":");}}_e=_d.makeExpr(this,_g);_f=nexacro._createInlineFunc(_e,[]);if(_f){try{this.set_text(_f.call(this));}catch(e){return;}}}};_pMap.on_apply_prop_taborder=function(){var _a=this._text_elem;if(_a){if(this.tabstop){_a.setElementTabIndex(this._taborder);}else{_a.setElementTabIndex( -1);}}};_pMap.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._map_elem=new nexacro.Element(_a);_c.setElementSize(this._client_width,this._client_height);_c.setElementFont(_b.font);_c.setElementColor(_b.color);_c.setElementAlign(_b.align);}};_pMap.on_created_contents=function(){var _a=this._map_elem;if(_a){_a.create();}if(this.expr){this.on_apply_expr();}};_pMap.on_destroy_contents=function(){var _a=this._map_elem;if(_a){_a.destroy();this._map_elem=null;}};_pMap.__onTextchanged=function(_a,_b){};_pMap.load=function(_a,_b,_c,_d,_e){if(this.googlelaoded==null){clearInterval(this.googleloaded);}if(nexacro.googlemaps_loaded==false){this.googleloaded=setInterval(this.load.bind(this,_a,_b,_c,_d,_e),200);return;}this._id=nexacro.Device.makeID();var _f=nexacro.Device._userCreatedObj[this._id]=this;if(arguments.length==5){var _g=0;try{_g=_e.toString().split(" ").join("");}catch(e){return false;}if(_e.length==0){return false;}var _h=0;try{_h=Number(_e.toString());}catch(e){return false;}if(_h>=0){this.zoomlevel=_h;}else{return false;}}if(arguments.length>=4){if(_d==0||(typeof (_d)=="string"&&_d=="0")){this.viewmode=0;}else if(_d==1||(typeof (_d)=="string"&&_d=="1")){this.viewmode=1;}else if(_d==2||(typeof (_d)=="string"&&_d=="2")){this.viewmode=2;}else if(_d==3||(typeof (_d)=="string"&&_d=="3")){this.viewmode=3;}else{return false;}}if(arguments.length>=3){var _g=0;try{_g=_b.toString().split(" ").join("");}catch(e){return false;}if(_g.length==0){return false;}try{_g=_c.toString().split(" ").join("");}catch(e){return false;}if(_g.length==0){return false;}var _i=0;var _j=0;try{_i=Number(_b.toString());}catch(e){return false;}if(( +_i)!=( +_i)){return false;}try{_j=Number(_c.toString());}catch(e){return false;}if(( +_j)!=( +_j)){return false;}this.centerlocation.latitude=_i;this.centerlocation.longitude=_j;_pMap.centerlocation={latitude:_i,longitude:_j};}if(arguments.length>=1){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.bSensor=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.bSensor=false;}else{return false;}if(_d==null){this.viewmode=0;}}else if(arguments.length==0){this.bSensor=false;}else{return false;}var _k=this._map_elem;if(_k){_k.create();}if(this.bSensor){if(navigator.geolocation){browserSupportFlag=true;navigator.geolocation.getCurrentPosition(function(_o){initialLocation=new google.maps.LatLng(_o.coords.latitude,_o.coords.longitude);_n.setCenter(initialLocation);},function(){_f._apply_onerror({errorcode:"1503",errormsg:"Device provider disable"});});}else if(google.gears){var _l=google.gears.factory.create('beta.geolocation');_l.getCurrentPosition(function(_o){initialLocation=new google.maps.LatLng(_o.latitude,_o.longitude);_m=new google.maps.LatLng(_o.latitude,_o.longitude);_n.setCenter(initialLocation);},function(){_f._apply_onerror({errorcode:"1503",errormsg:"Device provider disable"});});}}else{var _m=new google.maps.LatLng(this.centerlocation.latitude,this.centerlocation.longitude);}this._google_map_option={center:_m,panControl:this.shownavigator,zoomControl:this.showzoom,mapTypeControl:this.showmode,scaleControl:this.showmapscale,zoom:this.zoomlevel,disableDefaultUI:true,draggable:this.enable,mapTypeId:_pMap._getMapType(this.viewmode)};var _n=new google.maps.Map(_k._handle,this._google_map_option);this._google_map=_n;_pMap._google_map=this._google_map;for(var _o=0;_o<this.itemsname.length;_o++ ){if(this.items[this.itemsname[_o]]._type==0||this.items[this.itemsname[_o]]._type==1){_pMap.addMarker(this.itemsname[_o],this.items[this.itemsname[_o]]);}else if(this.items[this.itemsname[_o]]._type==2){_pMap.addPolyline(this.itemsname[_o],this.items[this.itemsname[_o]]);}else if(this.items[this.itemsname[_o]]._type==3){_pMap.addPolygon(this.itemsname[_o],this.items[this.itemsname[_o]]);}}google.maps.event.addListener(_n,'click',function(_p){if(_f.onclick&&_f.onclick._has_handlers&&_f.enableevent){_f.location.latitude=_p.latLng.lat();_f.location.longitude=_p.latLng.lng();var _q=new nexacro.MapClickEventInfo(_f,"onclick",_f.location);_f.onclick._fireEvent(this,_q);}for(var _o=0;_o<_infowindowname.length;_o++ ){var _r=_infowindowname[_o];_infowindow[_r].close();}return true;});google.maps.event.addListenerOnce(_n,'tilesloaded',function(){_f.bLoaded=true;_f._apply_onload();google.maps.event.addListenerOnce(_n,'tilesloaded',function(){});});google.maps.event.addListener(_n,'dragstart',function(_p){});google.maps.event.addListener(_n,'mouseout',function(_p){});google.maps.event.addListener(_n,'dragenter',function(_p){});google.maps.event.addListener(_n,'drag',function(_p){});google.maps.event.addListener(_n,'dragend',function(_p){});google.maps.event.addListener(_n,'center_changed',function(_p){if(_f.oncenterchanged&&_f.oncenterchanged._has_handlers&&_f.enableevent){_f.centerlocation.latitude=_n.getCenter().lat();_f.centerlocation.longitude=_n.getCenter().lng();var _q=new nexacro.MapEventInfo(_f,"oncenterchanged",_f.centerlocation,_f.viewmode,_f.zoomlevel,_f.addresses,_f.coordinates);_f.oncenterchanged._fireEvent(this,_q);}return true;});google.maps.event.addListener(_n,'maptypeid_changed',function(_p){if(_f.onviewmodechanged&&_f.onviewmodechanged._has_handlers&&_f.enableevent){var _q=new nexacro.MapEventInfo(_f,"onviewmodechanged",_f.centerlocation,_f.viewmode,_f.zoomlevel,_f.addresses,_f.coordinates);_f.onviewmodechanged._fireEvent(this,_q);}return true;});google.maps.event.addListener(_n,'zoom_changed',function(_p){if(_f.onzoomchanged&&_f.onzoomchanged._has_handlers&&_f.enableevent){_f.zoomlevel=_n.getZoom();var _q=new nexacro.MapEventInfo(_f,"onzoomchanged",_f.centerlocation,_f.viewmode,_f.zoomlevel,_f.addresses,_f.coordinates);_f.onzoomchanged._fireEvent(this,_q);}return true;});return true;};_pMap.setMarkerLoc=function(_a,_b,_c){this.items[_a].location.latitude=_b;this.items[_a].location.longitude=_c;};_pMap.getAddress=function(_a,_b,_c,_d){if(_a==undefined||_a==null){return false;}if(_b==undefined||_b==null){return false;}if(_c<0){return false;}if(_c==undefined||_c==null){_c=1;}var _e='{"nLatitude":"'+_a+'","nLongitude":"'+_b+'","nMaxResultCount":"'+_c+'","strLocale":"'+_d+'"}';var _f='{"id":'+this._id+', "div":"NexacroMap", "method":"getAddress", "params":'+_e+'}';nexacro.Device.exec(_f);return true;};_pMap.getCoordinates=function(_a){if(_a==undefined||_a==null||_a==""){return false;}var _b='{"straddress":"'+_a+'"}';var _c='{"id":'+this._id+', "div":"NexacroMap", "method":"getCoordinates", "params":'+_b+'}';nexacro.Device.exec(_c);return true;};_pMap.addItem=function(_a,_b){this._id=nexacro.Device.makeID();var _c=nexacro.Device._userCreatedObj[this._id]=this;if(_a==null||_b==null){return false;}if(_a==""||typeof (_a)=="undefined"||_b==""||_b=="undefined"||_a.trim()==""){return false;}if(typeof (this.items[_a])!="undefined"){this._apply_onerror({errorcode:"1501",errormsg:"item is already exist."});return false;}if(_b instanceof nexacro.MapMarker||_b instanceof nexacro.MapPolyline||_b instanceof nexacro.MapPolygon){this.items[_a]=_b;this.items.push(_a);if(this.bLoaded){if(_b._type==0||_b._type==1){_pMap.addMarker(_a,_b,_c,this);}else if(_b._type==2){_pMap.addPolyline(_a,_b);}else if(_b._type==3){_pMap.addPolygon(_a,_b);}}return true;}else{return false;}};_pMap.setMarkerOptions=function(_a,_b){if(typeof (_infowindow[_a])=="undefined"){var _c=new google.maps.InfoWindow({content:""});_infowindowname.push(_a);_infowindow[_a]=_c;}var _d;if(_b.style.image.length>0){var _e=_b.style.image.toString().split(" ").join("");var _f="";if(_e.substring(0,9).toLowerCase()=="%userapp%"){_f="../"+_e.substring(9,_e.length);}else{_f=_e;}_d={position:new google.maps.LatLng(_b.location.latitude,_b.location.longitude),title:_b.text,visible:_b.visible,icon:_f,draggable:_b.draggable};}else{_d={position:new google.maps.LatLng(_b.location.latitude,_b.location.longitude),title:_b.text,visible:_b.visible,draggable:_b.draggable};}var _g="<div title=\"\" style='width:100%;height:100%;'><div title=\"\" style='vertical-align:"+_b.style.align.valign+";text-align:"+_b.style.align.halign+";'>"+_b.text+"</div></div>";_infowindow[_a].setContent(_g);google.maps.event.addListener(_items[_a],'click',function(_h){if(_items[_a].title.length>0){_infowindow[_a].open(_pMap._google_map,_items[_a]);}});google.maps.event.addListener(_items[_a],'drag',function(_h){});google.maps.event.addListener(_pMap._google_map,'click',function(_h){_infowindow[_a].close();});if(!_d.visible&&_infowindow[_a]!=null){_infowindow[_a].close();}_items[_a].setOptions(_d);};_pMap.addMarker=function(_a,_b,_c,_d){if(typeof (_infowindow[_a])=="undefined"){var _e=new google.maps.InfoWindow({content:""});_infowindowname.push(_a);_infowindow[_a]=_e;}var _f="<div title=\"\" style='width:100%;height:100%;'><div title=\"\" style='vertical-align:"+_b.style.align.valign+";text-align:"+_b.style.align.halign+";'>"+_b.text+"</div></div>";_infowindow[_a].setContent(_f);var _g;if(_b.style.image.length>0){var _h=_b.style.image.toString().split(" ").join("");var _i="";if(_h.substring(0,9).toLowerCase()=="%userapp%"){_i=_h.substring(9,_h.length);if(_i.charAt(0)!="/"){_i="/"+_i;}_i=nexacro.System.userapppath+_i;}else{_i=_h;}_g=new google.maps.Marker({position:new google.maps.LatLng(_b.location.latitude,_b.location.longitude),title:_b.text,visible:_b.visible,icon:_i,draggable:_b.draggable});}else{_g=new google.maps.Marker({position:new google.maps.LatLng(_b.location.latitude,_b.location.longitude),title:_b.text,visible:_b.visible,draggable:_b.draggable});}google.maps.event.addListener(_g,'dragstart',function(_j){if(_c.onmapdragstart&&_c.onmapdragstart._has_handlers&&_c.enableevent){_b.location.latitude=_g.getPosition().lat();_b.location.longitude=_g.getPosition().lng();var _k=new nexacro.MapDragEventInfo(_c,"onmapdragstart",_b.location);_c.onmapdragstart._fireEvent(_d,_k);}});google.maps.event.addListener(_g,'drag',function(_j){if(_c.onmapdrag&&_c.onmapdrag._has_handlers&&_c.enableevent){_b.location.latitude=_g.getPosition().lat();_b.location.longitude=_g.getPosition().lng();var _k=new nexacro.MapDragEventInfo(_c,"onmapdrag",_b.location);_c.onmapdrag._fireEvent(_d,_k);}});google.maps.event.addListener(_g,'dragend',function(_j){if(_c.onmapdragend&&_c.onmapdragend._has_handlers&&_c.enableevent){_b.location.latitude=_g.getPosition().lat();_b.location.longitude=_g.getPosition().lng();var _k=new nexacro.MapDragEventInfo(_c,"onmapdragend",_b.location);_c.onmapdragend._fireEvent(_d,_k);}});google.maps.event.addListener(_g,'click',function(_j){if(_g.title.length>0){_infowindow[_a].open(_pMap._google_map,_g);}_pMap.gmap_onoverlayclick(_b,_j.latLng.lat(),_j.latLng.lng(),_j.pixel.x,_j.pixel.y);});google.maps.event.addListener(_g,'drag',function(_j){});_g.setMap(_pMap._google_map);_pMap._google_map.setCenter(_g.getPosition());_itemsname.push(_a);_items[_a]=_g;_b._map=this;_b._name=_a;};_pMap.addPolygon=function(_a,_b){var _c=new Array();var _d,_e,_f;_d=_b.locationdata.toString().split("]");for(var _n=0;_n<(_d.length-1);_n++ ){_e=_d[_n].toString().split(",")[0].split(" ").join().substring(1);_f=_d[_n].toString().split(",")[1].split(" ").join().substring(1);if(_e.length>0&&_f.length>0){_c.push(new google.maps.LatLng(Number(_e),Number(_f)));}}var _g;if(typeof (nexacro._xreNamedColorList[_b.style.strokepen.color])!="undefined"){_g=nexacro._xreNamedColorList[_b.style.strokepen.color]+"FF";}else{_g=_b.style.strokepen.color;}var _h;if(typeof (nexacro._xreNamedColorList[_b.style.fillbrush.color])!="undefined"){_h=nexacro._xreNamedColorList[_b.style.fillbrush.color]+"FF";}else{_h=_b.style.fillbrush.color;}var _i;var _j=1.0;if(_g.length>7){_i=parseInt(_g.substring(7),16);_j=_i/255.0;}var _k;var _l=1.0;if(_h.length>7){_k=parseInt(_h.substring(7),16);_l=_k/255.0;}var _m=new google.maps.Polygon({paths:_c,strokeColor:_g.substring(0,7),strokeOpacity:_j,strokeWeight:_b.style.strokepen.width,fillColor:_h.substring(0,7),fillOpacity:_l,visible:_b.visible});_m.setMap(_pMap._google_map);_itemsname.push(_a);_items[_a]=_m;_b._map=this;_b._name=_a;google.maps.event.addListener(_items[_a],'click',function(_o){_pMap.gmap_onoverlayclick(_b,_o.latLng.lat(),_o.latLng.lng(),0,0);});};_pMap.setPolylineOptions=function(_a,_b){var _c=new Array();var _d,_e,_f;_d=_b.locationdata.toString().split("]");for(var _k=0;_k<(_d.length-1);_k++ ){_e=_d[_k].toString().split(",")[0].split(" ").join().substring(1);_f=_d[_k].toString().split(",")[1].split(" ").join().substring(1);if(_e.length>0&&_f.length>0){_c.push(new google.maps.LatLng(Number(_e),Number(_f)));}}var _g;if(typeof (this.parent.nexacro._xreNamedColorList[_b.style.strokepen.color])!="undefined"){_g=this.parent.nexacro._xreNamedColorList[_b.style.strokepen.color]+"FF";}else{_g=_b.style.strokepen.color;}var _h;var _i=1.0;if(_g.length>7){var _h=parseInt(_g.substring(7),16);var _i=_h/255.0;}var _j={path:_c,strokeColor:_g.substring(0,7),strokeOpacity:_i,strokeWeight:_b.style.strokepen.width,visible:_b.visible};google.maps.event.addListener(_items[_a],'click',function(_l){__parent.gmap_onoverlayclick(_items[_a],_l.latLng.lat(),_l.latLng.lng(),0,0);});_items[_a].setOptions(_j);};_pMap.addPolyline=function(_a,_b){var _c=new Array();var _d,_e,_f;_d=_b.locationdata.toString().split("]");for(var _k=0;_k<(_d.length-1);_k++ ){_e=_d[_k].toString().split(",")[0].split(" ").join().substring(1);_f=_d[_k].toString().split(",")[1].split(" ").join().substring(1);if(_e.length>0&&_f.length>0){_c.push(new google.maps.LatLng(Number(_e),Number(_f)));}}var _g;if(typeof (nexacro._xreNamedColorList[_b.style.strokepen.color])!="undefined"){_g=nexacro._xreNamedColorList[_b.style.strokepen.color]+"FF";}else{_g=_b.style.strokepen.color;}var _h;var _i=1.0;if(_g.length>7){var _h=parseInt(_g.substring(7),16);var _i=_h/255.0;}var _j=new google.maps.Polyline({path:_c,strokeColor:_g.substring(0,7),strokeOpacity:_i,strokeWeight:_b.style.strokepen.width,visible:_b.visible});_j.setMap(_pMap._google_map);_itemsname.push(_a);_items[_a]=_j;_b._map=this;_b._name=_a;google.maps.event.addListener(_items[_a],'click',function(_l){_pMap.gmap_onoverlayclick(_b,_l.latLng.lat(),_l.latLng.lng(),0,0);});};_pMap.setPolygonOptions=function(_a,_b){var _c=new Array();var _d,_e,_f,_g;_d=_b.locationdata.toString().split("]");for(_g=0;_g<(_d.length-1);_g++ ){_e=_d[_g].toString().split(",")[0].split(" ").join().substring(1);_f=_d[_g].toString().split(",")[1].split(" ").join().substring(1);if(_e.length>0&&_f.length>0){_c.push(new google.maps.LatLng(Number(_e),Number(_f)));}}var _h;if(typeof (this.parent.nexacro._xreNamedColorList[_b.style.strokepen.color])!="undefined"){_h=this.parent.nexacro._xreNamedColorList[_b.style.strokepen.color]+"FF";}else{_h=_b.style.strokepen.color;}var _i;if(typeof (this.parent.nexacro._xreNamedColorList[_b.style.fillbrush.color])!="undefined"){_i=this.parent.nexacro._xreNamedColorList[_b.style.fillbrush.color]+"FF";}else{_i=_b.style.fillbrush.color;}var _j;var _k=1.0;if(_h.length>7){_j=parseInt(_h.substring(7),16);_k=_j/255.0;}var _l;var _m=1.0;if(_i.length>7){_l=parseInt(_i.substring(7),16);_m=_l/255.0;}var _n={paths:_c,strokeColor:_h.substring(0,7),strokeOpacity:_k,strokeWeight:_b.style.strokepen.width,fillColor:_i.substring(0,7),fillOpacity:_m,visible:_b.visible};google.maps.event.addListener(_items[_a],'click',function(_o){__parent.gmap_onoverlayclick(_items[_a],_o.latLng.lat(),_o.latLng.lng(),0,0);});_items[_a].setOptions(_n);};_pMap.removeItem=function(_a){if(_a==null){return false;}if(_a==""||typeof (_a)=="undefined"){return false;}if(typeof (this.items[_a])=="undefined"){this._apply_onerror({errorcode:"1502",errormsg:"item is not exist."});return false;}else{delete this.items[_a];for(var _c=0;_c<this.items.length;_c++ ){if(this.items[_c]==_a){var _b=this.items.indexOf(this.items[_c]);this.items.splice(_b,_c+1);}}if(this.bLoaded){_pMap._removeItem(_a);}return true;}};_pMap._removeItem=function(_a){_items[_a].setMap(null);if(typeof (_items[_a].title)!="undefined"){delete _infowindow[_a];for(i=0;i<_infowindow.length;i++ ){if(_infowindowname[i]==_a){_infowindowname.splice(i+1,i+1);}}}delete _items[_a];for(i=0;i<_itemsname.length;i++ ){if(_itemsname[i]==_a){_itemsname.splice(i+1,i+1);}}return true;};_pMap.gmap_ondrag=function(_a,_b){this.on_fire_ondragstart(this,new nexacro.MapDragEventInfo("ondrag"));};_pMap.gmap_ondragenter=function(_a){this._fire_ondragenter(this,new nexacro.MapDragEventInfo("ondragenter"));};_pMap.gmap_ondragmove=function(_a,_b){this._location.latitude=_a;this._location.longitude=_b;this.centerlocation.latitude=this._location.latitude;this.centerlocation.longitude=this._location.longitude;};_pMap.gmap_ondragleave=function(_a){this._fire_ondragleave(this,new nexacro.MapDragEventInfo("ondragleave"));};_pMap.gmap_dragend=function(_a,_b){this._location.latitude=_a;this._location.longitude=_b;};_pMap.gmap_onclick=function(_a,_b,_c,_d){this._location.latitude=_a;this._location.longitude=_b;this._pixel.x=_c;this._pixel.y=_d;this.kindClick="normalclick";};_pMap.gmap_onoverlayclick=function(_a,_b,_c,_d,_e){this._location.latitude=_b;this._location.longitude=_c;this._pixel.x=_d;this._pixel.y=_e;this.overlayfromobj=_a;this.kindClick="overlayclick";};_pMap._on_click=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){};_pMap._on_sys_click=function(_a,_b,_c){var _b=_b.changedTouches?_b.changedTouches[0]:_b;nexacro.ajaxlog("_on_sys_click"+_b.screenX+","+_b.screenY+":"+_a+":"+_b+":"+_c+"]");if(this.$IsReadyFireEvent()&&this.$isEnable()&&this.enableevent){if(this.kindClick=="normalclick"){this._fire_onclick(_a._comp,_b);}else{if(this.kindClick=="overlayclick"&&typeof (this.overlayfromobj)!="undefined"){this._fire_onoverlayclick(_a._comp,_b);}}}return true;};_pMap._fire_onclick=function(_a,_b){if(this.onclick._has_handlers){this.bClicked=false;var _c=new nexacro.MapClickEventInfo(this,_a,"onclick",_b,this._location,this._pixel);return this.onclick._fireEvent(this,_c);}else{this.bClicked=true;}return false;};_pMap._fire_onoverlayclick=function(_a,_b){if(this.onoverlayclick&&this.onoverlayclick._has_handlers){var _c=new nexacro.MapClickEventInfo(this,this.overlayfromobj,"onoverlayclick",_b,this._location,this._pixel);return this.onoverlayclick._fireEvent(this,_c);}};_pMap._apply_onload=function(){if(this.enable==false){}else if(this.enable==true){}this.on_fire_onload(this);};_pMap.on_fire_onload=function(_a){if(this.onload&&this.onload._has_handlers){var _b=new nexacro.MapEventInfo(_a,"onload",this.centerlocation,this.viewmode,this.zoomlevel,this.addresses,this.coordinates);return this.onload._fireEvent(this,_b);}return true;};_pMap._onrecvsuccess=function(_a){if(_a.latitude==undefined||_a.latitude==null||_a.latitude==""||_a.longitude==undefined||_a.longitude==null||_a.longitude==""){this.on_fire_onrecvsuccess(this,_a.eventid,_a.addresses,this.coordinates);}else{this.coordinates.latitude=_a.latitude;this.coordinates.longitude=_a.longitude;this.on_fire_onrecvsuccess(this,_a.eventid,_a.addresses,this.coordinates);}};_pMap.on_fire_onrecvsuccess=function(_a,_b,_c,_d){var _e=new nexacro.MapEventInfo(_a,_b,this.centerlocation,this.viewmode,this.zoomlevel,_c,this.coordinates);return this.onrecvsuccess._fireEvent(this,_e);};_pMap._apply_onerror=function(objData){var _objData=eval(objData);this.on_fire_onerror(this,_objData);};_pMap.on_fire_onerror=function(_a,_b){if(this.onerror&&this.onerror._has_handlers){var _c=new nexacro.MapErrorEventInfo(this,"onerror",_b.errorcode,_b.errormsg);return this.onerror._fireEvent(this,_c);}return true;};_pMap.on_change_containerRect=function(_a,_b){var _c=this._map_elem;if(_c){_c.setElementSize(_a,_b);}};_pMap.__onDragEnter=function(_a,_b){console.debug("__ondragEnter");};delete _pMap;}if(!nexacro.MapMarker){nexacro.MapMarker=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._type=0;this.enableevent=true;this.location={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},latitude:0,longitude:0,set_latitude:function(_c){var _d=0;try{_d=_c.toString().split(" ").join("");}catch(e){return false;}if(_d.length==0){return false;}var _e=0;try{_e=Number(_c.toString());}catch(e){return false;}if(( +_e)!=( +_e)){return false;}this.latitude=_e;var _f=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_f._map!=null){_f._map.setMarkerOptions(_f._name,_f);}return true;},set_longitude:function(_c){var _d=0;try{_d=_c.toString().split(" ").join("");}catch(e){return false;}if(_d.length==0){return false;}var _e=0;try{_e=Number(_c.toString());}catch(e){return false;}if(( +_e)!=( +_e)){return false;}this.longitude=_e;var _f=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_f._map!=null){_f._map.setMarkerOptions(_f._name,_f);}return true;},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}};this.text="";this.visible=true;this.draggable=false;this.style={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},align:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},halign:"center",valign:"middle",set_halign:function(_c){var _d=_c.toString().split(" ").join("").toLowerCase();if(_d=="left"||_d=="center"||_d=="right"){this.halign=_d;var _e=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_e._map!=null){_e._map.setMarkerOptions(_e._name,_e);}return true;}else{return false;}},set_valign:function(_c){var _d=_c.toString().split(" ").join("").toLowerCase();if(_d=="top"||_d=="middle"||_d=="bottom"){this.valign=_d;var _e=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_e._map!=null){_e._map.setMarkerOptions(_e._name,_e);}return true;}else{return false;}},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}},image:"",set_align:function(_c){var _d=_c.split(" ");var _e=true;if(_d.length!=2){return false;}_e=this.align.set_halign(_d[0]);if(!_e){return _e;}_e=this.align.set_valign(_d[1]);var _f=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_f._map!=null){_f._map.setMarkerOptions(_f._name,_f);}return _e;},set_image:function(_c){this._type=1;this.image=_c;var _d=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_d._map!=null){_d._map.setMarkerOptions(_d._name,_d);}return true;},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}};this._map=null;this._name=null;this.location.set_parentID(this._id);this.style.set_parentID(this._id);this.style.align.set_parentID(this._id);};var _pMapMarker=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapMarker);nexacro.MapMarker.prototype=_pMapMarker;_pMapMarker._type_name="MapMarker";_pMapMarker.set_location=function(_a){if(_a!=null){var _b=_a.split(",");if(_b.length!=2){return false;}var _c=_b[0];var _d=_b[1];var _e=0;try{_e=_c.toString().split(" ").join("");}catch(e){return false;}if(_e.length==0){return false;}try{_e=_d.toString().split(" ").join("");}catch(e){return false;}if(_e.length==0){return false;}var _f=0;var _g=0;try{_f=Number(_c.toString());}catch(e){return false;}if(( +_f)!=( +_f)){return false;}try{_g=Number(_d.toString());}catch(e){return false;}if(( +_g)!=( +_g)){return false;}this.location.latitude=_f;this.location.longitude=_g;}else{return false;}if(this._map!=null){this._map.setMarkerOptions(this._name,this);}return true;};_pMapMarker.set_text=function(_a){this.text=_a.replace(new RegExp('\r?\n','g'),'<br>');if(this._map!=null){this._map.setMarkerOptions(this._name,this);}return true;};_pMapMarker.set_draggable=function(_a){if(_a==null){return false;}else if(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.draggable=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.draggable=false;}}else{return false;}};_pMapMarker.set_visible=function(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.visible=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.visible=false;}else{return false;}if(this._map!=null){this._map.setMarkerOptions(this._name,this);}return true;};_pMapMarker.set_style=function(_a){var _b=_a.split(";");var _c=0;var _d;var _e=true;for(_c=0;_c<_b.length;_c++ ){_d=_b[_c].split(":");if(_d.length!=2){return false;}switch(_d[0].split(" ").join("").toLowerCase()){case "align":_e=this.style.set_align(_d[1]);break;case "image":_e=this.style.set_image(_d[1]);break;default:_e=false;break;}if(!_e){return _e;}}if(this._map!=null){this._map.setMarkerOptions(this._name,this);}return _e;};delete _pMapMarker;}if(!nexacro.MapPolyline){nexacro.MapPolyline=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._type=2;this.locationdata="";this.visible=true;this.enableevent=true;this.style={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},strokepen:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},width:"",color:"",set_width:function(_c){var _d=0;try{_d=Number(_c.toString());}catch(e){return false;}if(( +_d)!=( +_d)){return false;}this.width=_d;var _e=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_e._map!=null){_e._map.setPolylineOptions(_e._name,_e);}return true;},set_color:function(_c){this.color=_c;var _d=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_d._map!=null){_d._map.setPolylineOptions(_d._name,_d);}return true;},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}},set_strokepen_width:function(_c){var _d=true;_d=this.strokepen.set_width(_c);var _e=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_e._map!=null){_e._map.setPolylineOptions(_e._name,_e);}return _d;},set_strokepen_color:function(_c){var _d=true;_d=this.strokepen.set_color(_c);var _e=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_e._map!=null){_e._map.setPolylineOptions(_e._name,_e);}return _d;},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}};this._map=null;this._name=null;this.style.set_parentID(this._id);this.style.strokepen.set_parentID(this._id);};var _pMapPolyline=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapPolyline);nexacro.MapPolyline.prototype=_pMapPolyline;_pMapPolyline._type_name="MapPolyline";_pMapPolyline.set_locationdata=function(_a){var _b;_b=_a.toString().split("]");if(!(_b.length>=2)){return false;}this.locationdata=_a;if(this._map!=null){this._map.setPolylineOptions(this._name,this);}return true;};_pMapPolyline.set_visible=function(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.visible=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.visible=false;}else{return false;}if(this._map!=null){this._map.setPolylineOptions(this._name,this);}return true;};_pMapPolyline.set_style=function(_a){var _b=_a.split(";");var _c=0;var _d;var _e=true;for(_c=0;_c<_b.length;_c++ ){_d=_b[_c].split(":");if(_d.length!=2){return false;}switch(_d[0].split(" ").join("").toLowerCase()){case "strokepen":_e=this.style.set_strokepen(_d[1]);break;default:_e=false;break;}if(!_e){return _e;}}if(this._map!=null){this._map.setPolylineOptions(this._name,this);}return _e;};delete _pMapPolyline;}if(!nexacro.MapPolygon){nexacro.MapPolygon=function(_a,_b){this._id=nexacro.Device.makeID();nexacro.Device._userCreatedObj[this._id]=this;this.name=_a||"";this._type=3;this.locationdata="";this.visible=true;this.enableevent=true;this.style={_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},strokepen:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},width:"",color:"",set_width:function(_c){var _d=0;try{_d=Number(_c.toString());}catch(e){return false;}if(( +_d)!=( +_d)){return false;}this.width=_d;var _e=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_e._map!=null){_e._map.setPolygonOptions(_e._name,_e);}return true;},set_color:function(_c){this.color=_c;var _d=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_d._map!=null){_d._map.setPolygonOptions(_d._name,_d);}return true;},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}},set_strokepen:function(_c){var _d=_c.split(" ");var _e=true;if(_d.length!=2){_e=false;}else{_e=this.strokepen.set_width(_d[0]);if(!_e){return _e;}_e=this.strokepen.set_color(_d[1]);}var _f=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_f._map!=null){_f._map.setPolygonOptions(_f._name,_f);}return _e;},fillbrush:{_MapMarkerID:0,set_parentID:function(_c){this._MapMarkerID=_c;},color:"",set_color:function(_c){this.color=_c;var _d=nexacro.Device._userCreatedObj[this._MapMarkerID];if(_d._map!=null){_d._map.setPolygonOptions(_d._name,_d);}return true;},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}},set_fillbrush:function(_c){return this.fillbrush.set_color(_c);},$s:function(_a,_c,_d){var _e=this[_c];if(_e){return _e.call(this,_d);}return (this[_a]=_d);}};this._map=null;this._name=null;this.style.set_parentID(this._id);this.style.strokepen.set_parentID(this._id);this.style.fillbrush.set_parentID(this._id);};var _pMapPolygon=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapPolygon);nexacro.MapPolygon.prototype=_pMapPolygon;_pMapPolygon._type_name="MapPolygon";_pMapPolygon.set_locationdata=function(_a){var _b;_b=_a.toString().split("]");if(!(_b.length>=2)){return false;}this.locationdata=_a;if(this._map!=null){this._map.setPolygonOptions(this._name,this);}return true;};_pMapPolygon.set_visible=function(_a){if(_a==true||(typeof (_a)=="string"&&_a=="true")){this.visible=true;}else if(_a==false||(typeof (_a)=="string"&&_a=="false")){this.visible=false;}else{return false;}if(this._map!=null){this._map.setPolygonOptions(this._name,this);}return true;};_pMapPolygon.set_style=function(_a){var _b=_a.split(";");var _c=0;var _d;var _e=true;for(_c=0;_c<_b.length;_c++ ){_d=_b[_c].split(":");if(_d.length!=2){return false;}switch(_d[0].split(" ").join("").toLowerCase()){case "strokepen":_e=this.style.set_strokepen(_d[1]);break;case "fillbrush":_e=this.style.set_fillbrush(_d[1]);break;default:_e=false;break;}if(!_e){return _e;}}if(this._map!=null){this._map.setPolygonOptions(this._name,this);}return _e;};delete _pMapPolygon;}}else{if(!nexacro.Map){nexacro.Map=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pMap=nexacro._createPrototype(nexacro.Component,nexacro.Map);nexacro.Map.prototype=_pMap;_pMap._type="nexacroMap";_pMap._type_name="Map";_pMap.set_text=function(_a){};_pMap.set_viewmode=function(_a){};_pMap.set_zoomlevel=function(_a){};_pMap.set_showzoom=function(_a){};_pMap.set_shownavigator=function(_a){};_pMap.set_showcompass=function(_a){};_pMap.set_enable=function(_a){};_pMap.set_visible=function(_a){};_pMap.set_showmapscale=function(_a){};_pMap.set_centerlocation=function(_a){};_pMap.set_showmode=function(_a){};_pMap.set_zoomalign=function(_a){};_pMap.set_navigatoralign=function(_a){};_pMap.set_mapscalealign=function(_a){};_pMap.set_draggable=function(_a){};_pMap.load=function(_a,_b,_c,_d,_e){};_pMap.setMarkerLoc=function(_a,_b,_c){};_pMap.getAddress=function(_a,_b,_c,_d){};_pMap.getCoordinates=function(_a){};_pMap.addItem=function(_a,_b){};_pMap.setMarkerOptions=function(_a,_b){};_pMap.addMarker=function(_a,_b,_c){};_pMap.addPolyline=function(_a,_b,_c){};_pMap.removeItem=function(_a){};_pMap._removeItem=function(_a,_b){};delete _pMap;}if(!nexacro.MapMarker){nexacro.MapMarker=function(_a,_b){};var _pMapMarker=nexacro.MapMarker.prototype=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.MapMarker);_pMapMarker._type_name="MapMarker";_pMapMarker.set_location=function(_a){};_pMapMarker.set_text=function(_a){};_pMapMarker.set_draggable=function(_a){};_pMapMarker.set_visible=function(_a){};_pMapMarker.set_style=function(_a){};delete _pMapMarker;}if(!nexacro.MapPolyline){}if(!nexacro.MapPolygon){}}