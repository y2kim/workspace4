if(!nexacro.Step){nexacro.StepChangeEventInfo=function(_a,_b,_c,_d){this.id=this.eventid=_b||"onstepchanged";this.fromobject=_a._form||_a;this.fromreferenceobject=_a;this.preindex=_c;this.postindex=_d;};var _pEventStepChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.StepChangeEventInfo);nexacro.StepChangeEventInfo.prototype=_pEventStepChangeEventInfo;_pEventStepChangeEventInfo._type_name="StepChangeEventInfo";delete _pEventStepChangeEventInfo;nexacro.StepMouseEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){nexacro.ClickEventInfo.call(this,_a,_b||"onstepmouse",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this.index=_c<0? -1:_c;};var _pEventStepMouseEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.StepMouseEventInfo);nexacro.StepMouseEventInfo.prototype=_pEventStepMouseEventInfo;_pEventStepMouseEventInfo._type_name="StepMouseEventInfo";delete _pEventStepMouseEventInfo;nexacro.StepDragEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s){nexacro.DragEventInfo.call(this,_a,_b||"onstepdrag",_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q,_r,_s);this.index=_c? -1:_c;};var _pEventStepDragEventInfo=nexacro._createPrototype(nexacro.DragEventInfo,nexacro.StepDragEventInfo);nexacro.StepDragEventInfo.prototype=_pEventStepDragEventInfo;_pEventStepDragEventInfo._type_name="StepDragEventInfo";delete _pEventStepDragEventInfo;nexacro.Step_Style=function(_a){nexacro.Style.call(this,_a);this._initStyle();};var _pStepStyle=nexacro._createPrototype(nexacro.Style,nexacro.Step_Style);nexacro.Step_Style.prototype=_pStepStyle;_pStepStyle._initStyle=function(){this.buttonalign=null;this.buttonbackground=null;this.buttonborder=null;this.buttonbordertype=null;this.buttongradation=null;this.buttonimage=null;this.buttonpadding=null;this.buttonsize=null;};eval(nexacro._createAlignAttributeEvalStr("_pStepStyle","buttonalign"));eval(nexacro._createBackgroundAttributeEvalStr("_pStepStyle","buttonbackground"));eval(nexacro._createBorderAttributeEvalStr("_pStepStyle","buttonborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pStepStyle","buttonbordertype"));eval(nexacro._createGradationAttributeEvalStr("_pStepStyle","buttongradation"));eval(nexacro._createValueAttributeEvalStr("_pStepStyle","buttonimage"));eval(nexacro._createPaddingAttributeEvalStr("_pStepStyle","buttonpadding"));eval(nexacro._createValueAttributeEvalStr("_pStepStyle","buttonsize"));_pStepStyle.__custom_emptyObject=function(){this._initStyle();};_pStepStyle.__get_custom_style_value=function(){var _a="";if(this.buttonalign&&this.buttonalign._is_empty){_a+="buttonalign:"+this.buttonalign._value+"; ";}if(this.buttonbackground&&this.buttonbackground._is_empty){_a+="buttonbackground:"+this.buttonbackground._value+"; ";}if(this.buttonborder&&this.buttonborder._is_empty){_a+="buttonborder:"+this.buttonborder._value+"; ";}if(this.buttonbordertype&&this.buttonbordertype._is_empty){_a+="buttonbordertype:"+this.buttonbordertype._value+"; ";}if(this.buttongradation&&this.buttongradation._is_empty){_a+="buttongradation:"+this.buttongradation._value+"; ";}if(this.buttonimage&&this.buttonimage._is_empty){_a+="buttonimage:"+this.buttonimage._value+"; ";}if(this.buttonpadding&&this.buttonpadding._is_empty){_a+="buttonpadding:"+this.buttonpadding._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}return _a;};nexacro.Step_CurrentStyle=function(){nexacro.CurrentStyle.call(this);nexacro.Step_Style.prototype._initStyle.call(this);};var _pStepCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Step_CurrentStyle);nexacro.Step_CurrentStyle.prototype=_pStepCurrentStyle;_pStepCurrentStyle.__get_custom_style_value=_pStepStyle.__get_custom_style_value;_pStepCurrentStyle.__custom_emptyObject=_pStepStyle.__custom_emptyObject;delete _pStepStyle;delete _pStepCurrentStyle;nexacro.Step=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.stepcount=0;this.stepindex=0;this.text="";this.canstepchange=null;this.onstepchanged=null;35;this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmousedown":1,"onmouseup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"canstepchange":1,"onstepchanged":1,"onfling":1,"onflingstart":1,"onflingend":1,"onpinch":1,"onpinchstart":1,"onpinchend":1,"onslide":1,"onslidestart":1,"onslideend":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"ontap":1,"onlongpress":1};this._items=[];this._btn_img_info={width:0,height:0,isimg:false};this._prestepindex=null;this._poststepindex=null;this._prestepcount=null;this._poststepcount=null;this._ischange=false;this._accessibility_role="step";};var _pStep=nexacro._createPrototype(nexacro.Component,nexacro.Step);nexacro.Step.prototype=_pStep;_pStep._type_name="Step";nexacro.Step._default_step_buttonalign=nexacro._getCachedStyleObj("align","lefttext middle");_pStep.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);var _d=this.on_find_CurrentStyle_color(_a);var _e=this.on_find_CurrentStyle_cursor(_a);var _f=this.on_find_CurrentStyle_font(_a);var _g=this.on_find_CurrentStyle_letterspace(_a);var _h=this.on_find_CurrentStyle_padding(_a);var _i=this.on_find_CurrentStyle_buttonalign(_a);var _j=this.on_find_CurrentStyle_buttonbackground(_a);var _k=this.on_find_CurrentStyle_buttonborder(_a);var _l=this.on_find_CurrentStyle_buttonbordertype(_a);var _m=this.on_find_CurrentStyle_buttongradation(_a);var _n=this.on_find_CurrentStyle_buttonimage(_a);var _o=this.on_find_CurrentStyle_buttonpadding(_a);var _p=this.on_find_CurrentStyle_buttonsize(_a);if(_c!=_b.align){_b.align=_c;}if(_d!=_b.color){_b.color=_d;}if(_f!=_b.font){_b.font=_f;}if(_g!=_b.letterspace){_b.letterspace=_g;}if(_h!=_b.padding){_b.padding=_h;}if(_i!=_b.buttonalign){_b.buttonalign=_i;}if(_j!=_b.buttonbackground){_b.buttonbackground=_j;}if(_k!=_b.buttonborder){_b.buttonborder=_k;}if(_l!=_b.buttonbordertype){_b.buttonbordertype=_l;}if(_m!=_b.buttongradation){_b.buttongradation=_m;}if(_n!=_b.buttonimage){_b.buttonimage=_n;}if(_o!=_b.buttonpadding){_b.buttonpadding=_o;}if(_p!=_b.buttonsize){_b.buttonsize=_p;}this.on_apply_style_align(_c);this.on_apply_style_color(_d);this.on_apply_style_font(_f);this.on_apply_style_letterspace(_g);this.on_apply_style_cursor(_e);this.on_apply_style_padding(_h);};_pStep.on_find_CurrentStyle_buttonalign=function(_a){var _b=this._find_pseudo_obj("buttonalign",_a,"align");if(!_b){_b=(this._is_subcontrol)?nexacro.Component._default_step_align:nexacro.Step._default_step_buttonalign;}return _b;};_pStep.on_find_CurrentStyle_buttonbackground=function(_a){var _b=this._find_pseudo_obj("buttonbackground",_a,"background");return _b;};_pStep.on_find_CurrentStyle_buttonborder=function(_a){var _b=this._find_pseudo_obj("buttonborder",_a,"border");return _b;};_pStep.on_find_CurrentStyle_buttonbordertype=function(_a){var _b=this._find_pseudo_obj("buttonbordertype",_a,"bordertype");return _b;};_pStep.on_find_CurrentStyle_buttongradation=function(_a){var _b=this._find_pseudo_obj("buttongradation",_a,"gradation");return _b;};_pStep.on_find_CurrentStyle_buttonimage=function(_a){var _b=this._find_pseudo_obj("buttonimage",_a);return _b;};_pStep.on_find_CurrentStyle_buttonpadding=function(_a){var _b=this._find_pseudo_obj("buttonpadding",_a,"padding");return _b||nexacro.Component._default_padding;};_pStep.on_find_CurrentStyle_buttonsize=function(_a){var _b=this._find_pseudo_obj("buttonsize",_a);return parseInt(_b)|0;};_pStep.on_update_style_buttonalign=function(){var _a=this.on_find_CurrentStyle_buttonalign(this._pseudo);this.currentstyle.buttonalign=_a;this.on_apply_style_buttonalign(_a);};_pStep.on_update_style_buttonbackground=function(){var _a=this.on_find_CurrentStyle_buttonbackground(this._pseudo);this.currentstyle.buttonbackground=_a;this.on_apply_style_buttonbackground(_a);};_pStep.on_update_style_buttonborder=function(){var _a=this.on_find_CurrentStyle_buttonborder(this._pseudo);this.currentstyle.buttonborder=_a;this.on_apply_style_buttonborder(_a);};_pStep.on_update_style_buttonbordertype=function(){var _a=this.on_find_CurrentStyle_buttonbordertype(this._pseudo);this.currentstyle.buttonbordertype=_a;this.on_apply_style_buttonbordertype(_a);};_pStep.on_update_style_buttongradation=function(){var _a=this.on_find_CurrentStyle_buttongradation(this._pseudo);this.currentstyle.buttongradation=_a;this.on_apply_style_buttongradation(_a);};_pStep.on_update_style_buttonimage=function(){var _a=this.on_find_CurrentStyle_buttonimage(this._pseudo);this.currentstyle.buttonimage=_a;this.on_apply_style_buttonimage(_a);};_pStep.on_update_style_buttonpadding=function(){var _a=this.on_find_CurrentStyle_buttonpadding(this._pseudo);this.currentstyle.buttonpadding=_a;this.on_apply_style_buttonpadding(_a);};_pStep.on_update_style_buttonsize=function(){var _a=this.on_find_CurrentStyle_buttonsize(this._pseudo);this.currentstyle.buttonsize=_a;this.on_apply_style_buttonsize(_a);};_pStep.on_apply_style_cursor=function(_a){nexacro.Component.prototype.on_apply_style_cursor.call(this,_a);var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_cursor(_a);}};_pStep.on_apply_style_buttonalign=function(_a){this.on_apply_stepcount();};_pStep.on_apply_style_buttonbackground=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_background(_a);}};_pStep.on_apply_style_buttonborder=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_border(_a);}};_pStep.on_apply_style_buttonbordertype=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_bordertype(_a);}};_pStep.on_apply_style_buttongradation=function(_a){var _b=this._items;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){_b[_d].on_apply_style_gradation(_a);}};_pStep.on_apply_style_buttonimage=function(_a){var _b=this._items[this.stepindex];_b.style.set_image(_a);};_pStep.on_apply_style_buttonpadding=function(_a){this.on_apply_stepcount();};_pStep.on_apply_style_buttonsize=function(_a){this.on_apply_stepcount();};_pStep.on_apply_style_rtlimagemirroring=function(_a){return;};_pStep.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this.currentstyle;var _c=this._btn_img_info;var _d=this.on_find_CurrentStyle_buttonimage(this._pseudo);var _e=0;if(_d){_e=nexacro._getImageSize(_d.value,this._loadImage,this,this._getRefFormBaseUrl());}if(this.text){var _f=new nexacro.TextBoxElement(_a);this._text_elem=_f;var _g=_b.align.halign==""?"center":_b.align._halign;var _h=_b.align.valign==""?"middle":_b.align._valign;_f.setElementSize(this._client_width,this._client_height);_f.setElementFont(_b.font);_f.setElementColor(_b.color);_f.setElementAlignXY(_g,_h);_f.setElementLetterSpace(_b.letterspace);}if(_e){_c.width=_e.width;_c.height=_e.height;_c.isimg=true;}}};_pStep.on_created_contents=function(){if(this.text||this.expr){this.on_apply_text();var _a=this._text_elem;if(_a){_a.create();}}if(this._btn_img_info.isimg){this.on_apply_stepcount();this.on_apply_stepindex();}this._setEventHandler("onsize",this.__onSize);};_pStep.on_destroy_contents=function(){var _a=this._text_elem;this._deleteStepButton();if(_a){_a.destroy();}this._text_elem=null;};_pStep.on_change_containerRect=function(){};_pStep.on_create_custom_style=function(){return new nexacro.Step_Style(this);};_pStep.on_create_custom_currentstyle=function(){return new nexacro.Step_CurrentStyle();};_pStep._on_getAccessibilityAdditionalLabel=function(){return this.stepindex+" "+this.stepcount;};_pStep.set_stepcount=function(_a){if(_a!=this.stepcount){if(( +_a)!=( +_a)){_a=0;}else{_a=parseInt(_a)|0;}this._prestepindex=this.stepindex;this._prestepcount=this.stepcount;this._poststepcount=_a;if(this._prestepcount!=this._poststepcount){this.stepcount=this._poststepcount;if(this.stepindex>=this.stepcount){this.stepindex=this.stepcount-1;}var _b=this._form;if(_b){_b._apply_stepcount();}else{this.on_apply_stepcount();}}}};_pStep.set_stepindex=function(_a){if(( +_a)!=( +_a)){_a=0;}else{_a=parseInt(_a)|0;}this._ischange=false;if(_a!=this.stepindex){var _b=this.stepcount<=_a||_a<0;if(!_b){this._prestepindex=this.stepindex;this._poststepindex=_a;var _c=this.on_fire_canstepchange(this);if(_c!==false){this.stepindex=this._poststepindex;this.on_apply_stepindex();this.on_fire_onstepchanged(this);}}}};_pStep.on_apply_stepcount=function(){var _a=this.getElement();if(_a){if(this._btn_img_info.isimg){var _b=this._items;var _c=_b.length;if(_c>0){this._deleteStepButton();}this._drawStepButton();}}};_pStep.on_apply_stepindex=function(){var _a=this.getElement();if(_a){var _b=this._prestepindex;var _c=this.stepindex;if(_b!=_c){this._changeStepIndex(_b,_c);this._ischange=true;}else{this._ischange=false;}}};_pStep.on_apply_expr=function(){this.on_apply_text();};_pStep.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this._text_elem;if(!_b){_b=new nexacro.TextBoxElement(_a);_b.setElementSize(this._client_width,this._client_height);this._text_elem=_b;if(this._is_created){var _c=this.currentstyle;var _d=_c.align.halign==""?"center":_c.align._halign;var _e=_c.align.valign==""?"middle":_c.align._valign;_b.setElementColor(_c.color);_b.setElementFont(_c.font);_b.setElementAlignXY(_d,_e);_b.setElementLetterSpace(_c.letterspace);_b.create();}}var _f=this.expr;if(_f&&_f.length>0){_f=_f.trim().split(":");var _g=_f.length;var _h=new nexacro.ExprParser();var _i,_j;var _k;if(_g==1){_k=_f[0];}else{if(_f[0].trim().toUpperCase()!="EXPR"){_k=_f.join(":");}else{_k=_f.slice(1).join(":");}}_i=_h.makeExpr(this,_k);_j=nexacro._createInlineFunc(_i,["comp"]);if(_j){try{var _l=nexacro._toString(_j.call(null,this));if(_l!=this.displaytext){this.displaytext=_l;}}catch(e){return;}}}else{this.displaytext=this.text;}_b.setElementText(this.displaytext);}};_pStep.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this._text_elem;if(_a){var _b=this._rtldirection;_a.setElementRtlDirection(_b);_a.setElementPosition(_a.left,_a.top,true);}this.on_apply_stepcount();};_pStep.on_fire_canstepchange=function(_a){if(this.canstepchange&&this.canstepchange._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"canstepchange",_a._prestepindex,_a._poststepindex);return this.canstepchange._fireCheckEvent(this,_b);}};_pStep.on_fire_onstepchanged=function(_a){if(this.onstepchanged&&this.onstepchanged._has_handlers){var _b=new nexacro.StepChangeEventInfo(_a,"onstepchanged",_a._prestepindex,_a._poststepindex);return this.onstepchanged._fireEvent(this,_b);}};_pStep.getStepCount=function(){return this.stepcount;};_pStep.getStepIndex=function(){return this.stepindex;};_pStep.setStepIndex=function(_a){this.set_stepindex(_a);return this._ischange;};_pStep.stepIt=function(_a,_b){var _c=this.stepindex;var _d=this.stepcount;if(_a==undefined){_a=true;}else{_a=nexacro._toBoolean(_a);}_b=nexacro._toBoolean(_b);if(_a){_c++ ;if(_c>=_d){_c=_d-1;if(_b){_c=0;}}}else{_c-- ;if(_c<0){_c=0;if(_b){_c=_d-1;}}}this.set_stepindex(_c);return this._ischange;};_pStep._deleteStepButton=function(){var _a=this._items;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){_a[_c].destroy();}this._items=[];};_pStep._drawStepButton=function(){var _a=this.stepcount;if(_a>0){var _b=this._items;var _c=this.stepindex;var _d=this._btn_img_info;var _e=this._pseudo;var _f=this.on_find_CurrentStyle_align(_e);var _g=this.on_find_CurrentStyle_buttonalign(_e);var _h=this.on_find_CurrentStyle_buttonpadding(_e);var _i=this.text;var _j=this.on_find_CurrentStyle_font(_e);var _k=this.on_find_CurrentStyle_letterspace(_e);var _l=nexacro._getTextSize2(_k,_i,_j,null,null,null,this._rtldirection);var _m=_l[0];var _n=_l[1];var _o=this._client_width;var _p=this._client_height;var _q=this._getButtonSize();var _r=this._getButtonAreaSize(_a,_q);var _s=_r.width;var _t=_r.height;var _u=0;var _v=0;var _w=0;var _x=0;if(_g){switch(_g.halign){case "left":_u=_h.left;break;case "lefttext":switch(_f.halign){case "left":_u=_h.left;break;case "center":if(_m>0){_u=(_o/2)-((_s+_m)/2)+_h.left;}else{_u=_h.left;}break;case "right":_u=_o-_s-_m+_h.left;break;}break;case "center":_u=(_o/2)-(_s/2)+_h.left;break;case "right":_u=_o-_s+_h.left;break;case "righttext":switch(_f.halign){case "left":_u=_m+_h.left;break;case "center":_u=(_o/2)-((_s+_m)/2)+_m+_h.left;break;case "right":_u=_o-_s+_h.left;break;}break;default:break;}switch(_g.valign){case "top":_v=_h.top;break;case "toptext":switch(_f.valign){case "top":_v=_h.top;break;case "middle":_v=(_p/2)-((_t+_n)/2)+_h.top;break;case "bottom":_v=_p-_t-_n+_h.top;break;}break;case "middle":_v=(_p/2)-(_t/2)+_h.top-_h.bottom;break;case "bottom":_v=_p-_t+_h.top;break;case "bottomtext":switch(_f.valign){case "top":_v=_n+_h.top;break;case "middle":_v=(_p/2)-((_t+_n)/2)+_n+_h.top;break;case "bottom":_v=_p-_t+_h.top;break;}break;default:break;}}btn_w=_q;btn_h=_q;for(var _aa=0;_aa<_a;_aa++ ){var _y=new nexacro.StepImageButtonCtrl(""+_aa,"absolute",_u,_v,btn_w,btn_h,null,null,this);_y._setEventHandler("onclick",this.__onStepButtonClick,this);_y.createComponent();_y.on_created();_y._setRtlDirection(this._rtldirection);if(_aa==_c){var _z=this.on_find_CurrentStyle_buttonimage(_e);_y.style.set_image(_z);}_b[_aa]=_y;_u=_u+btn_w+_h.left+_h.right;}this._items=_b;this.on_apply_style_buttonbordertype(this.on_find_CurrentStyle_buttonbordertype(_e));}};_pStep._changeStepIndex=function(_a,_b){var _c=this.on_find_CurrentStyle_buttonimage(this._pseudo);var _d=this._items[_a];var _e=this._items[_b];if(_d){_d.style.set_image("");}if(_e&&_c&&!_c._is_empty){_e.style.set_image(_c);}else{}};_pStep._loadImage=function(_a,_b,_c){var _d=this._btn_img_info;_d.width=_b;_d.height=_c;_d.isimg=true;this.on_apply_stepcount();};_pStep.__onStepButtonClick=function(_a,_b){this.set_stepindex(_a.id);};_pStep.__onSize=function(_a,_b){this.on_apply_stepcount();};_pStep._getButtonSize=function(){var _a=this._pseudo;var _b=this._btn_img_info;var _c=this.on_find_CurrentStyle_buttonsize(_a);if(_b.width>_c||_b.height>_c){var _d=Math.max(_b.width,_b.height);_c=_d;}return _c;};_pStep._getButtonAreaSize=function(_a,_b){var _c=this.on_find_CurrentStyle_buttonpadding(this._pseudo);var _d=(_c.left+_c.right+_b)*_a;var _e=_c.top+_c.bottom+_b;return {width:_d,height:_e};};delete _pStep;nexacro.StepCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Step.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_nc_control=true;this._is_subcontrol=true;this._form=_i;this._refform=_i;};var _pStepCtrl=nexacro._createPrototype(nexacro.Step,nexacro.StepCtrl);nexacro.StepCtrl.prototype=_pStepCtrl;nexacro._setForControlStyleFinder(_pStepCtrl);_pStepCtrl._type_name="StepControl";_pStepCtrl.on_created_contents=function(){if(this._btn_img_info.isimg){this.on_apply_stepcount();this.on_apply_stepindex();}this.on_apply_text();this.on_apply_expr();var _a=this._text_elem;if(_a){_a.create();}this.on_apply_stepcount();};_pStepCtrl.on_change_containerRect=function(_a,_b){var _c=this.getElement();if(_c){var _d=this._form;if(_d){this.on_apply_stepcount();}}};_pStepCtrl.set_stepindex=function(_a){if(( +_a)!=( +_a)){_a=0;}else{_a=parseInt(_a)|0;}if(_a!=this.stepindex){var _b=this.stepcount<=_a||_a<0;if(!_b){this._prestepindex=this.stepindex;this._poststepindex=_a;var _c=this._form.on_fire_canstepchange(this);if(_c!==false){this.stepindex=this._poststepindex;this.on_apply_stepindex();this._form.on_fire_onstepchanged(this);return true;}}}return false;};_pStepCtrl.on_apply_stepindex=function(){var _a=this.getElement();if(_a){var _b=this._form;var _c=this._prestepindex;var _d=this.stepindex;var _e=application.getLayoutManager();if(_c!=_d){this._changeStepIndex(_c,_d);if(_e){_e.setStepIndex(_b,_d);}}}};_pStepCtrl.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);var _a=this.getElement();if(_a){var _b=this._form;if(_b){this.on_apply_stepcount();}}};_pStepCtrl._drawStepButton=function(){var _a=this.stepcount;if(_a>0){var _b=this.stepindex;var _c=this._items;var _d=this._pseudo;var _e=this.parent;var _f=this._client_width;var _g=this._client_height;var _h=_e._client_width;var _i=_e._client_height;var _j=this._getButtonSize();var _k=this.on_find_CurrentStyle_buttonpadding(_d);var _l=this.on_find_CurrentStyle_padding(_d);var _m=_k.left;var _n=(((_g-_j)/2)+_k.top)-_k.bottom;var _o=_j;var _p=_j;for(var _s=0;_s<_a;_s++ ){var _q=new nexacro.StepImageButtonCtrl(""+_s,"absolute",_m,_n,_o,_p,null,null,this);_q._setEventHandler("onclick",this.__onStepButtonClick,this);_q.createComponent();_q.on_created();_q._setRtlDirection(this._rtldirection);if(_s==_b){var _r=this.on_find_CurrentStyle_buttonimage(_d);_q.style.set_image(_r);}_c[_s]=_q;_m=_m+_o+_k.left+_k.right;}this._items=_c;this.on_apply_style_buttonbordertype(this.on_find_CurrentStyle_buttonbordertype(_d));}};_pStepCtrl._getButtonAreaSize=function(_a,_b){var _c=this.on_find_CurrentStyle_buttonpadding(this._pseudo);var _d=this.on_find_CurrentStyle_padding(this._pseudo);var _e=_d.left+_d.right;_e=_e+((_c.left+_c.right+_b)*_a);var _f=_d.top+_d.bottom;_f=_f+_c.top+_c.bottom+_b;return {width:_e,height:_f};};delete _pStepCtrl;};