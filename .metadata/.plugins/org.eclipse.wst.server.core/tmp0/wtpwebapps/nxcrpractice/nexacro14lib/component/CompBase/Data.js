if(!nexacro.Dataset){nexacro._getXMLTagData=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f=_e+_c.length;var _g=_a.indexOf(_d,_f);if(_g> -1){var _h=_a.substring(_f,_g);return [_h,"",_e,_g+_d.length];}else{var _h=_a.substring(_f);return [_h,"",_e,_a.length];}}return null;};nexacro._getXMLTagData2=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f;var _g=_e+_c.length;var _h=_a.indexOf(">",_g);if(_h<0){return null;}else if(_h>0&&_a.charAt(_h-1)=='/'){_f=_a.substring(_g,_h-1).trim();return ["",_f,_e,_h];}else{_f=_a.substring(_g,_h).trim();}_h++ ;var _i=_a.indexOf(_d,_h);if(_i> -1){var _j=_a.substring(_h,_i);return [_j,_f,_e,_i+_d.length];}else{var _j=_a.substring(_h);return [_j,_f,_e,_a.length];}}return null;};nexacro._getXMLTagData3=function(_a,_b,_c,_d){var _e=_a.indexOf(_c,_b);if(_e> -1){var _f=_e+_c.length;if(_a.charAt(_f)==" "){var _g;var _h=_f+1;var _i=_a.indexOf(">",_h);if(_i<0){return null;}else if(_i>0&&_a.charAt(_i-1)=='/'){_g=_a.substring(_h,_i-1).trim();return ["",_g,_e,_i];}else{_g=_a.substring(_h,_i).trim();}_i++ ;var _j=_a.indexOf(_d,_i);if(_j> -1){var _k=_a.substring(_i,_j);return [_k,_g,_e,_j+_d.length];}else{var _k=_a.substring(_i);return [_k,_g,_e,_a.length];}}else if(_a.charAt(_f)=="/"){_f=_f+1;if(_a.charAt(_f)==">"){return ["","",_e,_f];}}else{if(_a.charAt(_e+1)==">"){_e=_e+1;}var _i=_e+_c.length;var _j=_a.indexOf(_d,_i);if(_j> -1){var _k=_a.substring(_i,_j);return [_k,"",_e,_j+_d.length];}else{var _k=_a.substring(_i);return [_k,"",_e,_a.length];}}}return null;};nexacro._getXMLTagData4=function(_a,_b,_c){var _d=_a.indexOf(_c,_b);if(_d> -1){var _e=_d+_c.length;var _f=_a.indexOf("/>",_e);if(_f> -1){var _g=_a.substring(_e,_f).trim();return ["",_g,_e,_f+2];}else{var _g=_a.substring(_e).trim();return ["",_g,_e,_a.length];}}return null;};nexacro._getXMLAttributeID=function(_a){var _b=_a.indexOf("id=\"");if(_b> -1){var _c=_b+4;var _d=_a.indexOf("\"",_c);if(_d> -1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeType=function(_a){var _b=_a.indexOf("type=\"");if(_b> -1){var _c=_b+6;var _d=_a.indexOf("\"",_c);if(_d> -1){return _a.substring(_c,_d);}return "";}return null;};nexacro._getXMLAttributeData=function(_a,_b){var _c=_a.indexOf(_b+"=\"");if(_c> -1){var _d=_c+_b.length+2;var _e=_a.indexOf("\"",_d);if(_e> -1){return _a.substring(_d,_e);}return "";}return null;};nexacro.Date=function(_a,_b,_c,_d,_e,_f,_g){if(_a==null){this._timecheck=true;this.date=new Date();}else if(_b==null&&typeof _a=="string"){this._timecheck=true;this.date=new Date(_a);}else if(_c==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);this.date=new Date(_a,_b);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_d==null){_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);this.date=new Date(_a,_b,_c);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_e==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);this.date=new Date(_a,_b,_c,_d);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_f==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);this.date=new Date(_a,_b,_c,_d,_e);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else if(_g==null){this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}else{this._timecheck=true;_a=(parseInt(_a,10)|0);_b=(parseInt(_b,10)|0);_c=(parseInt(_c,10)|0);_d=(parseInt(_d,10)|0);_e=(parseInt(_e,10)|0);_f=(parseInt(_f,10)|0);_g=(parseInt(_g,10)|0);this.date=new Date(_a,_b,_c,_d,_e,_f,_g);if(_a<=99&&_a>=0){this.date.setFullYear(_a);}}return;};var _pDate=nexacro._createPrototype(nexacro.Object,nexacro.Date);nexacro.Date.prototype=_pDate;_pDate._type_name="Date";_pDate.getFullYear=function(){return this.date.getFullYear();};_pDate.setFullYear=function(_a,_b,_c){if(_c!=null){this.date.setFullYear(_a,_b,_c);}else if(_b!=null){this.date.setFullYear(_a,_b);}else{this.date.setFullYear(_a);}};_pDate.getYear=function(){return this.date.getYear();};_pDate.setYear=function(_a,_b,_c){if(_c!=null){this.date.setYear(_a,_b,_c);}else if(_b!=null){this.date.setYear(_a,_b);}else{this.date.setYear(_a);}};_pDate.getMonth=function(){return this.date.getMonth();};_pDate.setMonth=function(_a,_b){if(_b==null){this.date.setMonth(_a);}else{this.date.setMonth(_a,_b);}};_pDate.getDate=function(){return this.date.getDate();};_pDate.setDate=function(_a){this.date.setDate(_a);};_pDate.getDay=function(){return this.date.getDay();};_pDate.getHours=function(){return this.date.getHours();};_pDate.setHours=function(_a,_b,_c,_d){if(_d!=null){this.date.setHours(_a,_b,_c,_d);}else if(_c!=null){this.date.setHours(_a,_b,_c);}else if(_b!=null){this.date.setHours(_a,_b);}else{this.date.setHours(_a);}};_pDate.getMinutes=function(){return this.date.getMinutes();};_pDate.setMinutes=function(_a,_b,_c){if(_c!=null){this.date.setMinutes(_a,_b,_c);}else if(_b!=null){this.date.setMinutes(_a,_b);}else{this.date.setMinutes(_a);}};_pDate.getSeconds=function(){return this.date.getSeconds();};_pDate.setSeconds=function(_a,_b){if(_b!=null){this.date.setSeconds(_a,_b);}else{this.date.setSeconds(_a);}};_pDate.getMilliseconds=function(){return this.date.getMilliseconds();};_pDate.setMilliseconds=function(_a){this.date.setMilliseconds(_a);};_pDate.getTime=function(){return this.date.getTime();};_pDate.setTime=function(_a){this.date.setTime(_a);};_pDate.getTimezoneOffset=function(){return this.date.getTimezoneOffset();};_pDate.getUTCFullYear=function(){return this.date.getUTCFullYear();};_pDate.setUTCFullYear=function(_a,_b,_c){if(_c!=null){this.date.setUTCFullYear(_a,_b,_c);}else if(_b!=null){this.date.setUTCFullYear(_a,_b);}else{this.date.setUTCFullYear(_a);}};_pDate.getUTCMonth=function(){return this.date.getUTCMonth();};_pDate.setUTCMonth=function(_a,_b){if(_b==null){this.date.setUTCMonth(_a);}else{this.date.setUTCMonth(_a,_b);}};_pDate.getUTCDate=function(){return this.date.getUTCDate();};_pDate.setUTCDate=function(_a){this.date.setUTCDate(_a);};_pDate.getUTCDay=function(){return this.date.getUTCDay();};_pDate.getUTCHours=function(){return this.date.getUTCHours();};_pDate.setUTCHours=function(_a,_b,_c,_d){if(_d!=null){this.date.setUTCHours(_a,_b,_c,_d);}else if(_c!=null){this.date.setUTCHours(_a,_b,_c);}else if(_b!=null){this.date.setUTCHours(_a,_b);}else{this.date.setUTCHours(_a);}};_pDate.getUTCMinutes=function(){return this.date.getUTCMinutes();};_pDate.setUTCMinutes=function(_a,_b,_c){if(_c!=null){this.date.setUTCMinutes(_a,_b,_c);}else if(_b!=null){this.date.setUTCMinutes(_a,_b);}else{this.date.setUTCMinutes(_a);}};_pDate.getUTCSeconds=function(){return this.date.getUTCSeconds();};_pDate.setUTCSeconds=function(_a,_b){if(_b==null){this.date.setUTCSeconds(_a);}else{this.date.setUTCSeconds(_a,_b);}};_pDate.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds();};_pDate.setUTCMilliseconds=function(_a){this.date.setUTCMilliseconds(_a);};_pDate.parse=function(_a){return this.date.parse(_a);};_pDate.UTC=function(_a,_b,_c,_d,_e,_f,_g){return this.date.UTC(_a,_b,_c,_d,_e,_f,_g);};_pDate.valueOf=function(){return this.toString();};_pDate.toGMTString=function(){return this.date.toGMTString();};_pDate.toDateString=function(){return this.date.toDateString();};_pDate.toTimeString=function(){return this.date.toTimeString();};_pDate.toLocaleDateString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_format);return _c;};_pDate.toLocaleTimeString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.time_format);return _c;};_pDate.toString=function(){var _a=this.getFullYear();var _b=this.getMonth()+1;var _c=this.getDate();var _d=this.getHours();var _e=this.getMinutes();var _f=this.getSeconds();var _g=this.getMilliseconds();_a=_a!==null?this.toZeroDigitString(_a,4):"0000";_b=_b!==null?this.toZeroDigitString(_b,2):_b;_c=_c!==null?this.toZeroDigitString(_c,2):_c;_d=_d!==null?this.toZeroDigitString(_d,2):_d;_e=_e!==null?this.toZeroDigitString(_e,2):_e;_f=_f!==null?this.toZeroDigitString(_f,2):_f;_g=_g!==null?this.toZeroDigitString(_g,3):_g;if(this._timecheck){if(this._timeonly){return ""+_d+_e+_f+_g;}else{return ""+_a+_b+_c+_d+_e+_f+_g;}}else{return ""+_a+_b+_c;}};_pDate.toLocaleString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getLocaleFormatString(_a,_b.date_time_format);return _c;};_pDate.toUTCString=function(){return this.date.toUTCString();};_pDate.toZeroDigitString=function(_a,_b){var _c="";_a=_a.toString();var _d=_a.length;if(_d<_b){for(var _e=0;_e<_b-_d;_e++ ){_c+="0";}}return _c+_a;};_pDate.getLocaleFormatString=function(_a,_b,_c){var _d=nexacro.Locale.getLocaleInfo(_a);var _e=_b;_e=_e.replace(/%r/g,_d.time_format_ampm);_e=_e.replace(/%x/g,_d.date_format);_e=_e.replace(/%X/g,_d.time_format);_e=_e.replace(/%T/g,"%H:%M:%S");if(_c===true){_e=_e.replace(/%Y/g,"\u200E%Y");_e=_e.replace(/%y/g,"\u200E%y");_e=_e.replace(/%d/g,"\u200E%d");_e=_e.replace(/%e/g,"\u200E%e");}_e=_e.replace(/%a/g,this.toLocaleWeekDayString(_a,"short"));_e=_e.replace(/%A/g,this.toLocaleWeekDayString(_a,"long"));_e=_e.replace(/%b/g,this.toLocaleMonthString(_a,"short"));_e=_e.replace(/%B/g,this.toLocaleMonthString(_a,"long"));_e=_e.replace(/%p/g,this.toLocaleAMPMString(_a));_e=_e.replace(/%y/g,this.getYear());_e=_e.replace(/%Y/g,this.getFullYear());_e=_e.replace(/%n/g,this.getMonth()+1);_e=_e.replace(/%m/g,nexacro._toString(this.getMonth()+1).padLeft(2,"0"));_e=_e.replace(/%d/g,nexacro._toString(this.getDate()).padLeft(2,"0"));_e=_e.replace(/%e/g,this.getDate());_e=_e.replace(/%H/g,this.getHours());_e=_e.replace(/%l/g,this.getHours());_e=_e.replace(/%I/g,this.getHours());_e=_e.replace(/%M/g,this.getMinutes());_e=_e.replace(/%S/g,this.getSeconds());_e=_e.replace(/\\a/g,"a");_e=_e.replace(/\\m/g,"m");_e=_e.replace(/\\d/g,"d");return _e;};_pDate.toLocaleWeekDayString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getDay();var _e="";switch(_b){case "short":{_e=_c.weekday_names_short[_d];}break;case "narrow":{_e=_c.weekday_names_narrow[_d];}break;case "long":default:{_e=_c.weekday_names_long[_d];}break;}return _e;};_pDate.toLocaleMonthString=function(_a,_b){var _c=nexacro.Locale.getLocaleInfo(_a);var _d=this.getMonth();var _e="";switch(_b){case "short":{_e=_c.month_names_short[_d];}break;case "narrow":{_e=_c.month_names_narrow[_d];}break;case "long":default:{_e=_c.month_names_long[_d];}break;}return _e;};_pDate.toLocaleAMPMString=function(_a){var _b=nexacro.Locale.getLocaleInfo(_a);var _c=this.getHours();var _d="";if((_c%12)%2){_d=_b.ampm[1];if(!_d){_d="PM";}}else{_d=_b.ampm[0];if(!_d){_d="AM";}}return _d;};delete _pDate;nexacro.DataUtils={_undefined_type:0,_string_type:1,_int_type:2,_float_type:3,_bicdecimal_type:4,_dete_type:5,_time_type:6,_datetime_type:7,_bolb_type:8,_variant_type:9,_typecodes:{"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,"string":1,"int":2,"float":3,"double":3,"decimal":3,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typeint:{"string":1,"int":2,"float":3,"double":3,"decimal":4,"bigdecimal":4,"date":5,"time":6,"datetime":7,"blob":8,"variant":9},_typenames:["undefined","STRING","INT","DOUBLE","BIGDECIMAL","DATE","TIME","DATETIME","BLOB","VARIANT"],_default_sizes:[8,32,4,8,16,6,9,17,256,0],_default_values:[undefined,"",0,0.0,0.0,null,null,null,null,null],_boolean_values:{"false":false,"False":false,"FALSE":false,"no":false,"No":false,"NO":false,"n":false,"N":false,"off":false,"Off":false,"OFF":false,"0":false,"true":true,"True":true,"TRUE":true,"yes":true,"Yes":true,"YES":true,"y":true,"Y":true,"on":true,"On":true,"ON":true,"1":true},_init_date:new Date(0),_max_milliseconds:100000000*24*60*60*1000,_min_milliseconds: -100000000*24*60*60*1000,getDefaultValue:function(_a){return nexacro.DataUtils._default_values[_a.toLowerCase()];},getDefaultSize:function(_a){return nexacro.DataUtils._default_sizes[_a.toLowerCase()];},toTypeCode:function(_a){var _b=nexacro.DataUtils._typeint[_a.toLowerCase()];return (_b==null)?0:_b;},toTypeName:function(_a){var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?"undefined":_b;},findDataType:function(_a){if((typeof _a)=="object"){return (_a instanceof Date)?7:0;}var _b=nexacro.DataUtils._typenames[_a];return (_b==null)?0:_b;},isBinary:function(_a){return (_a==12);},toString:function(_a){if(_a==null){return _a;}if(_a instanceof Date){return nexacro.DataUtils._formatDateTime(_a);}return _a.toString();},toStringFromText:function(_a){return _a;},toStringFromXMLText:function(_a){return nexacro._decodeXml(_a);},toTextFromString:function(_a){return _a;},toXMLTextFromString:function(_a){return nexacro._encodeXml(_a);},toInt:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toIntFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return (_a|0);}},toTextFromInt:function(_a){return (_a==null)?undefined:_a+"";},toBoolean:function(_a){if(typeof _a=="string"){_a=this._boolean_values[_a];}return (_a?true:false);},toBooleanFromText:function(_a){_a=this._boolean_values[_a];return (_a?true:false);},toTextFromBoolean:function(_a){return (_a==null)?_a:_a+"";},toFloat:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toFloatFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromFloat:function(_a){return (_a==null)?undefined:(_a+"");},toNumber:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toNumberFromText:function(_a){if(_a==null){return undefined;}else if(_a===""||isNaN( +_a)){return "";}else{return ( +_a);}},toTextFromNumber:function(_a){return (_a==null)?undefined:(_a+"");},toDecimal:function(_a){if(_a==null||isNaN( +_a)){return undefined;}else if(_a===""){return "";}else if(_a instanceof Date){return new nexacro.Decimal(_a.getTime());}return (isFinite(_a))?new nexacro.Decimal(_a):"";},toDecimalFromText:function(_a){if(_a==null||isNaN( +_a)){return undefined;}else if(_a==""){return "";}else{return new nexacro.Decimal(_a);}},toTextFromDecimal:function(_a){return (_a==null)?undefined:_a.toString();},toDate:function(_a){if(_a===null){return null;}else if(_a==null){return undefined;}else if(_a===""){return "";}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"DATE");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToDate(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToDate(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"DATE");},toTextFromDate:function(_a){return (_a==null)?null:nexacro.DataUtils._formatDate(_a);},toTime:function(_a){if(_a==null||_a==""){return null;}if((typeof _a)=="string"){return nexacro.DataUtils._parseDateTime(_a,"TIME");}if(_a instanceof Date){return nexacro.DataUtils._datetimeToTime(_a);}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"TIME");},toTextFromTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatTime(_a);},toDateTime:function(_a){if(_a==null){return undefined;}if(_a===""){return "";}if((typeof _a)=="string"){if(isNaN( +_a)){return "";}return nexacro.DataUtils._parseDateTime(_a,"DATETIME");}if(_a instanceof Date){return _a;}if((typeof _a)=="number"&&nexacro.DataUtils._isValidTime(_a)){return nexacro.DataUtils._datetimeToTime(new Date(_a));}if(_a instanceof nexacro.Date){return _a;}return null;},toDateTimeFromText:function(_a){if(_a===undefined){return undefined;}return (_a=="")?null:nexacro.DataUtils._parseDateTime(_a,"DATETIME");},toTextFromDateTime:function(_a){if(_a===null){return null;}if(_a===undefined){return undefined;}if(_a==""){return "";}return nexacro.DataUtils._formatDateTime(_a);},toBlob:function(_a){return _a;},toBlobFromText:function(_a){return _a;},toTextFromBlob:function(_a){return _a;},toVariant:function(_a){return _a;},toVariantFromText:function(_a){return _a;},toTextFromVariant:function(_a){return (_a==null)?_a:(_a+"");},convert:function(_a,_b){switch(_b){case 1:return this.toString(_a);case 2:return this.toInt(_a);case 3:return this.toFloat(_a);case 4:return this.toDecimal(_a);case 5:return this.toDate(_a);case 6:return this.toTime(_a);case 7:return this.toDateTime(_a);case 8:return this.toBlob(_a);default:return this.toVariant(_a);}return "";},_datetimeToDate:function(_a){_a.setHours(0);_a.setMinutes(0);_a.setSeconds(0);_a.setMilliseconds(0);return _a;},_datetimeToTime:function(_a){_a.setFullYear(0);_a.setMonth(0);_a.setDate(1);return _a;},_parseDateTime:function(_a,_b){_a=_a.trim();_b=_b.toUpperCase();switch(_b){case "DATETIME":var _c=_a.substring(0,4);var _d=_a.substring(4,6);var _e=_a.substring(6,8);var _f=_a.substring(8,10);var _g=_a.substring(10,12);var _h=_a.substring(12,14);var _i=_a.substring(14,17);return nexacro.DataUtils._toDateTime(_c,_d,_e,_f,_g,_h,_i);case "DATE":var _c=_a.substring(0,4);var _d=_a.substring(4,6);var _e=_a.substring(6,8);return nexacro.DataUtils._toDate(_c,_d,_e);case "TIME":var _f=_a.substring(0,2);var _g=_a.substring(2,4);var _h=_a.substring(4,6);var _i=_a.substring(6,9);return nexacro.DataUtils._toTime(_f,_g,_h,_i);}return "";},_formatDate:function(_a){if(!_a){return undefined;}return this._leftPad(_a.getFullYear()*10000+(_a.getMonth()+1)*100+_a.getDate(),8);},_formatTime:function(_a){if(!_a){return undefined;}var _b="";var _c=_a.getMilliseconds();_b=this._leftPad(_c,3);return this._leftPad(_a.getHours()*10000+_a.getMinutes()*100+_a.getSeconds(),6)+_b;},_formatDateTime:function(_a){if(isNaN(_a)){return undefined;}var _b=this._leftPad(_a.getFullYear()*10000+(_a.getMonth()+1)*100+_a.getDate(),8);var _c="";var _d=_a.getMilliseconds();_c=this._leftPad(_d,3);var _e=this._leftPad(_a.getHours()*10000+_a.getMinutes()*100+_a.getSeconds(),6)+_c;return _b+_e;},_toDate:function(_a,_b,_c){var _d=new nexacro.Date(_a,_b-1,_c);return (( +_d)!=( +_d))?undefined:_d;},_toTime:function(_a,_b,_c,_d){var _e=new nexacro.Date(0,0,1,_a,_b,_c,_d);return (( +_e)!=( +_e))?undefined:_e;},_toDateTime:function(_a,_b,_c,_d,_e,_f,_g){var _h=new nexacro.Date(_a,_b-1,_c,_d,_e,_f,_g);return (( +_h)!=( +_h))?undefined:_h;},_isValidTime:function(_a){return (_a<=this._MAX_MILLISECONDS&&_a>=this._MIN_MILLISECONDS);},_leftPad:function(_a,_b){_a=_a+"";var _c=_b-_a.length;switch(_c){case 0:return _a;case 1:return "0"+_a;case 2:return "00"+_a;case 3:return "000"+_a;case 4:return "0000"+_a;case 5:return "00000"+_a;}return _a;}};nexacro.ExprParser=function(){this.output=[];this._itemidx= -1;this._itempos=0;this._prevtype= -1;};_pExprParser=nexacro._createPrototype(nexacro.Object,nexacro.ExprParser);nexacro.ExprParser.prototype=_pExprParser;_pExprParser.whitespace=nexacro._gen_arrmap("\n\r\t ".split(''));_pExprParser.wordchars=nexacro._gen_arrmap("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(''));_pExprParser.punct=nexacro._gen_arrmap("+ - * / % & ++ -- = += -= *= /= %= == === != <> !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::".split(' '));_pExprParser.line_starters=nexacro._gen_arrmap("continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(','));_pExprParser.regexp_hanja=/[\u2E80-\u2EFF]|[\u31C0-\u31EF]|[\u3200-\u32FF]|[\u3400-\u4DBF]|[\u4E00-\u9FBF]|[\uF900-\uFAFF]/;_pExprParser.regexp_nipon=/[\u3040-\u309F]|[\u30A0-\u30FF]|[\u31F0-\u31FF]|[\uFF01-\uFF5E]|[\uFFE0-\uFFE6]|[\uFF05]|[\u3000-\u3002]|[\u300C]|[\u300D]|[\u309B]|[\u309C]|[\u2018-\u201F]/;_pExprParser.regexp_hangul=/[ㄱ-ㅎ]|[ㅏ-ㅣ]|[가-힣]/;_pExprParser.regexp_num=/^[0-9]+[Ee]$/;_pExprParser.is_ternary_op=function(){var _a=0,_b=0;var _c=this.output;var _d=_c.length-1;function is_ternary_op_loop(){if(_d>=0){switch(_c[_d]){case ':':if(_a===0){_b++ ;}break;case '?':if(_a===0){if(_b===0){return true;}else{_b-- ;}}break;case '{':if(_a===0){return false;}_a-- ;break;case '(':case '[':_a-- ;break;case ')':case ']':case '}':_a++ ;break;}_d-- ;return false;}return true;}while(true){if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}if(is_ternary_op_loop()){break;}}};_pExprParser.append=function(_a,_b){var _c=this.output;var _d=_c.length;if(_b==2&&this._prevtype==2){_c[_d-1].tok+=_a;return;}if(_b==10){if(this._prevtype==2){_c[_d-1].tok+=_a;return;}else if(_d==0){_c[_d]={type:2,tok:_a,pos: -1};this._prevtype=1;return;}}else if(_b==4){this._itempos=0;}else if(_b==5&&this._prevtype==0){_c[_d-1].type=1;this._itempos=0;}var _e={type:_b,tok:_a,pos:this._itempos};_c[_d]=_e;if(_b==10&&this._prevtype==0){if(this._itempos>=0){this._itempos++ ;}}else if(_b==5||_b==7||_b==9){this._itempos=0;}else if(_b==6||_b==8){this._itempos= -1;}this._prevtype=_b;};_pExprParser.tokenizeExpr=function(_a){this.input=_a;var _b=this.output;var _c=true;if(_a&&_a.indexOf(".match")> -1){_c=false;}var _d="";var _e="";var _f="";var _g= -1;var _h=_a+"";var _i=_h.length;var _j=0;if(_j>=_i){return 0;}while(true){if(_j>=_i){return _b.length;}var _k;var _l=_h.charAt(_j);_j++ ;if(_c){while(_l in this.whitespace){if(_j>=_i){return _b.length;}_l=_h.charAt(_j);_j++ ;}}var _m=_c?false:_k in this.whitespace;if(_l in this.wordchars||_m||this.regexp_hangul.test(_l)||this.regexp_hanja.test(_l)||this.regexp_nipon.test(_l)){if(_j<_i){_k=_h.charAt(_j);while(_k in this.wordchars||_m||this.regexp_hangul.test(_k)||this.regexp_hanja.test(_k)||this.regexp_nipon.test(_k)){_l+=_k;_j++ ;if(_j>=_i){break;}_k=_h.charAt(_j);}}if(_j<_i&&this.regexp_num.test(_l)&&(_k==='-'||_k==='+')){var _n=_h.charAt(_j);_j+=1;this.parse_pos=_j;_k=_h.charAt(_j);while(_k in this.wordchars||_m||this.regexp_hangul.test(_k)||this.regexp_hanja.test(_k)||this.regexp_nipon.test(_k)){_l+=_k;_j++ ;if(_j>=_i){break;}_k=_h.charAt(_j);}this.append(_l,3);continue;}if(_l=='in'){this.append(_l,4);}else{var _o=parseFloat(_l);if(isFinite(_o)){this.append(_l,2);}else{this.append(_l,0);}}continue;}if(_l=='('){this.append(_l,5);continue;}if(_l==')'){this.append(_l,6);continue;}if(_l=='['){this.append(_l,7);continue;}if(_l==']'){this.append(_l,8);continue;}if(_l==','){this.append(_l,9);continue;}if(_l=='{'){this.append(_l,10);continue;}if(_l=='}'){this.append(_l,11);continue;}if(_l==';'){this.append(_l,12);continue;}if(_l=="\\"){_l+=_h.charAt(_j);_j++ ;this.append(_l,4);continue;}if(_l=="'"||_l=='"'){while(_j<_i){var _p=_l;var _q=false;_k=_h.charAt(_j);_l+=_k;_j++ ;while(_q||_k!=_p){if(!_q){_q=(_k=='\\');}else{_q=false;}_k=_h.charAt(_j);_l+=_k;_j++ ;if(_j>=_i){break;}}if(_k==_p){this.append(_l,3);break;}return  -1;}continue;}if(_l=='/'){_k=_h.charAt(_j);if(_k=='*'){_l+=_k;_j++ ;while(_j<_i){_k=_h.charAt(_j);_l+=_k;_j++ ;if(_k=='*'){if(_j>=_i){break;}_k=_h.charAt(_j);_l+=_k;_j++ ;if(_k=='/'){continue;}}}return  -1;}if(_k=='/'){_l+=_k;_j++ ;_k=_h.charAt(_j);while(_j<_i){_k=_h.charAt(_j);if(_k=="\r"||_k=="\n"){_j+=1;continue;}_l+=_k;_j++ ;}continue;}if(nexacro._indexOf([ -1,4,5,7,9],_b._prevtype)>=0){while(_j<_i){var _q=false;var _r=false;_k=_h.charAt(_j);_l+=_k;_j++ ;while(_q||_r||_k!='/'){if(!_q){_q=(_k=='\\');if(_k=='['){_r=true;}else if(_k==']'){_r=false;}}else{_q=false;}_k=_h.charAt(_j);_l+=_k;_j++ ;}if(_k!='/'){return  -1;}_k=_h.charAt(_j);while(_j<_i&&(_k in this.wordchars||this.regexp_hangul.test(_l)||this.regexp_hanja.test(_l)||this.regexp_nipon.test(_l))){_l+=_k;_j++ ;_k=_h.charAt(_j);}this.append(_l,3);break;}continue;}}if(_l in this.punct){while(_j<_i){_k=_h.charAt(_j);if((_l+_k) in this.punct){_l+=_k;_j++ ;}else{break;}}if(_l.charAt(0)=='='){if(_l!='=='&&_l!='==='){if(_j>=_i){return  -1;}}}this.append(_l,4);continue;}if(_l=='.'){this.append(_l,10);continue;}if(_l==' '){this.append(_l,11);continue;}return  -1;}};_pExprParser.makeSubExpr=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_e.length;var _g=_a.colinfos;var _h=_a._constVars;var _i;var _j=_b;function makeSubExpr_loop(_k){if(_j<_c){var _l=_e[_j];if(_j!=0&&_l.type==4){_d+=_l.tok;}else{var _m="";if(_l.type==0&&_l.pos==0){var _i=_l.tok;if((_g!=undefined&&_i in _g)||(_h!=undefined&&_i in _h)){if(_j<(_c-1)&&_e[_j+1].type==7){var _n=0;var _o;for(_o=_j+2;_o<_c;_o++ ){if(_e[_o].type==7){bcbt++ ;}if(_e[_o].type==8){if(_n==0){break;}else{_n-- ;}}}if(_o<_c&&_o>(_j+2)){var _p=_k.makeSubExpr(_a,_j+2,_o);if(_p!=null){_d+="dataset.getColumn("+_p+", '"+_i+"')";_j=_o;}else{return undefined;}}else{return undefined;}}else{_d+="dataset.getColumn(rowidx, '"+_i+"')";}}else if(_i=="new"){_d+=_i+" ";}else{_d+=_i;}}else{_d+=_l.tok;}}_j++ ;return false;}return true;}while(true){if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}if(makeSubExpr_loop(this)){break;}}return _d;};_pExprParser.makeExpr=function(_a,_b){var _c=this.tokenizeExpr(_b);var _d=this.makeSubExpr(_a,0,this.output.length);return _d;};_pExprParser.makeSubEval=function(_a,_b,_c){var _d="";var _e=this.output;var _f=_e.length;var _g;var _h=_b;function makeSubEval_loop(){if(_h<_c){var _i=_e[_h];if(_h!=0&&_i.type==4){_d+=' ';_d+=_i.tok;_d+=' ';}else{var _j="";if(_i.type==0&&_i.pos==0){var _g=_i.tok;if(_g=="var"){}else{_d+=_g;}}else if(_i.type==1&&_i.pos==0){var _g=_i.tok;_d+=_g;}else{_d+=_i.tok;}}_h++ ;return false;}return true;}while(true){if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}if(makeSubEval_loop()){break;}}return _d;};_pExprParser.makeEval=function(_a,_b){var _c=this.tokenizeExpr(_b);var _d=this.makeSubEval(_a,0,this.output.length);return _d;};delete _pExprParser;nexacro.VariableList=function(){nexacro.Collection.call(this);};var _pVariableList=nexacro._createPrototype(nexacro.Collection,nexacro.VariableList);nexacro.VariableList.prototype=_pVariableList;_pVariableList._type_name="VariableList";_pVariableList._updateID=function(_a,_b){var _c=this[_a];if(_c!=_b){_c=_b;this[_a]=_c;}return this.update_id(_a,_b);};_pVariableList.deleteItem=function(_a){return this.delete_item(_a);};delete _pVariableList;nexacro.DSColumnInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=_a;this.name=_a;this.type=_b;this.ntype=_c;this.size=_d;this.prop=_e;this.sumtext=_f;this._index=_g;switch(_c){case 1:this._toText=nexacro.DataUtils.toTextFromString;this._fromText=nexacro.DataUtils.toStringFromText;this._fromVal=nexacro.DataUtils.toString;this._toXMLText=nexacro.DataUtils.toXMLTextFromString;this._fromXMLText=nexacro.DataUtils.toStringFromXMLText;break;case 2:this._toText=nexacro.DataUtils.toTextFromInt;this._fromText=nexacro.DataUtils.toIntFromText;this._fromVal=nexacro.DataUtils.toInt;this._toXMLText=nexacro.DataUtils.toTextFromInt;this._fromXMLText=nexacro.DataUtils.toIntFromText;break;case 3:this._toText=nexacro.DataUtils.toTextFromFloat;this._fromText=nexacro.DataUtils.toFloatFromText;this._fromVal=nexacro.DataUtils.toFloat;this._toXMLText=nexacro.DataUtils.toTextFromFloat;this._fromXMLText=nexacro.DataUtils.toFloatFromText;break;case 4:this._toText=nexacro.DataUtils.toTextFromDecimal;this._fromText=nexacro.DataUtils.toDecimalFromText;this._fromVal=nexacro.DataUtils.toDecimal;this._toXMLText=nexacro.DataUtils.toTextFromDecimal;this._fromXMLText=nexacro.DataUtils.toDecimalFromText;break;case 5:this._toText=nexacro.DataUtils.toTextFromDate;this._fromText=nexacro.DataUtils.toDateFromText;this._fromVal=nexacro.DataUtils.toDate;this._toXMLText=nexacro.DataUtils.toTextFromDate;this._fromXMLText=nexacro.DataUtils.toDateFromText;break;case 6:this._toText=nexacro.DataUtils.toTextFromTime;this._fromText=nexacro.DataUtils.toTimeFromText;this._fromVal=nexacro.DataUtils.toTime;this._toXMLText=nexacro.DataUtils.toTextFromTime;this._fromXMLText=nexacro.DataUtils.toTimeFromText;break;case 7:this._toText=nexacro.DataUtils.toTextFromDateTime;this._fromText=nexacro.DataUtils.toDateTimeFromText;this._fromVal=nexacro.DataUtils.toDateTime;this._toXMLText=nexacro.DataUtils.toTextFromDateTime;this._fromXMLText=nexacro.DataUtils.toDateTimeFromText;break;case 8:this._toText=nexacro.DataUtils.toTextFromBlob;this._fromText=nexacro.DataUtils.toBlobFromText;this._fromVal=nexacro.DataUtils.toBlob;this._toXMLText=nexacro.DataUtils.toTextFromBlob;this._fromXMLText=nexacro.DataUtils.toBlobFromText;break;default:this._toText=nexacro.DataUtils.toTextFromvariant;this._fromText=nexacro.DataUtils.toVariantFromText;this._fromVal=nexacro.DataUtils.toVariant;this._toXMLText=nexacro.DataUtils.toTextFromvariant;this._fromXMLText=nexacro.DataUtils.toVariantFromText;break;}};var _pDSColumnInfo=nexacro._createPrototype(nexacro.Object,nexacro.DSColumnInfo);nexacro.DSColumnInfo.prototype=_pDSColumnInfo;_pDSColumnInfo._type_name="DSColumnInfo";_pDSColumnInfo.set_size=function(_a){_a=parseInt(_a)|0;if(this.size!=_a){if(!(( +_a)!=( +_a))){this.size=_a;}}};_pDSColumnInfo.set_type=function(_a){_a=nexacro._toString(_a);if(this.type!=_a){this.type=_a;this.ntype=nexacro.DataUtils._typeint[_a.toLowerCase()];}};_pDSColumnInfo.set_prop=function(_a){_a=nexacro._toString(_a);if(this.prop!=_a){this.prop=_a;}};_pDSColumnInfo.set_sumtext=function(_a){_a=nexacro._toString(_a);if(this.sumtext!=_a){this.sumtext=_a;}};delete _pDSColumnInfo;nexacro.DSColumnInfoList=function(){nexacro.Collection.apply(this);};var _pDSColumnInfoList=nexacro._createPrototype(nexacro.Collection,nexacro.DSColumnInfoList);nexacro.DSColumnInfoList.prototype=_pDSColumnInfoList;_pDSColumnInfoList._type_name="DSColumnInfoList";_pDSColumnInfoList._updateID=function(_a,_b){var _c=this[_a];if(_c.id!=_b){_c.set_id(_b);this[_a]=_c;}return this.update_id(_a,_b);};_pDSColumnInfoList.deleteItem=function(_a){return this.delete_item(_a);};delete _pDSColumnInfoList;nexacro.DSColChangeEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h){this.id=this.eventid=_b||"oncolumnchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.col=_d;this.colidx=_e;this.columnid=_f;this.oldvalue=_g;this.newvalue=_h;};var _pDSColChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSColChangeEventInfo);nexacro.DSColChangeEventInfo.prototype=_pDSColChangeEventInfo;_pDSColChangeEventInfo._type_name="DSColChangeEventInfo";delete _pDSColChangeEventInfo;nexacro.DSLoadEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onload";this.fromobject=this.fromreferenceobject=_a;this.errorcode=_c;this.errormsg=_d;this.reason=_e;};var _pDSLoadEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSLoadEventInfo);nexacro.DSLoadEventInfo.prototype=_pDSLoadEventInfo;_pDSLoadEventInfo._type_name="DSLoadEventInfo";delete _pDSLoadEventInfo;nexacro.DSRowPosChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowposchanged";this.fromobject=this.fromreferenceobject=_a;this.newrow=_d;this.oldrow=_c;this.reason=_e;};var _pDSRowPosChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowPosChangeEventInfo);nexacro.DSRowPosChangeEventInfo.prototype=_pDSRowPosChangeEventInfo;_pDSRowPosChangeEventInfo._type_name="DSRowPosChangeEventInfo";delete _pDSRowPosChangeEventInfo;nexacro.DSRowsetChangeEventInfo=function(_a,_b,_c,_d,_e){this.id=this.eventid=_b||"onrowsetchanged";this.fromobject=this.fromreferenceobject=_a;this.row=_c;this.count=_d;this.reason=_e;};var _pDSRowsetChangeEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.DSRowsetChangeEventInfo);nexacro.DSRowsetChangeEventInfo.prototype=_pDSRowsetChangeEventInfo;_pDSRowsetChangeEventInfo._type_name="DSRowsetChangeEventInfo";delete _pDSRowsetChangeEventInfo;nexacro.Dataset=function(_a,_b){this.id=this.name=_a;if(_b){this.parent=_b;}this.colinfos=new nexacro.DSColumnInfoList();this.colcount=0;this.constcount=0;this.rowcount=0;this.rowposition= -1;this.loadstatus=false;this.enableevent=true;this.updatecontrol=true;this.keystring="";this.filterstr="";this.loadkeymode="keep";this.loadfiltermode="keep";this.reversesubsum=false;this.arguments="";this.firefirstcount=0;this.firenextcount=0;this.useclientlayout=false;this._event_list={"onload":1,"cancolumnchange":1,"oncolumnchanged":1,"onvaluechanged":1,"canrowposchange":1,"onrowposchanged":1,"onrowsetchanged":1};this._constVars=new nexacro.VariableList();this._constVars2=new nexacro.VariableList();this._rawRecords=[];this._viewRecords=this._rawRecords;this._deletedRecords=[];this._onworkcompleted=new nexacro.EventListener("onworkcompleted");this._is_loaded=false;this._keycols=[];this._keycols.max_keylevel=0;this._exprFuncs={};this._defaultKeyStr="";this._defaultFilterStr="";this._eventstat=true;this._deleteRows=[];};var _pDataset=nexacro._createPrototype(nexacro.EventSinkObject,nexacro.Dataset);nexacro.Dataset.prototype=_pDataset;_pDataset._type_name="Dataset";_pDataset._isData=true;nexacro.Dataset.LOADMODE_KEEP=0;nexacro.Dataset.LOADMODE_RESET=1;nexacro.Dataset._LOADMODE_ENUM={"keep":0,"reset":1};_pDataset.on_created=function(){};_pDataset.destroy=function(){if(this.colinfos){this.colinfos.clear();delete this.colinfos;this.colinfos=null;}if(this._constVars){this._constVars.clear();delete this._constVars;this._constVars=null;}if(this._constVars2){this._constVars2.clear();delete this._constVars2;this._constVars2=null;}if(this._onworkcompleted){this._onworkcompleted._clearAll();delete this._onworkcompleted;this._onworkcompleted=null;}this._rawRecords=null;this._viewRecords=null;this._deletedRecords=null;this._keycols=null;this._deleteRows=null;this._event_list=null;this._exprFuncs=null;nexacro.EventSinkObject.prototype.destroy.call(this);};_pDataset.set_name=function(_a){this.id=this.name=_a;};_pDataset.set_enableevent=function(_a){_a=nexacro._toBoolean(_a);if(this.enableevent!=_a){this.enableevent=_a;this._eventstat=(_a&&!this.loadstatus);if(_a){this.on_fire_onrowsetchanged( -1, -1,41);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _b=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_b);}}}};_pDataset.set_updatecontrol=function(_a){this.updatecontrol=nexacro._toBoolean(_a);};_pDataset.set_rowposition=function(_a){_a=parseInt(_a,10)|0;if(isFinite(_a)){this._setRowPosition(_a,undefined,51);}return this.rowposition;};_pDataset.colinfos=null;_pDataset.set_keystring=function(_a){_a=_a?_a.toString():"";this.keystring=_a;this.on_apply_keystring();return this.keystring;};_pDataset.on_apply_keystring=function(){this.updateSortGroup(this.keystring,true);};_pDataset.set_filterstr=function(_a){var _b=_a.toString();if(_b!=this.filterstr){this.filter(_b);}return this.filterstr;};_pDataset.set_loadkeymode=function(_a){if(this.loadkeymode!=_a){this.loadkeymode=_a;}};_pDataset.set_loadfiltermode=function(_a){if(this.loadfiltermode!=_a){this.loadfiltermode=_a;}};_pDataset.set_reversesubsum=function(_a){_a=nexacro._toBoolean(_a);if(this.reversesubsum!=_a){this.reversesubsum=_a;this.on_apply_reversesubsum();}};_pDataset.on_apply_reversesubsum=function(){if(this.keystring){this.updateSortGroup(this.keystring);}};_pDataset.set_useclientlayout=function(_a){if(_a==false||_a==0||_a=="false"){this.useclientlayout=false;}else{this.useclientlayout=true;}};_pDataset.on_fire_onload=function(_a,_b,_c){var _d=this.onload;if(_d&&_d._has_handlers){var _e=new nexacro.DSLoadEventInfo(this,"onload",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_onrowsetchanged=function(_a,_b,_c){var _d=this.onrowsetchanged;if(_d&&_d._has_handlers){var _e=new nexacro.DSRowsetChangeEventInfo(this,"onrowsetchanged",_a,_b,_c);_d._fireEvent(this,_e);}};_pDataset.on_fire_canrowposchange=function(_a){var _b=this.canrowposchange;if(_b&&_b._has_handlers){_a.eventid="canrowposchange";var _c=_b._fireCheckEvent(this,_a);if(_c===undefined){_c=true;}_c=nexacro._toBoolean(_c);if(_c){this.rowposition=_a.newrow;}return _c;}return true;};_pDataset.on_fire_onrowposchanged=function(_a){var _b=this.onrowposchanged;if(_b&&_b._has_handlers){_a.eventid="onrowposchanged";_b._fireEvent(this,_a);}};_pDataset.on_fire_cancolumnchange=function(_a){var _b=this.cancolumnchange;if(_b&&_b._has_handlers){if(!_b._firestat){_a.eventid="cancolumnchange";_b._firestat=true;var _c=_b._fireCheckEvent(this,_a);_b._firestat=false;return (_c==undefined)?true:_c;}else if(_b._firestat){}else{return false;}}return true;};_pDataset.on_fire_oncolumnchanged=function(_a){var _b=this.oncolumnchanged;if(_b&&_b._has_handlers){if(!_b._firestat){_b._firestat=true;_a.eventid="oncolumnchanged";_b._fireEvent(this,_a);_b._firestat=false;}else{_a.eventid="oncolumnchanged";_b._fireEvent(this,_a,true);}}};_pDataset.on_fire_onvaluechanged=function(_a){var _b=this.onvaluechanged;if(_b&&_b._has_handlers){_a.eventid="onvaluechanged";_b._fireEvent(this,_a);}};_pDataset.clear=function(){var _a=this.rowposition;var _b=this.rowcount;this._clearAll();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,24);if(_a>=0&&_a==this.rowposition){this._forcesetRowPosition( -1,51);}}else{this.rowposition= -1;}return _b;};_pDataset.getColCount=function(){return this.colcount;};_pDataset.getConstCount=function(){return this._constVars.length;};_pDataset.getRowCount=function(){return this._viewRecords.length;};_pDataset.getDeletedRowCount=function(){return this._deletedRecords.length;};_pDataset.getDeletedRowset=function(){return this._deletedRecords;};_pDataset.addConstColumn=function(_a,_b){var _c=this._addConstColumn(_a,_b);if(_c>=0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}return _c;};_pDataset.addColumn=function(_a,_b,_c){var _d=this._addColumn(_a,_b,_c);if(_d>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _d;};_pDataset.addColumnInfo=function(_a,_b){var _c=this._addColumnInfo(_a,_b);if(_c>=0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _c;};_pDataset.appendColList=function(_a){var _b=this._appendColList(_a);if(_b>0){this._clearAllExprs();if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);}}return _b;};_pDataset.deleteColumn=function(_a){var _b=this._deleteColumn(_a);if(_b){this._clearAllExprs();var _c=this._constVars.length+this.colinfos.length;var _d=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);if(_c==0&&_d>=0){this._forcesetRowPosition( -1,51);}}else if(_c==0&&_d>=0){this.rowposition= -1;}}return _b;};_pDataset.getColID=function(_a){if(( +_a)!=( +_a)){_a=0;}if(_a>=this.colinfos.length){return this._constVars.get_id(_a-this.colinfos.length);}else{return this.colinfos.get_id(_a);}};_pDataset.getConstColID=function(_a){if(( +_a)!=( +_a)){_a=0;}return this._constVars.get_id(_a);};_pDataset.getColumnInfo=function(_a){if(typeof (_a)=="string"){if(this.colinfos.indexOf(_a)> -1){return this.colinfos[_a];}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}return (this.colinfos[_a]==undefined)?null:this.colinfos[_a];}return null;};_pDataset.updateColID=function(_a,_b){if(typeof (_a)=="string"){if(this.colinfos.indexOf(_a)> -1){_a=this.colinfos.indexOf(_a);}else if(this._constVars.indexOf(_a)> -1){return this.updateConstColID(_a,_b);}else{return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(!this.colinfos[_a]){var _c=_a-this.colinfos.length;if(this._constVars[_c]){return this.updateConstColID(_c,_b);}else{return  -1;}}}var _d=this.colinfos._updateID(_a,_b);if(_d&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);var _e=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_e);return _a;}return  -1;};_pDataset.updateConstColID=function(_a,_b){if(typeof (_a)=="string"){if(this._constVars.indexOf(_a)> -1){_a=this._constVars.indexOf(_a);}else{return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(!this._constVars[_a]){return  -1;}}var _c=this._constVars._updateID(_a,_b);if(_c&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,34);var _d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);return _a;}return  -1;};_pDataset.addRow=function(){if(this.colinfos.length<=0){return  -1;}var _a=this.updatecontrol?2:1;var _b=this._appendRow(_a);if(_b>=0){var _c=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged(_b,1,12);}if(_c==this.rowposition){this._setRowPosition(_b,undefined,51);}}return _b;};_pDataset.insertRow=function(_a){if(_a<0){return _a;}if(isNaN(_a)){_a=0;}var _b=this.updatecontrol?2:1;var _c=this._insertRow(_a,_b);if(_c>=0&&this._eventstat){var _d=this.rowposition;this.on_fire_onrowsetchanged(_c,1,12);if(_d==this.rowposition){this._setRowPosition(_c,undefined,51,true);}}return _c;};_pDataset.deleteRow=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}var _b=this._deleteRow(_a);if(_b>=0){if(this._eventstat){var _c=this.rowposition;this.on_fire_onrowsetchanged(_b,1,20);var _d=this.rowposition;if(_c==_d){if(_d>_b){this._setRowPosition(_d-1,undefined,52);}else if(_d==_b){if(this.rowcount==0){this._forcesetRowPosition( -1,51);}else{if(_d==this.rowcount){this._forcesetRowPosition(this.rowcount-1,51);}else{this._setRowPosition(_d,undefined,53,true);}}}}}else{var _c=this.rowposition;var _d=this.rowposition;if(_d>_b){this.rowposition=_d-1;}else if(_d==_b){if(this.rowcount==0){this.rowposition= -1;}else{if(_d==this.rowcount){this.rowposition=this.rowcount-1;}}}}}return _b>=0?true:false;};_pDataset.moveRow=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return  -1;}}if(( +_b)!=( +_b)){_b=0;}else{if(_b<0){return  -1;}}var _c=this._moveRow(_a,_b);if(_c>=0&&this._eventstat){var _d=this.rowposition;var _e,_f;if(_a>_b){_e=_b;_f=(_a-_b+1);}else{_e=_a;_f=(_b-_a+1);}this.on_fire_onrowsetchanged(_e,_f,32);if(_d==this.rowposition){if(_d==_a){this._setRowPosition(_b,undefined,52);}else if(_a>_b&&_d>=_b&&_d<_a){this._setRowPosition(_d+1,undefined,52);}else if(_a<_b&&_d>_a&&_d<_b){this._setRowPosition(_d-1,undefined,52);}}}return _c;};_pDataset.exchangeRow=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}if(( +_b)!=( +_b)){_b=0;}else{if(_b<0||_b>=this.rowcount){return false;}}if(this._exchangeRow(_a,_b)&&this._eventstat){var _c=this.rowposition;this.on_fire_onrowsetchanged(_a,1,33);this.on_fire_onrowsetchanged(_b,1,33);if(_c==this.rowposition){if(_c==_a){this._setRowPosition(_b,undefined,52);}else if(_c==_b){this._setRowPosition(_a,undefined,52);}}return true;}return false;};_pDataset.deleteAll=function(){var _a=this.rowposition;var _b=this._deleteAll();if(_b>0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,22);if(_a==this.rowposition){this._forcesetRowPosition( -1,51);}}return _b;};_pDataset.clearData=function(){var _a=this.rowposition;var _b=this._clearData();if(_b>0&&this._eventstat){this.on_fire_onrowsetchanged( -1, -1,23);if(_a>=0&&_a==this.rowposition){this._forcesetRowPosition( -1,51);}}else{this.rowposition= -1;}return _b;};_pDataset.deleteMultiRows=function(_a){if(typeof (_a)!="object"){return 0;}var _b=this.rowposition;var _c=this._viewRecords[_b];_a.sort(function(_g,_h){return _g-_h;});var _d=this._deleteMultiRows(_a);if(_d>0){this.rowcount-=_d;var _e= -1;if(_c!=null){_e=nexacro._indexOf(this._viewRecords,_c);}if(this._eventstat){this._deleteRows=_a;this.on_fire_onrowsetchanged( -1,_d,20);if(_b==this.rowposition){if(_b>_e){if(this.rowcount<=0){this._forcesetRowPosition( -1,51);}else if(_e== -1){if(_b<this.rowcount){this._setRowPosition(_b,undefined,53);if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}else{this._forcesetRowPosition(this.rowcount-1,51);}}else{this._setRowPosition(_e,undefined,52);}}}}else{this.rowposition=_e;}}return _d;};_pDataset.filterRow=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return;}}var _b=this.rowposition;var _c=this._filterRow(_a);if(_c){if(this._eventstat){this.on_fire_onrowsetchanged(_a,1,31);if(_b==this.rowposition){if(_b>_a){this._setRowPosition(_b-1,undefined,52);}else if(_b==_a){if(this.rowcount==0){this._forcesetRowPosition( -1,51);}else{if(_b==this.rowcount){this._forcesetRowPosition(this.rowcount-1,51);}else{this._setRowPosition(_b,undefined,53);}}}}}else{if(_b>_a){this.rowposition=(_b-1);}else if(_b==_a){if(_b>this.rowcount){_b=this.rowcount-1;}this.rowposition=_b;}}}};_pDataset.getRowType=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;return _b[_a]._rtype;};_pDataset.getRowLevel=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;return _b[_a]._level;};_pDataset.getGroupRangeStart=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return  -1;}}var _b=this._viewRecords;if(_b[_a]._rtype==16){return _b[_a]._grpstart;}else{return _a;}};_pDataset.getGroupRangeCount=function(_a){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return 0;}}var _b=this._viewRecords;if(_b[_a]._rtype==16){return _b[_a]._grpend-_b[_a]._grpstart;}else{return 1;}};_pDataset.setRowType=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}else{if(_a<0||_a>=this.rowcount){return false;}}var _c=this._viewRecords;if(_b==null||this.updatecontrol==true){return false;}var _d= -1;switch(_b){case 0:case 1:case 2:case 4:case 8:case 16:_d=_b;break;default:switch(_b.toString().toUpperCase()){case 'E':_d=0;break;case 'I':_d=2;break;case 'U':_d=4;break;case 'D':_d=8;break;case 'G':_d=16;break;default:_d=1;break;}}if(_d== -1){return false;}if(_c[_a]._rtype!=_d){if(_c[_a]._rtype==4){if(_c[_a]._orgrow){delete _c[_a]["_orgrow"];}}if(_d==4){var _e=[];var _f=_c[_a].length;for(var _g=0;_g<_f;_g++ ){_e[_g]=_c[_a][_g];}_c[_a]._orgrow=_e;}}_c[_a]._rtype=_d;if(this.enableevent){this.on_fire_onrowsetchanged(_a,1,40);}return true;};_pDataset.getConstColumn=function(_a){if(typeof (_a)=="string"){if(this._constVars.indexOf(_a)> -1){return this._constVars.get_item(_a);}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}return this._constVars.get_item(_a);}};_pDataset.getColumn=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}var _c=_a;var _d;if(typeof (_b)!="string"){if(( +_b)!=( +_b)||_b==undefined){_b=0;}_d=this.colinfos[_b];if(_d==null){if(typeof (_b)=="number"){_b-=this.colinfos.length;}return this._constVars[_b];}}else{if(this.colinfos.indexOf(_b)> -1){_d=this.colinfos[_b];}else if(this._constVars.indexOf(_b)> -1){return this._constVars[_b];}else{return;}}var _e=this._viewRecords[_c];if(_e==null){return undefined;}var _f=_e[_d._index];if((_d.type=="datetime"||_d.type=="DATETIME")&&_f){return _f;}return _e[_d._index];};_pDataset.getColumnSet=function(_a,_b,_c){return null;};_pDataset.getOrgColumn=function(_a,_b){if(( +_a)!=( +_a)){_a=0;}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){}else if(this._constVars.indexOf(_b)> -1){return this._constVars[_b];}else{return;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}}var _c=this.colinfos[_b];if(_c==undefined){return;}var _d=this._viewRecords[_a];if(_d==null){return undefined;}return _d._orgrow?_d._orgrow[_c._index]:_d[_c._index];};_pDataset.getDeletedColumn=function(_a,_b){_a=parseInt(_a,10)|0;if(( +_a)!=( +_a)){_a=0;}if(_a<0||_a>=this._deletedRecords.length){return undefined;}_a+=1;var _c;var _d=this._rawRecords.length;var _e;for(_c=0;_c<_d&&_a>0;_c++ ){if(this._rawRecords[_c]._rtype==8){_e=this._rawRecords[_c];_a-- ;}}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){_b=this.colinfos.indexOf(_b);}else{return;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}}if(_e==null){return undefined;}return _e[_b];};_pDataset.setConstColumn=function(_a,_b){var _c=this._constVars;var _d;var _e=_c.indexOf(_a);if(typeof (_a)=="string"){if(_e<0||_e==undefined){return false;}else{_d=_e;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a<0||_a>=_c.length){return false;}else{_d=_a;}}if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _f=_c[_d];if(_b==_f){return false;}var _g=_c.get_id(_d);var _h=new nexacro.DSColChangeEventInfo(this,"cancolumnchange", -1,_d+this.colinfos.length, -1,_g,_f,_b);if(this.on_fire_cancolumnchange(_h)){_b=_h.newvalue;if(_b!=_f){_c.set_item(_d,_b);this.on_fire_oncolumnchanged(_h);this.on_fire_onvaluechanged(_h);return true;}}return false;}else{_c.set_item(_d,_b);return true;}};_pDataset.setColumn=function(_a,_b,_c){return this._setColumn(_a,_b,_c,null);};_pDataset._setColumn=function(_a,_b,_c,_d){var _e=_a;if(( +_e)!=( +_e)){_e=0;}else{if(_e<0||_e>=this.rowcount){return false;}}if(typeof (_b)=="string"){if(this.colinfos.indexOf(_b)> -1){_b=this.colinfos.indexOf(_b);}else if(this._constVars.indexOf(_b)> -1){return this.setConstColumn(_b,_c);}else{return false;}}else{if(( +_b)!=( +_b)||_b==undefined){_b=0;}if(!this.colinfos[_b]){var _f=_b-this.colinfos.length;if(this._constVars[_f]){return this.setConstColumn(_f,_c);}else{return false;}}}var _g=this.colinfos[_b];_g._index=_b;var _h=this._viewRecords[_e];if(_h!=null){if(this._eventstat&&((this.cancolumnchange&&this.cancolumnchange._has_handlers)||(this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _i=_h[_g._index];var _j=_g._fromVal(_c);var _k=this._getColumnType(_b);if(_i===_j){return false;}if(_k>=4&&_k<=7){if(_k==4){if(_j&&_i&&_i.hi==_j.hi&&_i.lo==_j.lo){return false;}}else{if(_j&&_i&&_i.getTime()==_j.getTime()){return false;}}}var _l=new nexacro.DSColChangeEventInfo(this,"cancolumnchange",_e,_g._index, -1,_g.id,_i,_j);if(this.on_fire_cancolumnchange(_l)){_j=_g._fromVal(_l.newvalue);if(this._updateColumn(_e,_h,_g._index,_j)){_l.newvalue=_j;this.on_fire_oncolumnchanged(_l);this.on_fire_onvaluechanged(_l);return true;}}else{if(_d){_d.status="cancolumnchange";}}}else{var _m=true;_j=_g._fromVal(_c);if(!_j){_m=false;}this._updateColumn(_e,_h,_g._index,_j);return _m;}}return false;};_pDataset.copyRow=function(_a,_b,_c,_d){if(_b==null){return false;}if(( +_a)!=( +_a)){_a=0;}if(( +_c)!=( +_c)){_c=0;}if(_a<0||_a>=this.rowcount){return false;}if(_b._type_name!="Dataset"){return false;}if(_c<0||_c>=_b.rowcount){return false;}var _e=_b.colinfos;var _f=this.colinfos;var _g=this._viewRecords[_a];if(_d!=null&&_d.length>0){var _h=_d==""?_f:_d.split(',');var _i=_h.length;var _j=0;function copyRow_loop(_m){if(_j<_i){var _n=_h[_j].split('=');var _o=_n.length;for(var _u=0;_u<_o;_u++ ){_n[_u]=_n[_u].trim();}var _p,_q;if(_o==2){_p=_n[1];_q=_n[0];var _r=_e.indexOf(_p);var _s=_f.indexOf(_q);if(_r>=0&&_s>=0){var _t=_f[_s]._fromVal(_b.getColumn(_c,_r));_m._updateColumn(_a,_g,_s,_t);}}_j++ ;return false;}return true;}while(true){if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}if(copyRow_loop(this)){break;}}}else{var _k=_b._viewRecords[_c];var _i=_e.length;var _j=0;function copyRow_loop2(_m){if(_j<_i){var _n=_e[_j];var _o=_f.indexOf(_n.id);if(_o!=null){var _p=_f[_o]._fromVal(_k[_n._index]);_m._updateColumn(_a,_g,_o,_p);}_j++ ;return false;}return true;}while(true){if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}if(copyRow_loop2(this)){break;}}}if(this._eventstat&&((this.oncolumnchanged&&this.oncolumnchanged._has_handlers)||(this.onvaluechanged&&this.onvaluechanged._has_handlers))){var _l=new nexacro.DSColChangeEventInfo(this,"oncolumnchanged",_a, -1, -1,"",undefined,"");this.on_fire_oncolumnchanged(_l);this.on_fire_onvaluechanged(_l);}return true;};_pDataset.filter=function(_a){if(_a!=null){var _b=_a.toString();this.filterstr=_b;this._filterFn=null;if(!this.loadstatus&&this._rawRecords.length>0){var _c=this._viewRecords;var _d=this.rowposition;var _e=_c[_d];this._reFilter();this._resetSortGroup();var _f=nexacro._indexOf(this._viewRecords,_e);if(this._eventstat){this.on_fire_onrowsetchanged( -1, -1,31);if(_d==this.rowposition){if(this.rowcount){if(_d>=0&&_d!=_f){this._setRowPosition(_f,undefined,52);}else{this._forcesetRowPosition(_f,51);}}else{this._forcesetRowPosition( -1,51);}}}else{this.rowposition=_f;}}else if(!this.loadstatus){this._defaultFilterStr=_b;}return true;}return false;};_pDataset.updateSortGroup=function(_a,_b){var _c=true;if(arguments.length<2){if(_a){_a=_a.toString();this.keystring=_a;}else{if(!this.keystring){_c=false;}}}else{if(!_b){_c=false;}}if(_c){var _d=false;if(this.keystring==""||this.keystring=="S:"||this.keystring=="G:"){_d=true;}if(this.keystring&&!_d){var _e=this._viewRecords;var _f=this.rowposition;var _g=_e[_f];this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._resetSortGroup();}}else{this._deleteAllGroupData();var _e=this._viewRecords;var _f=this.rowposition;var _g=_e[_f];this._clearKeyCols();if(!this.loadstatus&&this._rawRecords.length>0){this._viewRecords=this._rawRecords;this._reFilter();}}var _h=nexacro._indexOf(this._viewRecords,_g);if(this.enableevent){this.on_fire_onrowsetchanged( -1, -1,30);if(_f==this.rowposition){if(_f>=0&&_f!=_h){this._setRowPosition(_h,undefined,52);}}}else{this.rowposition=_h;}}return _c;};_pDataset.copyData=function(_a,_b){if(!_a||_a._type_name!="Dataset"){return  -1;}_b=nexacro._toBoolean(_b);var _c=this.rowposition;var _d=(this.filterstr!=null&&this.filterstr!="")?true:false;var _e=(this.keystring==""||this.keystring=="S:"||this.keystring=="G:")?true:false;this._clearAll();var _f=this;var _g=false;while(_f&&!_f._is_frame){_f=_f.parent;}if(_f){_g=nexacro._isPopupFrame(_f.id);}if(_g){var _h=_a._saveSSV("","",_b);var _i=String.fromCharCode(30);if(_h){var _j=_h.split(_i);if(_j.length){var _k=0;var _l=true;if(_j){this._bWorkingstatus=true;while(_j[_k].substring(0,7)!="Dataset"){_k++ ;}if(_k<_j.length){_k++ ;var _m=this._getColLinesFromSSVLines(_j,_k);_k+=_m.length;if(_l&&this.firefirstcount>0){_k=this._loadFromSSVArray(_m,_j,_k,this.firefirstcount,false,_l);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_k=this._loadFromSSVArray(_m,_j,_k, -1,false,false);}}else{_k=this._loadFromSSVArray(_m,_j,_k, -1,false,_l);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_l?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;}}}}else{this._copyData(_a,_b);}var _n=!this.loadstatus&&this._rawRecords.length>0;var _o=!this.loadstatus&&this._rawRecords.length>0;this._eventstat=!this.loadstatus&&this.enableevent;if(_d){var _p=this.filterstr.toString();this.filterstr=_p;this._filterFn=null;}if(_e){this._deleteAllGroupData();this._clearKeyCols();if(_o&&_n){this._viewRecords=this._rawRecords;}}if(_o&&_n){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,11);}if(_c==this.rowposition){if(this.rowcount>0){if(_c!=0){this._setRowPosition(0,undefined,51);}else if(this.id!=_a.id){this.rowposition= -1;this._setRowPosition(_c,undefined,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _q=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_q);}}}else if(_c> -1){this._forcesetRowPosition( -1,51);}}this.loadstatus=false;this._eventstat=this.enableevent;return this.rowcount;};_pDataset.mergeData=function(_a){if(!_a||_a._type_name!="Dataset"){return  -1;}var _b=0;if(_a._rawRecords.length>0){var _c=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;_b=this._mergeData(_a);this.loadstatus=_c;this._eventstat=!this.loadstatus&&this.enableevent;var _d=this.rowposition;if(this._eventstat){this.on_fire_onrowsetchanged( -1,_b,13);}if(_d==this.rowposition&&_d== -1&&_b>0){this._setRowPosition(0,undefined,51);}this.loadstatus=false;this._eventstat=this.enableevent;}return this.rowcount;};_pDataset.appendData=function(_a,_b,_c){if(!_a||_a._type_name!="Dataset"){return  -1;}if(_a._viewRecords.length>0){var _d=this.loadstatus;this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;this._appendData(_a,_b,_c);this.loadstatus=_d;this._eventstat=!this.loadstatus&&this.enableevent;var _e=this.rowposition;if(this._eventstat){if(this.keystring&&this._keycols.length>0){this._resetSortGroup();}this.on_fire_onrowsetchanged( -1,this.rowcount,12);}if(_e==this.rowposition&&_e== -1&&this.rowcount>0){this._setRowPosition(0,undefined,51);}this.loadstatus=false;this._eventstat=this.enableevent;return this.rowcount;}return 0;};_pDataset.loadFromDOM=function(_a,_b){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);if(_a!=null){this._bWorkingstatus=true;var _c;if(_a.nodeName=="Dataset"){_c=_a;}else{var _d=_a.getElementsByTagName("Dataset");_c=_d[0];}var _e=0;if(_b&&this.firefirstcount>0){_e=this._loadFromDOM(_c,_e,this.firefirstcount,this.useclientlayout,_b);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_e=this._loadFromDOM(_c,_e, -1,this.useclientlayout,false);}}else{_e=this._loadFromDOM(_c,_e, -1,this.useclientlayout,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;return this.rowcount;}};_pDataset.loadFromXMLStr=function(_a,_b){if(_b==null){_b=true;}_b=nexacro._toBoolean(_b);this._bWorkingstatus=true;if(_a){this._bWorkingstatus=true;if(_b&&this.firefirstcount>0){var _c=this._loadFromXMLStr(_a,0,this.firefirstcount,this.useclientlayout,_b);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromXMLStr(_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromXMLStr(_a,0, -1,this.useclientlayout,_b);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_b?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;return this.rowcount;}};_pDataset.loadXML=function(_a,_b){return this.loadFromXMLStr(_a,_b);};_pDataset.loadFromPPXArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].charAt(0)!="D"){_c++ ;}if(_c<_b){_c++ ;var _e=this._getColLinesFromPPXLines(_a,_c);_c+=_e.length;if(_d&&this.firefirstcount>0){_c=this._loadFromPPXArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromPPXArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromPPXArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition( -1,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset._saveXML=function(_a,_b,_c,_d){if(!_c){_c=0;}var _e=(_a?_a:this.id);var _f="N";switch(_b){case "A":case "a":case "all":case "All":_f="A";break;case "U":case "u":case "update":case "Update":_f="U";break;case "N":case "n":case "normal":case "Normal":_f="N";break;case "V":case "v":case "view":case "View":_f="V";break;}var _g;var _h;var _i=[];this.__writeXMLData(_i,"<Dataset id=\""+_e+"\">",_c++ );if(this._constVars.length+this.colinfos.length){this.__writeXMLData(_i,"<ColumnInfo>",_c++ );_h=this._constVars.length;_g=0;function saveXML_constcol_loop(_n){if(_g<_h){var _o=_n._constVars.get_id(_g);var _p=_n._constVars[_g];var _q=_n._constVars2[_g];if(_p){_n.__writeXMLData(_i,"<ConstColumn id=\""+_o+"\""+(_q?_q:"")+" value=\""+_p+"\" />",_c);}else{_n.__writeXMLData(_i,"<ConstColumn id=\""+_o+"\""+(_q?_q:"")+" />",_c);}_g++ ;return false;}return true;}while(true){if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}if(saveXML_constcol_loop(this)){break;}}_h=this.colinfos.length;_g=0;function saveXML_colinfo_loop(_n){if(_g<_h){var _o=_n.colinfos[_g];var _p=_o.id;var _q=_o.type?_o.type:nexacro.DataUtils.toTypeName(_o.ntype);var _r=_o.size;var _s=_o.prop;if(_s=="NONE"||_s==null||(typeof _s)=="number"||_s==""){_n.__writeXMLData(_i,"<Column id=\""+_p+"\" type=\""+_q+"\" size=\""+_r+"\"  />",_c);}else{_n.__writeXMLData(_i,"<Column id=\""+_p+"\" type=\""+_q+"\" size=\""+_r+"\" prop=\""+_s.toLowerCase()+"\" />",_c);}_g++ ;return false;}return true;}while(true){if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}if(saveXML_colinfo_loop(this)){break;}}this.__writeXMLData(_i,"</ColumnInfo>", --_c);}else{this.__writeXMLData(_i,"<ColumnInfo />",_c);}_h=0;var _j=this._rawRecords;if(_j){_h=_j.length;}var _k=this._viewRecords;var _l=_k?_k.length:0;if(_h){this.__writeXMLData(_i,"<Rows>",_c++ );var _m;if(_f=="A"){_g=0;function saveXML_row_loop1(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==1||_m._rtype==2||_m._rtype==4||_m._rtype==8){_n.__writeXMLCrudRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}if(saveXML_row_loop1(this)){break;}}}else if(_f=="U"){_g=0;function saveXML_row_loop2(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==2||_m._rtype==4||_m._rtype==8){_n.__writeXMLCrudRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}if(saveXML_row_loop2(this)){break;}}}else if(_f=="V"){_g=0;function saveXML_row_loop4(_n){if(_g<_l){_m=_k[_g];_n.__writeXMLNormalRow(_i,_m,_c,_d);_g++ ;return false;}return true;}while(true){if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}if(saveXML_row_loop4(this)){break;}}}else{_g=0;function saveXML_row_loop3(_n){if(_g<_h){_m=_j[_g];if(_m._rtype==1||_m._rtype==2||_m._rtype==4){_n.__writeXMLNormalRow(_i,_m,_c,_d);}_g++ ;return false;}return true;}while(true){if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}if(saveXML_row_loop3(this)){break;}}}this.__writeXMLData(_i,"</Rows>", --_c);}else{this.__writeXMLData(_i,"<Rows>",_c);this.__writeXMLData(_i,"</Rows>",_c);}this.__writeXMLData(_i,"</Dataset>", --_c);return _i.join("\n");};_pDataset.saveXML=function(_a,_b,_c){return this._saveXML(_a,_b,_c,true);};_pDataset.loadFromSSVArray=function(_a,_b,_c,_d,_e){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_c<_b){_c++ ;var _f=this._getColLinesFromSSVLines(_a,_c);_c+=_f.length;if(_d&&this.firefirstcount>0){_c=this._loadFromSSVArray(_f,_a,_c,this.firefirstcount,this.useclientlayout,_d,_e);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromSSVArray(_f,_a,_c, -1,this.useclientlayout,false,_e);}}else{_c=this._loadFromSSVArray(_f,_a,_c, -1,this.useclientlayout,_d,_e);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset._loadSSV=function(_a,_b){var _c=String.fromCharCode(30);if(_a){var _d=_a.split(_c);if(_d.length){this.loadFromSSVArray(_d,_d.length,0,_b);}}return this.rowcount;};_pDataset.loadSSV=function(_a,_b){return this._loadSSV(_a,_b);};_pDataset._saveSSV=function(_a,_b,_c){var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=this.id;if(_a&&_a.length>0){_f=_a;}var _g="N";switch(_b){case "A":case "a":case "all":case "All":_g="A";break;case "U":case "u":case "update":case "Update":_g="U";break;}var _h;var _i;var _j=[];this.__writeData(_j,"Dataset:"+_f+_d);_i=this._constVars.length;if(_i>0){_h=0;this.__writeData(_j,"_Const_"+_e);function saveSSV_constcol_loop(_m){if(_h<_i){var _n=_m._constVars.get_id(_h);var _o=_m._constVars[_h];if(_o){if(_h==(_i-1)){_m.__writeData(_j,_e+_n+"="+_o+_d);}else{_m.__writeData(_j,_e+_n+"="+_o+_e);}}else{if(_h==(_i-1)){_m.__writeData(_j,_e+_n+"="+_d);}else{_m.__writeData(_j,_e+_n+"="+_e);}}_h++ ;return false;}return true;}while(true){if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}if(saveSSV_constcol_loop(this)){break;}}}_i=this.colinfos.length;if(_i>0){this.__writeData(_j,"_RowType_"+_e);_h=0;function saveSSV_colinfo_loop(_m){if(_h<_i){var _n=_m.colinfos[_h];var _o=_n.id;var _p=_n.type?_n.type:nexacro.DataUtils.toTypeName(_n.ntype);var _q=_n.size;if(_q){if(_h==(_i-1)){_m.__writeData(_j,_o+":"+_p+"("+_q+")"+_d);}else{_m.__writeData(_j,_o+":"+_p+"("+_q+")"+_e);}}else{if(_h==(_i-1)){_m.__writeData(_j,_o+":"+_p+_d);}else{_m.__writeData(_j,_o+":"+_p+_e);}}_h++ ;return false;}return true;}while(true){if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}}}else{this.__writeData(_j,"_RowType_"+_d);}_i=0;var _k=_c?this._viewRecords:this._rawRecords;if(_k){_i=_k.length;}if(_i){var _l;if(_g=="A"){_h=0;function saveSSV_row_loop1(_m){if(_h<_i){_l=_k[_h];if(_l._rtype==1||_l._rtype==2||_l._rtype==4||_l._rtype==8){_m.__writeSSVCrudRow(_j,_l);}_h++ ;return false;}return true;}while(true){if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}if(saveSSV_row_loop1(this)){break;}}}else if(_g=="U"){_h=0;function saveSSV_row_loop2(_m){if(_h<_i){_l=_k[_h];if(_l._rtype==2||_l._rtype==4||_l._rtype==8){_m.__writeSSVCrudRow(_j,_l);}_h++ ;return false;}return true;}while(true){if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}if(saveSSV_row_loop2(this)){break;}}}else{_h=0;function saveSSV_row_loop3(_m){if(_h<_i){_l=_k[_h];if(_l._rtype==1||_l._rtype==2||_l._rtype==4){_m.__writeSSVNormalRow(_j,_l);}_h++ ;return false;}return true;}while(true){if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}if(saveSSV_row_loop3(this)){break;}}}}_j.push(_d);return _j.join("");};_pDataset.saveSSV=function(_a,_b){return this._saveSSV(_a,_b);};_pDataset.loadFromCSVArray=function(_a,_b,_c,_d){if(_d==null){_d=true;}_d=nexacro._toBoolean(_d);if(_a){this._bWorkingstatus=true;while(_a[_c].substring(0,7)!="Dataset"){_c++ ;}if(_c<_b){_c++ ;var _e=_a[_c++ ];if(_d&&this.firefirstcount>0){_c=this._loadFromCSVArray(_e,_a,_c,this.firefirstcount,this.useclientlayout,_d);if(this.firefirstcount==this.rowcount){this._reFilter();this._resetSortGroup();this.on_fire_onload(0,"",1);this._forcesetRowPosition(0,51);this.rowposition=0;_c=this._loadFromCSVArray(_e,_a,_c, -1,this.useclientlayout,false);}}else{_c=this._loadFromCSVArray(_e,_a,_c, -1,this.useclientlayout,_d);}if(this.colinfos){this._reFilter();this._resetSortGroup();}if(this._eventstat){this.on_fire_onload(0,"",_d?0:12);if(this._viewRecords&&this._viewRecords.length>0){this._forcesetRowPosition(0,51);}}else if(this._viewRecords&&this._viewRecords.length>0){this.rowposition=0;}}this._bWorkingstatus=false;return _c;}};_pDataset.loadCSV=function(_a,_b){if(_a){var _c=_a.split(/\r\n|\n/);if(_c.length){this.loadFromCSVArray(_c,_c.length,0,_b);}}return this.rowcount;};_pDataset.saveCSV=function(_a){var _b=this.id;if(_a&&_a.length>0){_b=_a;}var _c;var _d;var _e=[];this.__writeData(_e,"Dataset:"+_b+"\r\n");_d=this.colinfos.length;if(_d>0){_c=0;function saveSSV_colinfo_loop(_h){if(_c<_d){var _i=_h.colinfos[_c];var _j=_i.id;var _k=_i.type?_i.type:nexacro.DataUtils.toTypeName(_i.ntype);var _l=_i.size;if(_l){if(_c==(_d-1)){_h.__writeData(_e,_j+":"+_k+"("+_l+")\r\n");}else{_h.__writeData(_e,_j+":"+_k+"("+_l+"),");}}else{if(_c==(_d-1)){_h.__writeData(_e,_j+":"+_k+"\r\n");}else{_h.__writeData(_e,_j+":"+_k+",");}}_c++ ;return false;}return true;}while(true){if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}if(saveSSV_colinfo_loop(this)){break;}}}else{this.__writeData(_e,"\r\n");}_d=0;var _f=this._rawRecords;if(_f){_d=_f.length;}if(_d){var _g;_c=0;function saveCSV_row_loop(_h){if(_c<_d){_g=_f[_c];if(_g._rtype==1||_g._rtype==2||_g._rtype==4){_h.__writeCSVRowData(_e,_g);}_c++ ;return false;}return true;}while(true){if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}if(saveCSV_row_loop(this)){break;}}}_e.push("\r\n");return _e.join("");};_pDataset.loadBIN=function(_a){if(_a){var _b=nexacro._convertDatasetBINToSSV(_a);if(_b){return this.loadSSV(_b);}}return this.rowcount;};_pDataset.saveBIN=function(_a,_b){var _c=this.saveSSV(_a,_b);if(_c){return nexacro._convertDatasetSSVToBIN(_c);}return _c;};_pDataset.applyChange=function(){var _a=this._rawRecords;var _b=_a.length;var _c=_b-1;function applyChange_loop(){if(_c>=0){var _d=_a[_c];if(_d._rtype==0||_d._rtype==8){_a.splice(_c,1);}else{_d._rtype=1;if(_d._orgrow){delete _d["_orgrow"];}}_c-- ;return false;}return true;}while(true){if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}if(applyChange_loop()){break;}}this._deletedRecords=[];if(this.enableevent){this.on_fire_onrowsetchanged( -1,_b,40);}};_pDataset.reset=function(){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;var _a=this.rowposition;var _b=this._rawRecords;var _c=_b.length;var _d=_c-1;function reset_loop(){if(_d>=0){var _e=_b[_d];if(_e._rtype==0||_e._rtype==2){_b.splice(_d,1);}else if(_e._rtype==4){_e._rtype=1;if(_e._orgrow){var _f=_e.length;for(var _g=0;_g<_f;_g++ ){_e[_g]=_e._orgrow[_g];}delete _e["_orgrow"];}}else if(_e._rtype==8){_e._rtype=1;}_d-- ;return false;}return true;}while(true){if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}if(reset_loop()){break;}}if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=this._rawRecords;this._reFilter();this._deletedRecords.splice(0,this._deletedRecords.length);this.loadstatus=false;this._eventstat=this.enableevent;this.rowcount=this._viewRecords.length;if(this._eventstat){this._bWorkingstatus=true;this.on_fire_onload(0,"",2);if(this.rowposition>=this.rowcount&&this.rowcount>0){this._forcesetRowPosition(0,51);}else{this._forcesetRowPosition(this.rowposition,51);}this._bWorkingstatus=false;}};_pDataset.assign=function(_a){if(!_a||_a._type_name!="Dataset"){return  -1;}this._eventstat=this.enableevent;var _b=this.rowposition;this._clearAll();this._assign(_a);if(this.filterstr){this.filter(this.filterstr);}if(this.keystring){this.on_apply_keystring();}if(this._eventstat){this.on_fire_onrowsetchanged( -1,this.rowcount,10);}if(_b==this.rowposition){if(this.rowcount>0){if(_b!=0){this._setRowPosition(0,undefined,51);}else if(this.id!=_a.id){this.rowposition= -1;this._setRowPosition(_b,undefined,53);}else{if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _c=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",0, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_c);}}}else if(_b> -1){this._forcesetRowPosition( -1,51);}}return this.rowcount;};_pDataset.identifyExpr=function(_a){if(typeof (_a)!="string"){return _a;}_a=_a+"";var _b=_a.substr(0,4).toUpperCase();if(_b=="EXPR"||_b=="BIND"){var _c=_a.substr(4).trim();if(/^expr(\s*):|^bind(\s*):/.test(_a)){_a=_c.substr(1);}else{_a=_c.substring(1,_c.length-1);}var _d=new nexacro.ExprParser();var _e=_d.makeExpr(this,_a);var _f=nexacro._createInlineFunc(_e,["currow","rowidx","comp","dataset"]);if(_f){_a=_f.call(null,this.rowposition,this.rowposition,this,this);}}return _a;};_pDataset.lookup=function(_a,_b,_c){var _d=this._viewRecords;var _e=0;var _f=_d.length;_a=this.identifyExpr(_a);var _g=this.findRow(_a,_b,_e,_f);return (_g== -1)?undefined:this.getColumn(_g,_c);};_pDataset._lookupRaw=function(_a,_b,_c){var _d=this._viewRecords;this._viewRecords=this._rawRecords;this._checkRowData=this._checkRawRowData;var _e=0;var _f=this._viewRecords.length;_a=this.identifyExpr(_a);var _g=this.findRow(_a,_b,_e,_f);var _h=(_g== -1)?undefined:this.getColumn(_g,_c);this._checkRowData=this._checkViewRowData;this._viewRecords=_d;return _h;};_pDataset.lookupAs=function(_a,_b,_c){var _d=this._viewRecords.slice(0,this._viewRecords.length);var _e=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);var _f=0;var _g=_e.length;_a=this.identifyExpr(_a);var _h=this.findRowAs(_a,_b,_f,_g);var _i=(_h== -1)?undefined:this.getColumn(_h,_c);this._viewRecords=_d.slice(0,this._rawRecords.length);return _i;};_pDataset.findRow=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f;var _g= -1;var _h= -1;if(typeof (_a)=="string"){_h=this.colinfos.indexOf(_a);if(_h==undefined){_g=this._constVars.indexOf(_a);}if(!(( +_a)!=( +_a))){return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a> -1&&_a<this.colcount){var _i=this.colinfos.length;if(_a<_i){_h=_a;}else{_g=_a-_i;}}else{return  -1;}}if(_h>=0){return this._findRow(_h,_b,_c,_d);}if(_g>=0){_f=this._constVars[_g];if(_f==_b&&_d>0){return _c;}else{return  -1;}}var _j=this._exprFuncs[_a];if(_j==null){_j=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _j!="function"){return  -1;}var _k=_c;function findRow_loop(_l){if(_k<_d){var _m=_e[_k];if(_l._checkRowData(_m)){_f=_j.call(this,_k,_k,null,_l);if(_f==_b){return true;}}_k++ ;return false;}return true;}while(true){if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}if(findRow_loop(this)){break;}}return (_k<_d)?_k: -1;};_pDataset.findRowExpr=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=this._exprFuncs[_a];if(_e==null){_e=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _e!="function"){return  -1;}var _f=_b;function findRowExpr_loop(_g){if(_f<_c){var _h=_d[_f];if(_g._checkRowData(_h)){var _i=_e.call(_g,_f,_f,null,_g);if(_i){return true;}}_f++ ;return false;}return true;}while(true){if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}if(findRowExpr_loop(this)){break;}}return (_f<_c)?_f: -1;};_pDataset.findRowAs=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f;var _g= -1;var _h= -1;if(typeof (_a)=="string"){_h=this.colinfos.indexOf(_a);if(_h==undefined||_h<0){_g=this._constVars.indexOf(_a);}if(!(( +_a)!=( +_a))){return  -1;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}if(_a> -1&&_a<this.colcount){var _i=this.colinfos.length;if(_a<_i){_h=_a;}else{_g=_a-_i;}}else{return  -1;}}if(_h>=0){return this._findRowAs(_h,_b,_c,_d);}if(_g>=0){_f=this._constVars[_g];if(this._isLike(_f,_b)&&_d>0){return 0;}else{return  -1;}}var _j=this._exprFuncs[_a];if(_j==null){_j=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _j!="function"){return  -1;}var _k=_c;function findRowAs_loop(_l){if(_k<_d){var _m=_e[_k];if(_l._checkRowData(_m)){_f=_j.call(_l,_k,_k,null,_l);if(_l._isLike(_f,_b)){return true;}}_k++ ;return false;}return true;}while(true){if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}if(findRowAs_loop(this)){break;}}return (_k<_d)?_k: -1;};_pDataset.getSum=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e*this._getCount(_b,_c, -1);}var _f=this._constVars.indexOf(_a);if(_f>=0){_e=this._constVars[_f];if((typeof _e)=="number"){return _e*this._getCount(_b,_c, -1);}else if(_e instanceof nexacro.Decimal){var _g=new nexacro.Decimal(this._getCount(_b,_c, -1));_g.mulDecimal(_e);return _g.isNaN()?0:_g;}else{return 0;}}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getSum(_f,_b,_c, -1,this._getColumnType(_f));}var _h=this._exprFuncs[_a];if(_h==null){_h=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _h!="function"){return 0;}var _g=0;var _i;var _j=_b;function getSum_loop(_k){if(_j<_c){if(_k._checkRowData(_d[_j])){_i=_h.call(_k,_j,_j,null,_k);if((_g instanceof nexacro.Decimal)==false){if((_i instanceof nexacro.Decimal)==false){_g+=( +_i);}else{_g=new nexacro.Decimal(_g);_g.addDecimal(_i);}}else{if((_i instanceof nexacro.Decimal)==false){_g.addDouble(_i);}else{_g.addDecimal(_i);}}}_j++ ;return false;}return true;}while(true){if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}if(getSum_loop(this)){break;}}if(_g instanceof nexacro.Decimal){return _g.isNaN()?0:_g;}return ( +_g)!=( +_g)?0:_g;};_pDataset.getMin=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._constVars[_f];}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getMin(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=undefined;var _i=_b;function getMin_loop(_j){if(_i<_c){if(_j._checkRowData(_d[_i])){_e=_g.call(_j,_i,_i,null,_j);if(_h==null){_h=_e;}else if((_e instanceof nexacro.Decimal)==false){if(_e!=null&&_e<_h){_h=_e;}}else if(_e!=null){var _k=new nexacro.Decimal(_h);if((_e.hi<_k.hi)||(_e.hi==_k.hi&&_e.lo<_k.lo)){_h=_e;}}}_i++ ;return false;}return true;}while(true){if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}if(getMin_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset.getMax=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._constVars[_f];}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getMax(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=undefined;var _i=_b;function getMax_loop(_j){if(_i<_c){if(_j._checkRowData(_d[_i])){_e=_g.call(_j,_i,_i,null,_j);if(_h==null){_h=_e;}else if((_e instanceof nexacro.Decimal)==false){if(_e!=null&&_e>_h){_h=_e;}}else if(_e!=null){var _k=new nexacro.Decimal(_h);if((_e.hi>_k.hi)||(_e.hi==_k.hi&&_e.lo>_k.lo)){_h=_e;}}}_i++ ;return false;}return true;}while(true){if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}if(getMax_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset.getAvg=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}_c=this._endIdx(arguments.length,_c);var _e=parseFloat(_a);if(isFinite(_e)){return _e;}var _f=this._constVars.indexOf(_a);if(_f>=0){_e=this._constVars[_f];if(((typeof _e)=="number")||(_e instanceof nexacro.Decimal)){return _e;}else{return Infinity;}}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getAvg(_f,_b,_c, -1,this._getColumnType(_f));}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return Infinity;}var _h=0;var _i=0;var _j=_b;function getAvg_loop(_k){if(_j<_c){if(_k._checkRowData(_d[_j])){_e=_g.call(_k,_j,_j,null,_k);if(_e!=null){_h++ ;if((_i instanceof nexacro.Decimal)==false){if((_e instanceof nexacro.Decimal)==false){_i+=( +_e);}else{_i=new nexacro.Decimal(_i);_i.addDecimal(_e);}}else{if((_e instanceof nexacro.Decimal)==false){_i.addDouble(_e);}else{_i.addDecimal(_e);}}}}_j++ ;return false;}return true;}while(true){if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}if(getAvg_loop(this)){break;}}if(_h==0){return Infinity;}if(_i instanceof nexacro.Decimal){_i.divDouble(_h);}else{_i=_i/_h;}return _i;};_pDataset.getCaseCount=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}if(!_c||_c<0||_c>_d.length){_c=_d.length;}var _e=parseFloat(_a);if(isFinite(_e)){return this._getCount(_b,_c, -1);}var _f=this._constVars.indexOf(_a);if(_f>=0){return this._getCount(_b,_c, -1);}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._getCount(_b,_c, -1);}var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=0;var _i=null;for(var _j=_b;_j<_c;_j++ ){if(this._checkRowData(_d[_j])){_i=_g.call(this,_j,_j,null,this);if(_i===true){_h++ ;}}}return _h;};_pDataset.getCaseSum=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f*this.getCaseCount(_a,_c,_d);}var _g=this._constVars.indexOf(_b);if(_g>=0){_f=this._constVars[_g];if((typeof _f)=="number"){return _f*this.getCaseCount(_a,_c,_d);}else if(_f instanceof nexacro.Decimal){var _h=new nexacro.Decimal(this.getCaseCount(_a,_c,_d));_h.mulDecimal(_f);return _h.isNaN()?0:_h;}else{return 0;}}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseSum(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _i=this._exprFuncs[_b];if(_i==null){_i=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _i!="function"){return 0;}var _j=this._exprFuncs[_a];if(_j==null){_j=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _j!="function"){return 0;}var _h=0;var _k;var _l=null;var _m=_c;function getCaseSum_loop(_n){if(_m<_d){if(_n._checkRowData(_e[_m])){_l=_j.call(_n,_m,_m,null,_n);if(_l===true){_k=_i.call(_n,_m,_m,null,_n);if((_h instanceof nexacro.Decimal)==false){if((_k instanceof nexacro.Decimal)==false){_h+=( +_k);}else{_h=new nexacro.Decimal(_h);_h.addDecimal(_k);}}else{if((_k instanceof nexacro.Decimal)==false){_h.addDouble(_k);}else{_h.addDecimal(_k);}}}}_m++ ;return false;}return true;}while(true){if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}if(getCaseSum_loop(this)){break;}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?0:_h;}return ( +_h)!=( +_h)?0:_h;};_pDataset.getCaseMin=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){return this._constVars[_g];}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseMin(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return undefined;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return undefined;}var _j=undefined;var _k=null;var _l=_c;function getCaseMin_loop(_m){if(_l<_d){if(_m._checkRowData(_e[_l])){_k=_i.call(_m,_l,_l,null,_m);if(_k===true){_f=_h.call(_m,_l,_l,null,_m);if(_j==null){_j=_f;}else if((_f instanceof nexacro.Decimal)==false){if(_f!=null&&_f<_j){_j=_f;}}else if(_f!=null){var _n=new nexacro.Decimal(_j);if((_f.hi<_n.hi)||(_f.hi==_n.hi&&_f.lo<_n.lo)){_j=_f;}}}}_l++ ;return false;}return true;}while(true){if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}if(getCaseMin_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset.getCaseMax=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){return this._constVars[_g];}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseMax(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return undefined;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return undefined;}var _j=undefined;var _k=null;var _l=_c;function getCaseMax_loop(_m){if(_l<_d){if(_m._checkRowData(_e[_l])){_k=_i.call(_m,_l,_l,null,_m);if(_k===true){_f=_h.call(_m,_l,_l,null,_m);if(_j==null){_j=_f;}else if((_f instanceof nexacro.Decimal)==false){if(_f!=null&&_f>_j){_j=_f;}}else if(_f!=null){var _n=new nexacro.Decimal(_j);if((_f.hi>_n.hi)||(_f.hi==_n.hi&&_f.lo>_n.lo)){_j=_f;}}}}_l++ ;return false;}return true;}while(true){if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}if(getCaseMax_loop(this)){break;}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset.getCaseAvg=function(_a,_b,_c,_d){var _e=this._viewRecords;if(( +_c)!=( +_c)){_c=0;}if(!_c||_c<0){_c=0;}_d=this._endIdx(arguments.length,_d,4);var _f=parseFloat(_b);if(isFinite(_f)){return _f;}var _g=this._constVars.indexOf(_b);if(_g>=0){_f=this._constVars[_g];if(((typeof _f)=="number")||(_f instanceof nexacro.Decimal)){return _f;}else{return Infinity;}}var _g=this.colinfos.indexOf(_b);if(_g>=0){return this._getCaseAvg(_a,_g,_c,_d, -1,this._getColumnType(_g));}var _h=this._exprFuncs[_b];if(_h==null){_h=this._exprFuncs[_b]=this._createExprFunc(_b);}if(typeof _h!="function"){return Infinity;}var _i=this._exprFuncs[_a];if(_i==null){_i=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _i!="function"){return Infinity;}var _j=0;var _k=0;var _l=null;var _m=_c;function getCaseAvg_loop(_n){if(_m<_d){if(_n._checkRowData(_e[_m])){_l=_i.call(_n,_m,_m,null,_n);if(_l===true){_f=_h.call(_n,_m,_m,null,_n);if(_f!=null){_j++ ;if((_k instanceof nexacro.Decimal)==false){if((_f instanceof nexacro.Decimal)==false){_k+=( +_f);}else{_k=new nexacro.Decimal(_k);_k.addDecimal(_f);}}else{if((_f instanceof nexacro.Decimal)==false){_k.addDouble(_f);}else{_k.addDecimal(_f);}}}}}_m++ ;return false;}return true;}while(true){if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}if(getCaseAvg_loop(this)){break;}}if(_j==0){return Infinity;}if(_k instanceof nexacro.Decimal){_k.divDouble(_j);}else{_k=_k/_j;}return _k;};_pDataset.getCountNF=function(_a){var _b=this._getNotDelRec();var _c= -1;var _d="";if(_a){if(typeof (_a)=="string"){_c=this.colinfos.indexOf(_a);if(!(_c>=0)){return 0;}}else if(typeof (_a)=="number"){_c=_a;_d=this.colinfos.get_id(_c);if(!_d){return 0;}}else{return 0;}var _e=this._viewRecords;this._viewRecords=_b;this._checkRowData=this._checkRawRowData;var _f=0;var _g=this._rawRecords.length;var _h=this._getCount(_f,_g, -1,_c,true);this._checkRowData=this._checkViewRowData;this._viewRecords=_e;return _h;}return _b.length;};_pDataset.getSumNF=function(_a,_b,_c){return this._calcNFData(this.getSum,_a,_b,_c);};_pDataset.getMinNF=function(_a,_b,_c){return this._calcNFData(this.getMin,_a,_b,_c);};_pDataset.getMaxNF=function(_a,_b,_c){return this._calcNFData(this.getMax,_a,_b,_c);};_pDataset.getAvgNF=function(_a,_b,_c){return this._calcNFData(this.getAvg,_a,_b,_c);};_pDataset.findMaxLengthRow=function(_a,_b,_c){var _d=this._viewRecords;if(( +_b)!=( +_b)){_b=0;}if(!_b||_b<0){_b=0;}if(!_c||_c>_d.length){_c=_d.length;}var _e=parseInt(_a)|0;if(isFinite(_e)){if(_e>=0){return this._findMaxLengthRow(_e,_b,_c);}else{return  -1;}}var _f=this._constVars.indexOf(_a);if(_f>=0){return (this._constVars[_f])?this._constVars[_f].toString().length:0;}var _f=this.colinfos.indexOf(_a);if(_f>=0){return this._findMaxLengthRow(_f,_b,_c);}return  -1;};_pDataset.findMaxLengthRowNF=function(_a,_b,_c){return this._calcNFData(this.findMaxLengthRow,_a,_b,_c);};_pDataset._endIdx=function(_a,_b,_c){var _d=this._viewRecords.length;if(_c){switch(_a){case 1:return 0;case 4:if(_b<0||_b>=_d){return _d;}if(( +_b)!=( +_b)){return 0;}return _b;default:return _d;}}else{if(_a==3){if(_b<0||_b>_d){return _d;}if(( +_b)!=( +_b)){return 0;}return _b;}return _d;}};_pDataset._clearAllExprs=function(){this._exprFuncs=null;this._exprFuncs={};};_pDataset._clearAll=function(){this.colinfos=null;var _a=this.rowcount;this.colinfos=new nexacro.DSColumnInfoList();this._constVars=new nexacro.VariableList();this._rawRecords.splice(0,this._rawRecords.length);if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._deletedRecords.splice(0,this._deletedRecords.length);this._viewRecords=null;this._rawRecords=null;this._deletedRecords=null;this._rawRecords=[];this._deletedRecords=[];this._viewRecords=this._rawRecords;this.colcount=0;this.constcount=0;this.rowcount=0;this._keycols.splice(0,this._keycols.length);this._keycols.max_keylevel=0;if(this.loadkeymode.toLowerCase()=="reset"){this.keystring=this._defaultKeyStr;}if(this.loadfiltermode.toLowerCase()=="reset"){this.filterstr=this._defaultFilterStr;}this._filterFn=null;this._clearAllExprs();return _a;};_pDataset._clearData=function(){var _a=this.rowcount;this._rawRecords.splice(0,this._rawRecords.length);if(this._viewRecords!=this._rawRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=this._rawRecords;this._deletedRecords.splice(0,this._deletedRecords.length);this._deletedRecords=null;this._deletedRecords=[];this.rowcount=0;return _a;};_pDataset._forcesetRowPosition=function(_a,_b){if(_a<0||_a>=this.rowcount){_a= -1;}var _c=this.rowposition;if(_a!=_c&&_a<this.rowcount){if(this.canrowposchange&&this.canrowposchange._has_handlers&&_c!= -1){var _d=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_c,_a,_b);var _e=this.on_fire_canrowposchange(_d);if(_e==false){return;}}if(this.onrowposchanged&&this.onrowposchanged._has_handlers){var _d=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_c,_a,_b);this.rowposition=_a;this.on_fire_onrowposchanged(_d);}else{this.rowposition=_a;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _d=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",_a, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_d);}};_pDataset._setRowPosition=function(_a,_b,_c,_d){if(_a<0||_a>=this.rowcount){_a= -1;}var _e=this.rowposition;if(_a!=_e||(_c==53&&_a==_e)){if((this.canrowposchange&&this.canrowposchange._has_handlers)||(this.onrowposchanged&&this.onrowposchanged._has_handlers)){var _f=new nexacro.DSRowPosChangeEventInfo(this,"canrowposchange",_e,_a,_c);if(this.canrowposchange&&this.canrowposchange._has_handlers&&this._eventstat&&_b===undefined&&(_e>= -1&&_e<this.rowcount)){var _g=this.on_fire_canrowposchange(_f);if(_g==false){return;}if(_a!=_f.newrow){_a=_f.newrow;}if(_a>=0||_a<this.rowcount){this.rowposition=_a;if(!this._is_loaded){return;}if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_f);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else{if(_a>=0||_a<this.rowcount){this.rowposition=_a;if(!this._is_loaded){return;}if(this._eventstat){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){this.on_fire_onrowposchanged(_f);}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}}}else{this.rowposition=_a;if(!this._is_loaded){return;}if(this._eventstat&&this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(_d){if(!this._is_loaded){return;}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}return this.rowposition;};_pDataset._splitKeyCols=function(_a){var _b=[];var _c,_d;if(_a.charAt(0)!='+'&&_a.charAt(0)!='-'){_a='+'+_a;}_c=_a.indexOf('+');_d=_a.indexOf('-');var _e=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);var _f=0;while(_e>=0){_c=_a.indexOf('+',_e+1);_d=_a.indexOf('-',_e+1);var _g=(_c>=0&&_d>=0)?(_d<_c?_d:_c):(_c>_d?_c:_d);if(_g<0){_b[_f]=_a.substr(_e);_f++ ;}else{_b[_f]=_a.substr(_e,_g-_e);_f++ ;}_e=_g;}delete _f;return _b;};_pDataset._clearKeyCols=function(){this._keycols.splice(0,this._keycols.length);this._keycols.max_keylevel=0;};_pDataset._parseKeyCols=function(){var _a=this._keycols.length;if(_a>0){return _a;}var _b=this.keystring;if(_b.length>0){var _c=0;var _d=_b.split(',');var _e=_d.length-1;function _parseKeyCols_loop(_f){if(_e>=0){var _g=_d[_e].trim();if(_g.length==0){_e-- ;return false;}var _h=_g.indexOf(':');if(_h<=0||(_g.charAt(0)!='S'&&_g.charAt(0)!='s')){_c++ ;}var _i;if(_h>=0){_i=_f._splitKeyCols(_g.substr(_h+1));}else{_i=_f._splitKeyCols(_g);}var _j=_i.length-1;function _parseKeyCols_loop2(){if(_j>=0){var _k=_i[_j].trim();if(_k.length==0){_j-- ;return false;}var _l;var _m= -1;var _n=false;if(_k.charAt(0)=='-'){_l=_k.substr(1);_m=_f.colinfos.indexOf(_l);_n=true;}else if(_k.charAt(0)=='+'){_l=_k.substr(1);_m=_f.colinfos.indexOf(_l);_n=false;}else{_l=_k;_m=_f.colinfos.indexOf(_l);_n=false;}if(_m>=0){_f._keycols[_a]={level:_c,colid:_l,colidx:_m,descending:_n};_a++ ;}_j-- ;return false;}return true;}while(true){if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}if(_parseKeyCols_loop2()){break;}}_e-- ;return false;}return true;}while(true){if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}if(_parseKeyCols_loop(this)){break;}}}this._keycols.max_keylevel=_c;return _a;};_pDataset._getLocale=function(){var _a=nexacro.System.locale;var _b=this;while(_b){if(_b._locale){_a=_b._locale;break;}_b=_b.parent;}if(_a.indexOf("_")> -1){_a=_a.substr(0,2);}return _a;};_pDataset._createSortFunc=function(){var _a=this._keycols;var _b=_a.length;var _c=this._getLocale();var _d=this;return function(_e,_f){for(var _l=_b-1;_l>=0;_l-- ){var _g=_a[_l];var _h=_e[_g.colidx];var _i=_f[_g.colidx];var _j=0;var _k=_d.colinfos[_g.colidx].type.toLowerCase();if(_k!="string"){if(_h==null||(_h==0&&_h.hi==null&&_h.lo==null)){if(_i==null||(_i==0&&_i.hi==null&&_i.lo==null)){_j=(_e._rawidx>_f._rawidx)?1: -1;}else{_j= -1;}return (_g.descending)? -_j:_j;}if(_i==null||(_i==0&&_i.hi==null&&_i.lo==null)){_j=1;return (_g.descending)? -_j:_j;}}if((_h instanceof nexacro.Decimal)==false){if(_h!=null){if(_h!=_i){if(_i!=null){if((_i instanceof nexacro.Decimal)==false){if(_k=="string"){if(nexacro.BrowserLang.indexOf(_c)>=0){_j=_h.localeCompare(_i);}else{_j=_h.localeCompare(_i,_c);}}else{_j=(_h>_i?1: -1);}}else{_j=((_h.hi>_i.hi||(_h.hi>=_i.hi&&_h.lo>_i.lo))?1: -1);}}else{_j=1;}}else{_j=0;}}else if(_h!=_i){_j= -1;}else{_j=0;}}else{if(_i!=null){_j=(_h.hi==_i.hi&&_h.lo==_i.lo)?0:((_h.hi>_i.hi||(_h.hi>=_i.hi&&_h.lo>_i.lo))?1: -1);}else{_j=1;}}if(_j!=0){return (_g.descending)? -_j:_j;}}_j=(_e._rawidx>_f._rawidx)?1: -1;return (_g.descending)? -_j:_j;};};_pDataset._sortData=function(){var _a=this._viewRecords;if(_a.length>0){if(this._viewRecords==this._rawRecords){_a=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _b=this._createSortFunc();_a.sort(_b);}};_pDataset._deleteAllGroupData=function(){var _a=this._viewRecords;var _b=_a.length;var _c=_b-1;function _deleteAllGroupData_loop(){if(_c>=0){if(_a[_c]._level>0){_a.splice(_c,1);}_c-- ;return false;}return true;}while(true){if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}if(_deleteAllGroupData_loop()){break;}}};_pDataset._calcGroupData=function(_a,_b){var _c=this.colinfos;var _d=_c.length;var _e=_a._grpstart;var _f=_a._grpend;var _g=_a._level;var _h=this._viewRecords[_e];var _i=0;function _calcGroupData_loop(_j){if(_i<_d){var _k=_c[_i].prop;var _l=_c[_i].ntype;if(_k&&_k.length>0){_k=_k.toLowerCase();}switch(_k){case "count":_a[_i]=_j._getCount(_e,_f, -1);break;case "sum":_a[_i]=_j._getSum(_i,_e,_f, -1,_l);break;case "max":_a[_i]=_j._getMax(_i,_e,_f, -1,_l);break;case "min":_a[_i]=_j._getMin(_i,_e,_f, -1,_l);break;case "avg":_a[_i]=_j._getAvg(_i,_e,_f, -1,_l);break;case "text":_a[_i]=_c[_i].sumtext;break;case "key":_a[_i]=_h[_i];break;default:if(_b[_i]>=_g){_a[_i]=_h[_i];}else{switch(_l){case 2:case 3:case 4:_a[_i]=_j._getSum(_i,_e,_f, -1,_l);break;default:_a[_i]=_c[_i].sumtext;break;}}break;}_i++ ;return false;}return true;}while(true){if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}if(_calcGroupData_loop(this)){break;}}};_pDataset._createGroupData=function(){var _a=this._keycols;var _b=_a.max_keylevel;var _c=this._viewRecords;if(_b==0||this._viewRecords.length==0){return;}var _d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var _e=_a.length;var _f=[];var _g=0;function _createGroupData_init_loop(){if(_g<_e){_f[_a[_g].colidx]=_a[_g].level;_g++ ;return false;}return true;}while(true){if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}if(_createGroupData_init_loop()){break;}}var _h,_i;var _j=this._viewRecords.length;var _k=this._viewRecords[0];var _l,_m;var _n,_o;var _p=1;function _createGroupData_loop(_s){if(_p<_j){_l=_s._viewRecords[_p];_n=0;var _t=_e-1;function _createGroupData_chk_loop(){if(_t>=0){if(_a[_t].level==0){_t-- ;return false;}if(_l[_a[_t].colidx] instanceof nexacro.Decimal&&_k[_a[_t].colidx] instanceof nexacro.Decimal){if(!_l[_a[_t].colidx].isEqual(_k[_a[_t].colidx])){_n=_a[_t].level;return true;}}else if(_l[_a[_t].colidx]!=_k[_a[_t].colidx]){_n=_a[_t].level;return true;}_t-- ;return false;}return true;}while(true){if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}if(_createGroupData_chk_loop()){break;}}if(_n!=0){var _q=1;function _createGroupData_grp_loop(){if(_q<=_n){_m=[];_m._level=_q;_h=_d[_q];_i=_p;_m._grpstart=_h;_m._grpend=_i;_m._rtype=16;_s._calcGroupData(_m,_f);if(_s.reversesubsum){_c.splice(_h,0,_m);}else{_c.splice(_i,0,_m);}_m=null;_j++ ;_p++ ;_q++ ;return false;}return true;}while(true){if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}if(_createGroupData_grp_loop()){break;}}_k=_l;_q=1;function _createGroupData_lastgrp_loop(){if(_q<=_n){_d[_q]=_p;_q++ ;return false;}return true;}while(true){if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}if(_createGroupData_lastgrp_loop()){break;}}}_p++ ;return false;}return true;}while(true){if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}if(_createGroupData_loop(this)){break;}}var _q=1;var _r=_c.length;function _createGroupData_last_loop(_s){if(_q<=_b){_m=[];_m._level=_q;_h=_d[_q];_i=_r;_m._grpstart=_h;_m._grpend=_i;_m._rtype=16;_s._calcGroupData(_m,_f);if(_s.reversesubsum){_c.splice(_h,0,_m);}else{_c[_r]=_m;}_r++ ;_q++ ;_m=null;return false;}return true;}while(true){if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}if(_createGroupData_last_loop(this)){break;}}delete _r;};_pDataset._resetSortGroup=function(){var _a=this.rowposition;if(this.rowposition== -1){var _a=0;}var _b=this._viewRecords[_a];if(this._parseKeyCols()>0&&this._rawRecords.length>0){if(this._rawRecords!=this._viewRecords){if(this._viewRecords.length==0){_b=null;return false;}this._deleteAllGroupData();}else{this._viewRecords=null;this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}this._sortData();this._createGroupData();this.rowcount=this._viewRecords.length;}_b=null;return false;};_pDataset._adjustGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=_b.length;var _d=[];var _e=0;function _adjustGroupRowData_init_loop(){if(_e<_c){_d[_b[_e].colidx]=_b[_e].level;_e++ ;return false;}return true;}while(true){if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}if(_adjustGroupRowData_init_loop()){break;}}var _f=this._viewRecords;var _g=_f.length;var _h;var _i=_a;function _adjustGroupRowData_loop(_j){if(_i<_g){_h=_f[_i];if(_h&&_h._rtype==16&&_h._grpend>=_a){_h._grpend-- ;if(_h._grpstart<=_a){if(_h._grpend<=_h._grpstart){_f.splice(_i,1);_i-- ;}else{_j._calcGroupData(_h,_d);}}else{_h._grpstart-- ;}}_i++ ;return false;}return true;}while(true){if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}if(_adjustGroupRowData_loop(this)){break;}}_d=null;return true;};_pDataset._updateGroupRowData=function(_a){var _b=this._keycols;if(_b.max_keylevel==0){return false;}var _c=_b.length;if(_c==0){return false;}var _d=[];var _e=0;function _updateGroupRowData_init_loop(){if(_e<_c){_d[_b[_e].colidx]=_b[_e].level;_e++ ;return false;}return true;}while(true){if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}if(_updateGroupRowData_init_loop()){break;}}var _f=this._viewRecords;var _g=_f.length;var _h;var _i=_a;function _updateGroupRowData_loop(_j){if(_i<_g){_h=_f[_i];if(_h._rtype==16&&_h._grpstart<=_a&&_h._grpend>=_a){_j._calcGroupData(_h,_d);}_i++ ;return false;}return true;}while(true){if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}if(_updateGroupRowData_loop(this)){break;}}_d=null;return true;};_pDataset._removeEmptyRows=function(){var _a=this._rawRecords;var _b=_a.length;var _c=_b-1;function _removeEmptyRows_rm_loop(){if(_c>=0){if(_a[_c]._rtype==0){_a.splice(_c,1);}_c-- ;return false;}return true;}while(true){if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}if(_removeEmptyRows_rm_loop()){break;}}_b=_a.length;var _c=0;function _removeEmptyRows_adj_loop(){if(_c<_b){_a[_c]._rawidx=_c;_c++ ;return false;}return true;}while(true){if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}if(_removeEmptyRows_adj_loop()){break;}}};_pDataset._reFilter=function(){var _a;if(this.filterstr.length>0){_a=this._viewRecords;if(_a!=this._rawRecords){_a.splice(0,_a.length);}_a=this._viewRecords=this._getNotDelRec();if(this._filterFn==null){var _b=this._createExprFunc(this.filterstr);if(typeof _b=="function"){this._filterFn=_b;}}if(this._filterFn){var _c=this._filterFn;var _d=_a.length;var _e;var _f=_d-1;function _reFilter_loop(_g){if(_f>=0){_e=_c.call(_g,_f,_f,null,_g);if(!_e||_a[_f]._rtype==8){_a.splice(_f,1);}_f-- ;return false;}return true;}while(true){if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}if(_reFilter_loop(this)){break;}}}}else{_a=this._viewRecords;if(_a!=this._rawRecords){_a.splice(0,_a.length);}this._viewRecords=this._getNotDelRec();}_a=null;this.rowcount=this._viewRecords.length;};_pDataset._getConstColIndex=function(_a){return this._constVars.indexOf(_a);};_pDataset._getDataColIndex=function(_a){return this.colinfos.indexOf(_a);};_pDataset._addConstColumn=function(_a,_b,_c,_d){if(_a in this.colinfos){return  -1;}if(_a in this._constVars){var _e=this._constVars.get_item(_a);if(_b!=_e){this._constVars.set_item(_a,_b);return this._constVars.indexOf(_a);}else{return  -1;}}if(_c){_c=nexacro.DataUtils._typecodes[_c.toLowerCase()];_b=nexacro.DataUtils.convert(_b,_c);}var _f="";if(_c){_f+=" type=\""+nexacro.DataUtils._typenames[_c]+"\"";}if(_d){_f+=" size=\""+_d+"\"";}if(_f){this._constVars2.add(_a,_f);}this.constcount++ ;this.colcount++ ;return this._constVars.add(_a,_b);};_pDataset._addColumn=function(_a,_b,_c,_d,_e){if(this.colinfos){if(this.colinfos[_a]&&this.colinfos[_a].name!=""){if(nexacro.Browser=="IE"&&this.colinfos[_a].name===undefined){}else{return  -1;}}}if(this._constVars){if(this._constVars[_a]&&this._constVars[_a].name!=""){if(nexacro.Browser=="IE"&&this._constVars[_a].name===undefined){}else{return  -1;}}}var _f;if(_b==undefined){_f=1;_b="STRING";}else{_f=nexacro.DataUtils._typeint[_b.toLowerCase()];}if(_f==null){_f=1;}if(( +_c)!=( +_c)){_c=256;}var _g=this.colinfos.length;var _h=new nexacro.DSColumnInfo(_a,_b,_f,_c,_d,_e,_g);this.colcount++ ;return this.colinfos.add(_a,_h);};_pDataset._addColumnInfo=function(_a,_b){if((_a in this.colinfos)||(_a in this._constVars)){return  -1;}var _c=this.colinfos.length;var _d=new nexacro.DSColumnInfo(_a,_b.type,_b.ntype,_b.size,_b.prop,_b.sumtext,_c);this.colcount++ ;return this.colinfos.add(_a,_d);};_pDataset._appendColList=function(_a){if(_a._type_name=="DSColumnInfoList"){var _b=_a.length;var _c=0;var _d=this.colinfos.length;if(_b>0){var _e=0;function _appendColList_loop(_f){if(_e<_b){var _g=_a[_e];var _h=_g.id;if((_h in _f.colinfos)||(_h in _f._constVars)){_e++ ;return false;}var _i=new nexacro.DSColumnInfo(_h,_g.type,_g.ntype,_g.size,_g.prop,_g.sumtext,_d);_f.colinfos.add(_h,_i);_d++ ;_c++ ;_e++ ;return false;}return true;}while(true){if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}if(_appendColList_loop(this)){break;}}if(_c>0){this.colcount+=_c;}}return _c;}return 0;};_pDataset._deleteColumn=function(_a){if(this.updatecontrol){return false;}var _b=this._constVars;var _c=this.colinfos;if(typeof (_a)=="string"){var _d=_b.indexOf(_a);if(_c.indexOf(_a)> -1){_a=_c.indexOf(_a);}else if(_b.indexOf(_a)> -1){_a=_b.indexOf(_a)+_c.length;}else{return false;}}else{if(( +_a)!=( +_a)||_a==undefined){_a=0;}}if(this.colinfos.deleteItem(_a)> -1){this.colcount-- ;return true;}else{if(_b.deleteItem(_a-this.colinfos.length)> -1){this.constcount-- ;this.colcount-- ;return true;}}return false;};_pDataset._appendRow=function(_a){var _b=[];_b._rawidx=this._rawRecords.length;_b._level=0;_b._rtype=_a;this._rawRecords[_b._rawidx]=_b;var _c=this._viewRecords.length;if(this._rawRecords!=this._viewRecords){this._viewRecords[_c]=_b;_c++ ;}this.rowcount=_c;_b=null;delete _c;return this.rowcount-1;};_pDataset._insertRow=function(_a,_b){var _c=this._viewRecords;if(_a>=_c.length){return this._appendRow(_b);}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=[];_d._rawidx=this._rawRecords.length;_d._rtype=_b;_d._level=0;var _e=this._rawRecords;var _f=_e.length;var _g=0;for(var _h=0;_h<_f;_h++ ){if(_e[_h]._rtype==8){_g++ ;}if(_h==_a+_g){break;}}this._rawRecords.splice(_a+_g,0,_d);_c.splice(_a,0,_d);this._removeEmptyRows();this.rowcount=this._viewRecords.length;_d=null;return _a;};_pDataset._deleteRow=function(_a){if(!(( +_a)!=( +_a))){_a=parseInt(_a)|0;}if(_a<0){return  -1;}var _b=this._viewRecords;if(_a>=_b.length){return  -1;}if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _c=_b[_a];if(_c){var _d=this._deletedRecords.length;if(this.updatecontrol){if(_c._rtype==1){_c._rtype=8;this._deletedRecords[_d]=_c;_d++ ;_b.splice(_a,1);}else if(_c._rtype==2){_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}else if(_c._rtype==4){var _e=_c._orgrow;var _f=this.colinfos.length;for(var _g=0;_g<_f;_g++ ){_c[_g]=_e[_g];}delete _c._orgrow;this._deletedRecords[_d]=_c;_d++ ;_b.splice(_a,1);_c._rtype=8;}else if(_c._rtype==16){_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}else{return  -1;}}else{_c._rtype=0;this._removeEmptyRows();_b.splice(_a,1);}this.rowcount=this._viewRecords.length;}return _a;};_pDataset._moveRow=function(_a,_b){var _c=this._viewRecords;var _d=this._rawRecords[_a];if(this._rawRecords.length<=0){return  -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return  -1;}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);this._rawRecords.splice(_a,1);this._rawRecords.splice(_b,0,_d);}else{var _e=this._findrawRecords(_a);var _f=this._findrawRecords(_b);this._rawRecords.splice(_e.idx,1);this._rawRecords.splice(_f.idx,0,_e.obj);}_d=_c[_a];_c.splice(_a,1);_c.splice(_b,0,_d);return _b;};_pDataset._findrawRecords=function(_a){var _b=_a,_c;for(var _d=0;_d<this._rawRecords.length;_d++ ){if(this._rawRecords[_d]._rtype==8){continue;}if(_b==0){_c=this._rawRecords[_d];break;}_b-- ;}return {obj:_c,idx:_d};};_pDataset._exchangeRow=function(_a,_b){var _c=this._viewRecords;if(this._rawRecords.length<=0){return  -1;}if(_a>=_c.length||_b>=_c.length||_a==_b){return false;}if(this._rawRecords==_c){_c=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _d=this._rawRecords[_a];this._rawRecords[_a]=_c[_b];this._rawRecords[_b]=_d;_d=_c[_a];_c[_a]=_c[_b];_c[_b]=_d;return true;};_pDataset._deleteAll=function(){var _a=this._viewRecords;var _b=_a.length;var _c=0;var _d=0;var _e=this._deletedRecords.length;var _f=this.updatecontrol;var _g=this._deletedRecords;function _deleteAll_loop(_h){if(_d<_b){var _i=_a[_d];if(_f){if(_i._rtype==1){_i._rtype=8;_g[_e]=_i;_e++ ;}else if(_i._rtype==2){_i._rtype=0;_c++ ;}else if(_i._rtype==4){var _j=_i._orgrow;var _k=_h.colinfos.length;for(var _l=0;_l<_k;_l++ ){_i[_l]=_j[_l];}delete _i._orgrow;_i._rtype=8;_g[_e]=_i;_e++ ;}}else{_i._rtype=0;_c++ ;}_d++ ;return false;}return true;}while(true){if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}if(_deleteAll_loop(this)){break;}}if(this._rawRecords==this._viewRecords){this._viewRecords=[];}else{this._viewRecords.splice(0,this._viewRecords.length);}if(_c>0){this._removeEmptyRows();}this.rowcount=0;if(this.loadkeymode.toLowerCase()=="reset"){this.keystring=this._defaultKeyStr;this.on_apply_keystring();}return _b;};_pDataset._deleteMultiRows=function(_a){var _b=this._viewRecords;if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}var _c=this._deletedRecords;var _d=_b.length;var _e=[];var _f=0;var _g;var _h;var _i=0;var _j= -1;var _k=_c.length;var _l=0;var _m=0;function _deleteMultiRows_loop(_n){if(_i<_d){_j=_a[_f];_g=_b[_i];_h=_b[_j-_m];if(_g==_h){if(_n.updatecontrol){if(_g._rtype==1){_g._rtype=8;_c[_k]=_g;_k++ ;_f++ ;}else if(_g._rtype==2){_g._rtype=0;_n._removeEmptyRows();_f++ ;}else if(_g._rtype==4){var _o=_g._orgrow;var _p=_n.colinfos.length;for(var _q=0;_q<_p;_q++ ){_g[_q]=_o[_q];}delete _g._orgrow;_g._rtype=8;_c[_k]=_g;_k++ ;_f++ ;}}else{_g._rtype=0;_n._removeEmptyRows();_b.splice(_i,1);_d-- ;_i-- ;_f++ ;_m++ ;}}else{_e[_l]=_g;_l++ ;}_i++ ;return false;}return true;}while(true){if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}if(_deleteMultiRows_loop(this)){break;}}delete _k;delete _l;if(_f>0){if(this._rawRecords!=this._viewRecords){this._viewRecords.splice(0,this._viewRecords.length);}this._viewRecords=_e;}_e=null;return _f;};_pDataset._filterRow=function(_a){var _b=this._viewRecords;if(_a>=_b.length){return false;}if(this._rawRecords==_b){_b=this._viewRecords=this._rawRecords.slice(0,this._rawRecords.length);}_b.splice(_a,1);this._adjustGroupRowData(_a);this.rowcount=this._viewRecords.length;return true;};_pDataset._updateColumn=function(_a,_b,_c,_d){var _e=_b[_c];if(_e===_d||_b._rtype==16){return false;}if(_b._rtype==1&&this.updatecontrol){var _f=[];var _g=_b.length;var _h=0;function _updateColumn_loop(){if(_h<_g){_f[_h]=_b[_h];_h++ ;return false;}return true;}while(true){if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}if(_updateColumn_loop()){break;}}_b._orgrow=_f;_b._rtype=4;_f=null;}else if(_b._rtype==4&&this.updatecontrol){if(_b._orgrow){var _i=this.colinfos.length;_b[_c]=_d;if(_b._orgcolstrings){_b._orgcolstrings[_c]=_d;}var _j=true;for(var _k=0;_k<_i;_k++ ){if(_b[_k] instanceof nexacro.Decimal){if(_b._orgrow[_k] instanceof nexacro.Decimal){if(_b[_k].isEqual(_b._orgrow[_k])==false){_j=false;break;}}else if(_b[_k]!=_b._orgrow[_k]){_j=false;break;}}else if(_b[_k] instanceof nexacro.Date){if(_b._orgrow[_k] instanceof nexacro.Date){if(_b[_k].valueOf()!=_b._orgrow[_k].valueOf()){_j=false;break;}}else if(_b[_k]!=_b._orgrow[_k]){_j=false;break;}}else if(!(_b[_k]==""&&_b._orgrow[_k]==undefined)&&_b[_k]!=_b._orgrow[_k]){_j=false;break;}}if(_j==true){delete _b["_orgrow"];_b._rtype=1;}}}_b[_c]=_d;if(_b._orgcolstrings){_b._orgcolstrings[_c]=_d;}this._updateGroupRowData(_a);return true;};_pDataset._setLayout=function(_a){this.colinfos=_a.colinfos;this._constVars=_a._constVars;};_pDataset._setRawData=function(_a,_b){this._rawRecords=_a;this._viewRecords=this._rawRecords;this._deletedRecords=_b;};_pDataset._createExprFunc=function(_a){var _b=new nexacro.ExprParser();var _c=_b.makeExpr(this,_a);var _d=nexacro._createInlineFunc(_c,["currow","rowidx","comp","dataset"]);return _d;};_pDataset._getColumnSize=function(_a){if(( +_a)!=( +_a)){if(this.colinfos[_a]){return this.colinfos[_a].size;}else if(this._conVars[_a]){return this._colVars[_a].size;}else{return undefined;}}else{if(_a<0||_a>=this.colcount){return undefined;}var _b=this.colinfos.length;if(this.colinfos[_a]){return this.colinfos[_a].size;}else{return this._colVars[_a-_b].size;}}};_pDataset._getColumnType=function(_a){if(_a in this.colinfos){return this.colinfos[_a].ntype;}if(_a in this._constVars){var _b=this._constVars[_a];var _c=(typeof _b);if(_c=="number"){return 2;}return nexacro.DataUtils._typecodes[_c];}};_pDataset._isConstColumn=function(_a){if(( +_a)!=( +_a)){if(this._constVars[_a]){return true;}else{return false;}}else{var _b=this.colinfos.length;if(_a<this.colcount&&_a>=_b){return true;}else{return false;}}};_pDataset._copyConstColList=function(_a){if(_a._type_name=="VariableList"){var _b=_a.length;var _c=0;var _d=this._constVars.length;if(_b>0){var _e=0;function _copyConstColList_loop(_f){if(_e<_b){var _g=_a.get_id(_e);if((_g in _f.colinfos)||(_g in _f._constVars)){_e++ ;return false;}_f._constVars.add(_g,_a[_e]);_d++ ;_c++ ;_e++ ;return false;}return true;}while(true){if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}if(_copyConstColList_loop(this)){break;}}if(_c>0){this.count+=_c;this.constcount+=_c;}}return _c;}return 0;};_pDataset._copyRowList=function(_a){var _b=_a.length;var _c=0;var _d=this._rawRecords.length;var _e=this._viewRecords.length;var _f=this._rawRecords.length;var _g=0;function _copyRowList_loop(_h){if(_g<_b){var _i=_a[_g];var _j=_i._level;var _k=_i._rtype;if((_j==0)&&(_k==1||_k==2||_k==4)){var _l=[];_l._level=0;_l._rawidx=_d;_l._rtype=1;var _m=_i.length;for(var _n=0;_n<_m;_n++ ){_l[_n]=_i[_n];}if(_h._rawRecords!=_h._viewRecords){_h._viewRecords[_e]=_l;_e++ ;}_h._rawRecords[_f]=_l;_f++ ;_l=null;}_i=null;_d++ ;_c++ ;_g++ ;return false;}return true;}while(true){if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}if(_copyRowList_loop(this)){break;}}delete _f;delete _e;return _c;};_pDataset._copyData=function(_a,_b){if(this.name==undefined){this.id=this.name=_a.id;}this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);if(_b==true){if(_a._viewRecords.length>0){this._copyRowList(_a._viewRecords);}}else{if(_a._rawRecords.length>0){this._copyRowList(_a._rawRecords);}}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._mergeData=function(_a){var _b=_a._rawRecords.length;var _c=0;var _d=this._rawRecords.length;var _e=_d;var _f=this.colinfos.length;var _g=this._viewRecords.length;var _h=this._rawRecords.length;var _i=0;function _mergeData_loop(_j){if(_i<_b){var _k=_a._rawRecords[_i];var _l=_k._level;var _m=_k._rtype;if((_l==0)&&(_m==1||_m==2||_m==4)){var _n=[];_n._level=0;_n._rawidx=_e;_n._rtype=1;if(_j._rawRecords!=_j._viewRecords){_j._viewRecords[_g]=_n;_g++ ;}_j._rawRecords[_h]=_n;_h++ ;for(var _q=0;_q<_f;_q++ ){var _o=_j.colinfos.get_id(_q);var _p=_a.colinfos.indexOf(_o);if(_p!=null){_n[_q]=_j.colinfos[_q]._fromVal(_k[_p]);}}_e++ ;_c++ ;}_i++ ;return false;}return true;}while(true){if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}if(_mergeData_loop(this)){break;}}delete _g;delete _h;if(_c>0){this.rowcount+=_c;}return _c;};_pDataset._appendConstColList=function(_a,_b){if(_a._type_name=="VariableList"){var _c=this._constVars.length;var _d=0;var _e=Math.min(_c,_a.length);if(_c>0){if(_b){var _f=0;function _appendConstColList_loop(_g){if(_f<_c){var _h=_g._constVars.get_id(_f);var _i=_a.indexOf(_h);if(_i!=null){_g._constVars.set_item(_f,_a[_i]);_d++ ;}_f++ ;return false;}return true;}while(true){if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}if(_appendConstColList_loop(this)){break;}}}else{var _f=0;function _appendConstColList_loop2(_g){if(_f<_e){_g._constVars.set_item(_f,_a[_f]);_d++ ;_f++ ;return false;}return true;}while(true){if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}if(_appendConstColList_loop2(this)){break;}}}}return _d;}return 0;};_pDataset._appendRowList=function(_a,_b){var _c=_a._viewRecords.length;var _d=0;var _e=this._rawRecords.length;var _f=this.colinfos.length;var _g=Math.min(_f,_a._rawRecords[0].length);var _h=this._viewRecords.length;var _i=this._rawRecords.length;var _j=0;function _appendRowList_loop(_k){if(_j<_c){var _l=_a._viewRecords[_j];var _m=_l._level;var _n=_l._rtype;if((_m==0)&&(_n==1||_n==2||_n==4)){var _o=[];_o._level=0;_o._rawidx=_e;_o._rtype=1;if(_b==true||_b=="true"){var _p=0;function _appendRowList_loop2(){if(_p<_f){var _q=_k.colinfos.get_id(_p);var _r=_a.colinfos.indexOf(_q);if(_r!=null){_o[_p]=nexacro.DataUtils.convert(_l[_r],_k.colinfos[_p].ntype);}_p++ ;return false;}return true;}while(true){if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}if(_appendRowList_loop2()){break;}}}else{var _p=0;function _appendRowList_loop3(){if(_p<_g){_o[_p]=nexacro.DataUtils.convert(_l[_p],_k.colinfos[_p].ntype);_p++ ;return false;}return true;}while(true){if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}if(_appendRowList_loop3()){break;}}}if(_k._rawRecords!=_k._viewRecords){_k._viewRecords[_h]=_o;_h++ ;}_k._rawRecords[_i]=_o;_i++ ;}_e++ ;_d++ ;_j++ ;return false;}return true;}while(true){if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}if(_appendRowList_loop(this)){break;}}delete _h;delete _i;return _d;};_pDataset._appendData=function(_a,_b,_c){if(this.colcount==0){this._appendColList(_a.colinfos);if(_c==true){this._copyConstColList(_a._constVars);}}else{if(_c==true&&_a._constVars.length>0){this._appendConstColList(_a._constVars,_b);}}if(_a._viewRecords.length>0){this._appendRowList(_a,_b);}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._bWorkingstatus=false;_pDataset._endLoad=function(_a,_b,_c){this._is_loaded=true;this._bWorkingstatus=true;this._reFilter();this._resetSortGroup();if(this._eventstat){this.on_fire_onload(_a,_b,_c);if(this._viewRecords&&this._viewRecords.length>0){var _d=this.rowposition== -1?0:this.rowposition;if(_d>=this.rowcount){_d= -1;}var _e=this.rowposition;if(_d!=_e||(_c==3&&_b=="SUCCESS"&&_d>0)){if(this.onrowposchanged&&this.onrowposchanged._has_handlers){var _f=new nexacro.DSRowPosChangeEventInfo(this,"onrowposchanged",_e,_d,51);if(_d>=0||_d<this.rowcount){this.rowposition=_d;this.on_fire_onrowposchanged(_f);}}else{this.rowposition=_d;}}if(this.onvaluechanged&&this.onvaluechanged._has_handlers){var _f=new nexacro.DSColChangeEventInfo(this,"onvaluechanged",this.rowposition, -1, -1,"",undefined,undefined);this.on_fire_onvaluechanged(_f);}}}else if(this._viewRecords.length>0){this.rowposition=0;}this._bWorkingstatus=false;};if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<9){_pDataset._setContents=function(_a){var _b="<Dataset id=\""+this.id+"\">"+_a+"</Dataset>";if(_b.length){var _c=nexacro._parseXMLDocument(_b);if(_c){if(_c.nodeName=="Dataset"){this._loadFromDOM(_c);}else{var _d=_c.getElementsByTagName("Dataset");this._loadFromDOM(_d[0]);}this.rowposition= -1;}_c=null;}this.updateSortGroup();if(this.parent&&(this.parent!=application&&this.parent._is_form==false)){this.on_created();}};}else{_pDataset._setContents=function(_a){if(_a.length){this._loadFromXMLStr(_a);this.rowposition= -1;}this.updateSortGroup();if(this.parent&&(this.parent!=application&&this.parent._is_form==false)){this.on_created();}};}_pDataset._loadFromDOM=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(_a==null){this.loadstatus=false;this._eventstat=this.enableevent;return 0;}if(!_b){_b=0;}if(!_c){_c= -1;}this._setColInfoFromDOM(_a,_d);_b=this._loadRecordFromDOM(_a,_b,_c);var _f=this._viewRecords;var _g=this._deletedRecords;var _h=this._rawRecords;if(_g.length>0){_f=this._viewRecords=[];var _i=_h.length;var _j=_f.length;var _k=0;function _loadFromDOM_delrow_loop(){if(_k<_i){_currowData=_h[_k];if(_currowData._rtype!=8){_f[_j]=_currowData;_j++ ;}_k++ ;return false;}return true;}while(true){if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}if(_loadFromDOM_delrow_loop()){break;}}}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=_f.length;this.loadstatus=false;this._eventstat=this.enableevent;_f=null;_g=null;_h=null;return _b;};_pDataset._setColInfoFromDOM=function(_a,_b){var _c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n,_o,_p,_q;if(_b){;}else{_j=_a.getElementsByTagName("ConstColumn");_f=(_j?_j.length:0);_c=0;function _loadFromDOM_const_loop(_r){if(_c<_f){_n=_j[_c];_p=_n.getAttribute("id");if(_p.length){_r._addConstColumn(_p,_n.getAttribute("value"),_n.getAttribute("type"));}_c++ ;return false;}return true;}while(true){if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}if(_loadFromDOM_const_loop(this)){break;}}_j=_a.getElementsByTagName("Column");_f=(_j?_j.length:0);_c=0;function _loadFromDOM_col_loop(_r){if(_c<_f){_n=_j[_c];_p=_n.getAttribute("id");if(_p.length){_r._addColumn(_p,_n.getAttribute("type"),_n.getAttribute("size"),_n.getAttribute("prop"),_n.getAttribute("sumtext"));}_c++ ;return false;}return true;}while(true){if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}if(_loadFromDOM_col_loop(this)){break;}}_j=null;}};_pDataset._loadRecordFromDOM=function(_a,_b,_c){var _d=this.colinfos;var _e;var _f,_g;_f=_a.getElementsByTagName("Row");var _h=(_f?_f.length:0);var _i=this._rawRecords;var _j=this._deletedRecords;var _k=_i.length;var _l=_j.length;var _m=_d.length;function _loadFromDOM_row_loop(){if(_b<_h){var _n=new Array(_m);_n._rawidx=_b;_n._level=0;var _o;for(var _r=0;_r<_m;_r++ ){_o=_d[_r];if(_o.ntype>=4&&_o.ntype<=7){_n[_o._index]=null;}}_rowElem=_f[_b];type=_rowElem.getAttribute("type");if(type==null){_n._rtype=1;}else if(type.charAt(0)=='I'||type.charAt(0)=='i'){_n._rtype=2;}else if(type.charAt(0)=='U'||type.charAt(0)=='u'){_n._rtype=4;}else if(type.charAt(0)=='D'||type.charAt(0)=='d'){_n._rtype=8;}else{_n._rtype=1;}_g=_rowElem.getElementsByTagName("Col");len=(_g?_g.length:0);var _p;for(j=0;j<len;j++ ){_colElem=_g[j];id=_colElem.getAttribute("id");_e=_d[id];if(_e){_p=_colElem.firstChild;if(_p){_n[_e._index]=_e._fromText(_p.nodeValue);}else{_n[_e._index]="";}}}_g=null;if(_n._rtype==4){_orgrowElems=_rowElem.getElementsByTagName("OrgRow");orgcnt=(_orgrowElems?_orgrowElems.length:0);if(orgcnt){var _q=new Array(_m);for(var _s=0;_s<_m;_s++ ){if(_d[_s].ntype>=4&&_d[_s].ntype<=7){_q[_d[_s]._index]=null;}}_g=_orgrowElems[0].getElementsByTagName("Col");len=(_g?_g.length:0);for(j=0;j<len;j++ ){_colElem=_g[j];id=_colElem.getAttribute("id");_e=_d[id];if(_e){_p=_colElem.firstChild;if(_p){_q[_e._index]=_e._fromText(_p.nodeValue);}}}_n._orgrow=_q;}}if(_n._rtype==8){_j[_l]=_n;_l++ ;}_i[_k]=_n;_i[_k]._orgcolstrings=_n;_k++ ;_b++ ;_n=null;if(_c>0&&(_k-_l)==_c){return true;}return false;}return true;}while(true){if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}if(_loadFromDOM_row_loop()){break;}}_f=null;_g=null;_i=null;_j=null;delete _k;delete _l;return _b;};_pDataset._setColInfoFromXMLStr=function(_a){var _b=0;var _c=nexacro._getXMLTagData(_a,_b,"<ColumnInfo>","</ColumnInfo>");if(_c){_b=_c[3];var _d=_c[0];var _e=0;function _loadFromXMLStr_const_loop(_g){var _h=nexacro._getXMLTagData2(_d,_e,"<ConstColumn ","</ConstColumn>");if(_h==null){return true;}_e=_h[3];var _i=_h[1];var _j=nexacro._getXMLAttributeID(_i);var _k=nexacro._getXMLAttributeData(_i,"value");if(_j.length){var _l=nexacro._getXMLAttributeType(_i);var _m=nexacro._getXMLAttributeData(_i,"size");_g._addConstColumn(_j,nexacro._decodeXml(_k),_l,_m);}return false;}while(true){if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}if(_loadFromXMLStr_const_loop(this)){break;}}var _f=0;function _loadFromXMLStr_col_loop(_g){var _c=nexacro._getXMLTagData4(_d,_f,"<Column ");if(_c==null){return true;}_f=_c[3];var _h=_c[1];var _i=nexacro._getXMLAttributeID(_h);if(_i&&_i.length){var _j=nexacro._getXMLAttributeType(_h);var _k=nexacro._getXMLAttributeData(_h,"size");var _l=nexacro._getXMLAttributeData(_h,"prop");var _m=nexacro._getXMLAttributeData(_h,"sumtext");_g._addColumn(_i,_j,_k,_l,_m);}return false;}while(true){if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}if(_loadFromXMLStr_col_loop(this)){break;}}}return _b;};_pDataset._loadRecordFromXMLStr=function(_a,_b,_c){var _d=this.colinfos;var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_e.length;var _h=_f.length;var _i=_d.length;var _j=0;if(_b> -1){function _loadFromXMLStr_row_loop(){var _k;var _l;var _m=nexacro._getXMLTagData3(_a,_b,"<Row","</Row>");if(_m==null){return true;}_b=_m[3];_k=_m[0];_l=_m[1];var _n=new Array(_i);_n._rawidx=_j;_n._level=0;_n._orgcolstrings=[];for(var _v=0;_v<_i;_v++ ){if(_d[_v].ntype>=4&&_d[_v].ntype<=7){_n[_d[_v]._index]=undefined;}}_j++ ;if(_l){var _o=nexacro._getXMLAttributeType(_l);if(!_o){_n._rtype=1;}else{var _p=_o.charAt(0);if(_p=='I'||_p=='i'){_n._rtype=2;}else if(_p=='U'||_p=='u'){_n._rtype=4;}else if(_p=='D'||_p=='d'){_n._rtype=8;}else{_n._rtype=1;}}}else{_n._rtype=1;}if(_n._rtype==4){var _q=nexacro._getXMLTagData(_k,0,"<OrgRow>","</OrgRow>");if(_q){_k=_k.substring(0,_q[2])+_k.substring(_q[3]);var _r=_q[0];var _s=new Array(_i);for(var _w=0;_w<_i;_w++ ){if(_d[_w].ntype>=4&&_d[_w].ntype<=7){_s[_d[_w]._index]=null;}}var _t=0;function _loadFromXMLStr_colvalue_loop2(){var _x=nexacro._getXMLTagData2(_r,_t,"<Col ","</Col>");if(_x==null){return true;}_t=_x[3];var _l=_x[1];var _y=nexacro._getXMLAttributeID(_l);var _z=_d[_y];if(_z){_s[_z._index]=_z._fromXMLText(_x[0]);}return false;}while(true){if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}if(_loadFromXMLStr_colvalue_loop2()){break;}}_n._orgrow=_s;}}var _u=0;function _loadFromXMLStr_colvalue_loop(){if(_k){var _x=nexacro._getXMLTagData2(_k,_u,"<Col ","</Col>");if(_x==null){return true;}_u=_x[3];var _l=_x[1];var _y=nexacro._getXMLAttributeID(_l);var _z=_d[_y];if(_z){_n[_z._index]=_z._fromXMLText(_x[0]);_n._orgcolstrings[_z._index]=_n[_z._index];}return false;}return true;}while(true){if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}if(_loadFromXMLStr_colvalue_loop()){break;}}if(_n._rtype==8){_f[_h]=_n;_h++ ;}_e[_g]=_n;_g++ ;_k=null;_l=null;_m=null;_n=null;if(_c>0&&(_g-_h)==_c){return true;}return false;}while(true){if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}if(_loadFromXMLStr_row_loop()){break;}}}_e=null;_f=null;return _b;};_pDataset._loadFromXMLStr=function(_a,_b,_c,_d,_e){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(!_b){_b=0;}if(!_c){_c= -1;}if(_e){if(_d){this._clearData();}else{this._clearAll();}}if(!_a){this.loadstatus=false;this._eventstat=this.enableevent;return 0;}if(_d){if(_b<=0){_b=_a.indexOf("<Rows>");if(_b> -1){_b+=6;}}}else{if(_b<=0){_b=this._setColInfoFromXMLStr(_a);_b=_a.indexOf("<Rows>",_b);if(_b> -1){_b+=6;}}}if(_b> -1){_b=this._loadRecordFromXMLStr(_a,_b,_c);}var _f=this._viewRecords;var _g=this._rawRecords;var _h=this._deletedRecords;var _i=this.colinfos;if(_h.length>0){_f=this._viewRecords=[];var _j=_g.length;var _k=_f.length;var _l=0;function _loadFromXMLStr_delrow_loop(){if(_l<_j){var _m=_g[_l];if(_m._rtype!=8){_f[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}if(_loadFromXMLStr_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=_i.length+this.constcount;this.rowcount=_f.length;this.loadstatus=false;this._eventstat=this.enableevent;_f=null;_g=null;_h=null;_i=null;return _b;};_pDataset._loadFromPPXArray=function(_a,_b,_c,_d,_e,_f){var _g=String.fromCharCode(31);this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}if(!_a||_a.length==0){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}this._setColInfoFromPPXLines(_a,_e);_c=this._loadRecordFromPPXLines(_b,_c,_d);var _h=this._deletedRecords.length;if(_h){var _i=this._viewRecords=[];var _j=this._rawRecords;len=_j.length;var _k=_i.length;var _l=0;function _loadFromPPXArray_delrow_loop(){if(_l<len){var _m=_j[_l];if(_m._rtype!=8){_i[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}if(_loadFromPPXArray_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._getColLinesFromPPXLines=function(_a,_b){var _c=_a.length;var _d=_b;while(true){var _e=_a[_d].charAt(0);if(_d<_c&&(_e=="C"||_e=="V")){_d++ ;}else{break;}}return _a.slice(_b,_d);};_pDataset._setColInfoFromPPXLines=function(_a,_b){var _c=String.fromCharCode(31);var _d=null;var _e=_a.length;var _f=0;if(!_b){function _setColInfoFromPPXLines_loop(_g){if(_f<_e){var _h=_a[_f];var _i=_h.charAt(0);if(_i=='V'){var _j=_h.split(_c);_g._addConstColumn(_j[1],_j[3],_j[2]);_f++ ;return false;}else if(_i=='C'){var _j=_h.split(_c);_g._addColumn(_j[1],_j[2],_j[3],_j[4],_j[5]);_f++ ;return false;}return true;}return true;}while(true){if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}if(_setColInfoFromPPXLines_loop(this)){break;}}}};_pDataset._loadRecordFromPPXLines=function(_a,_b,_c){var _d=String.fromCharCode(31);var _e=this.colinfos;var _f=this._rawRecords;var _g=this._deletedRecords;var _h=_f.length;var _i=_g.length;var _j=_e.length;var _k=_a.length;if(_b<_k){function _loadRecordFromPPXLines_row_loop(){if(_b<_k){var _l=_a[_b];var _m=_l.charAt(0);if(_m=='n'||_m=='i'||_m=='u'||_m=='d'){var _n=new Array(_j);_n._rawidx=_h;_n._level=0;if(_m=='i'){_n._rtype=2;}else if(_m=='u'){_n._rtype=4;}else if(_m=='d'){_n._rtype=8;}else{_n._rtype=1;}}else if(_m=='o'){_b++ ;return false;}else{return true;}var _o=_l.split(_d);var _p=_o.length;var _q=1;for(var _r=0;_r<_p;_r++ ){if(_o[_r]==String.fromCharCode(3)){_o[_r]=undefined;}}function _loadRecordFromPPXLines_colvalue_loop(){if(_q<_p){var _s=_o[_q];var _t=_e[_s];if(_t){_n[_t._index]=_t._fromText(_o[_q+1]);}_q+=2;return false;}return true;}while(true){if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}if(_loadRecordFromPPXLines_colvalue_loop()){break;}}if(_n._rtype==8){_g[_i]=_n;_i++ ;}_f[_h]=_n;_f[_h]._orgcolstrings=_n;_h++ ;_b++ ;if(_c>0&&(_h-_i)==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}if(_loadRecordFromPPXLines_row_loop()){break;}}}_e=null;_f=null;_g=null;return _b;};_pDataset._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t","\t\t\t\t\t\t\t"];_pDataset.__writeXMLData=function(_a,_b,_c){_a.push(this._TABS[_c]+_b);};_pDataset.__writeXMLNormalRow=function(_a,_b,_c,_d){this.__writeXMLData(_a,"<Row>",_c++ );this.__writeXMLRowData(_a,_b,_c,_d);this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLCrudRow=function(_a,_b,_c,_d){var _e="<Row";switch(_b._rtype){case 1:break;case 2:_e+=" type=\"insert\"";break;case 4:_e+=" type=\"update\"";break;case 8:_e+=" type=\"delete\"";break;}_e+=">";this.__writeXMLData(_a,_e,_c++ );this.__writeXMLRowData(_a,_b,_c);if(_b._rtype==4&&_b._orgrow){this.__writeXMLData(_a,"<OrgRow>",_c++ );this.__writeXMLRowData(_a,_b._orgrow,_c,_d);this.__writeXMLData(_a,"</OrgRow>", --_c);}this.__writeXMLData(_a,"</Row>", --_c);};_pDataset.__writeXMLRowData=function(_a,_b,_c,_d){var _e=this.colinfos.length;var _f;var _g;var _h=0;function __writeColData_loop(_i){if(_h<_e){_f=_i.colinfos[_h].id;idx=_i.colinfos[_h]._index;if(_b._orgcolstrings&&!!_d){_g=_b._orgcolstrings[idx];}else{_g=_i.colinfos[_h]._toXMLText(_b[idx]);}if(_g!=null){if(_g.length==0){_i.__writeXMLData(_a,"<Col id=\""+_f+"\" />",_c);}else{_i.__writeXMLData(_a,"<Col id=\""+_f+"\">"+_g.toString()+"</Col>",_c);}}_h++ ;return false;}return true;}while(true){if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}if(__writeColData_loop(this)){break;}}};_pDataset.__MakeDataConvertFunc=function(){var _a=this.colinfos;var _b=_a.length;var _c="(function () { return function (arr) { ";for(var _e=0;_e<_b;_e++ ){var _d=_a[_e];switch(_d.ntype){case 1:break;case 2:_c+="arr["+_e+"] = nexacro.DataUtils.toIntFromText(arr["+_e+"]); ";break;case 3:_c+="arr["+_e+"] = nexacro.DataUtils.toFloatFromText(arr["+_e+"]); ";break;case 4:_c+="arr["+_e+"] = nexacro.DataUtils.toDecimalFromText(arr["+_e+"]); ";break;case 5:_c+="arr["+_e+"] = nexacro.DataUtils.toDateFromText(arr["+_e+"]); ";break;case 6:_c+="arr["+_e+"] = nexacro.DataUtils.toTimeFromText(arr["+_e+"]); ";break;case 7:_c+="arr["+_e+"] = nexacro.DataUtils.toDateTimeFromText(arr["+_e+"]); ";break;case 8:_c+="arr["+_e+"] = nexacro.DataUtils.toBlobFromText(arr["+_e+"]); ";break;default:_c+="arr["+_e+"] = nexacro.DataUtils.toTextFromvariant(arr["+_e+"]); ";break;}}_c+="return arr; }; })();";return nexacro._executeEvalStr(_c);};_pDataset.__ssvMakeDataMappingFunc=function(_a){var _b=String.fromCharCode(31);var _c={};var _d=_a.split(_b);var _e=_d.length;for(var _m=1;_m<_e;_m++ ){var _f=_d[_m].split(":");var _g=_f[0];_c[_g]=_m-1;}var _h=this.colinfos;var _i=_h.length;var _j="(function () { return function (arr) { return [";for(var _m=0;_m<_i;_m++ ){var _k=_h[_m];var _l=_c[_k.id];if(_l!=null){switch(_k.ntype){case 1:_j+="arr["+_l+"]";break;case 2:_j+="nexacro.DataUtils.toIntFromText(arr["+_l+"])";break;case 3:_j+="nexacro.DataUtils.toFloatFromText(arr["+_l+"])";break;case 4:_j+="nexacro.DataUtils.toDecimalFromText(arr["+_l+"])";break;case 5:_j+="nexacro.DataUtils.toDateFromText(arr["+_l+"])";break;case 6:_j+="nexacro.DataUtils.toTimeFromText(arr["+_l+"])";break;case 7:_j+="nexacro.DataUtils.toDateTimeFromText(arr["+_l+"])";break;case 8:_j+="nexacro.DataUtils.toBlobFromText(arr["+_l+"])";break;default:_j+="nexacro.DataUtils.toTextFromvariant(arr["+_l+"])";break;}}if(_m!=(_i-1)){_j+=",";}}_c=null;_j+="]; }; })();";return nexacro._executeEvalStr(_j);};_pDataset.__ssvSetConstColInfo=function(_a){var _b=String.fromCharCode(31);var _c=_a.split(_b);var _d=_c.length;var _e=0;function __ssvSetConstColInfo_loop(_f){if(_e<_d){var _g=_c[_e].split("=");var _h=_g[0];if(_h&&_h!="_Const_"){var _i=_g[1];var _j=_h.split(":");var _k=_j[0];var _l=_j[1];if(_l){var _m=_l.indexOf("(");if(_m> -1){_l=_l.substring(0,_m);}}_f._addConstColumn(_k,_i,_l);}_e++ ;return false;}return true;}while(true){if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}if(__ssvSetConstColInfo_loop(this)){break;}}};_pDataset.__ssvSetColInfo=function(_a){var _b=String.fromCharCode(31);var _c=0;var _d=_a.split(_b);var _c=_d.length;var _e=0;function __ssvSetColInfo_loop(_f){if(_e<_c){var _g=_d[_e].split(":");var _h=_g[0];var _i,_j;if(_h&&_h!="_RowType_"){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l> -1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k;}}else{_i="STRING";_j=256;}_f._addColumn(_h,_i,_j,_g[2],_g[3]);}_e++ ;return false;}return true;}while(true){if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}if(__ssvSetColInfo_loop(this)){break;}}return _c;};_pDataset._loadFromSSVArray=function(_a,_b,_c,_d,_e,_f,_g){var _h=String.fromCharCode(31);this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _i=this._setColInfoFromSSVLines(_a,_e);if(!_i){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}_c=this._loadRecordFromSSVLines(_b,_c,_d,_i,_g);var _j=this._deletedRecords.length;if(_j){var _k=this._viewRecords=[];var _l=this._rawRecords;len=_l.length;var _m=_k.length;var _n=0;function _loadFromSSVArray_viewRecords_loop(){if(_n<len){var _o=_l[_n];if(_o._rtype!=8){_k[_m]=_o;_m++ ;}_n++ ;return false;}return true;}while(true){if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}if(_loadFromSSVArray_viewRecords_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._getColLinesFromSSVLines=function(_a,_b){var _c=_a.length;var _d=_b;if(_d<_c&&_a[_d].substring(0,7)=="_Const_"){_d++ ;}if(_d<_c&&_a[_d].substring(0,9)=="_RowType_"){_d++ ;}return _a.slice(_b,_d);};_pDataset._setColInfoFromSSVLines=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null;var _d=_a.length;var _e=0;if(_b){while(_e<_d&&_a[_e].substring(0,9)!="_RowType_"){_e++ ;}if(_e>=_d){return null;}_c=this.__ssvMakeDataMappingFunc(_a[_e]);}else{if(_e<_d&&_a[_e].substring(0,7)=="_Const_"){this.__ssvSetConstColInfo(_a[_e]);_e++ ;}if(_e>_d){return null;}if(_e<_d&&_a[_e].substring(0,9)=="_RowType_"){this.__ssvSetColInfo(_a[_e]);_e++ ;}if(_e>_d){return null;}_c=this.__MakeDataConvertFunc();}return _c;};_pDataset._loadRecordFromSSVLines=function(_a,_b,_c,_d,_e){var _f=String.fromCharCode(31);var _g=String.fromCharCode(3);var _h=this._rawRecords;var _i=this._deletedRecords;var _j=_h.length;var _k=_i.length;var _l=_a.length;function _loadRecordFromSSVLines_loop(_m){if(_b<_l){var _n=_a[_b];if(_n==""){_b++ ;return true;}var _o=_n.split(_f);type=_o[0];_o.shift();for(var _r=0,_s=_o.length;_r<_s;_r++ ){if(_o[_r]==_g){_o[_r]=undefined;}}_o=_d(_o);_o._rawidx=_j;_o._level=0;if(_m){_o._rtype=1;_h[_j]=_o;}else{if(type==null){_o._rtype=1;}else{var _p=type.charAt(0);if(_p=='I'||_p=='i'){_o._rtype=2;}else if(_p=='U'||_p=='u'){_o._rtype=4;}else if(_p=='D'||_p=='d'){_o._rtype=8;}else{_o._rtype=1;}}if(_o._rtype==4){if(_b<(_l-1)&&(_a[_b+1].charAt(0)=='O'||_a[_b+1].charAt(0)=='o')){var _q=_a[_b+1].split(_f);_q.shift();_q=_d(_q);_o._orgrow=_q;}}else if(_o._rtype==8){_i[_k]=_o;_k++ ;}_h[_j]=_o;_h[_j]._orgcolstrings=_o;}_j++ ;_b++ ;if(_c>0&&(_j-_k)==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}if(_loadRecordFromSSVLines_loop(_e)){break;}}return _b;};_pDataset.__writeData=function(_a,_b){_a.push(_b);};_pDataset.__getRowTypeChar=function(_a){var _b=null;switch(_a){case 1:_b="N";break;case 2:_b="I";break;case 4:_b="U";break;case 8:_b="D";break;case  -1:_b="O";break;}return _b;};_pDataset.__writeSSVNormalRow=function(_a,_b){this.__writeSSVRowData(_a,"N",_b);};_pDataset.__writeSSVCrudRow=function(_a,_b){this.__writeSSVRowData(_a,this.__getRowTypeChar(_b._rtype),_b);if(_b._rtype==4&&_b._orgrow){this.__writeSSVRowData(_a,this.__getRowTypeChar( -1),_b._orgrow);}};_pDataset.__writeSSVRowData=function(_a,_b,_c){var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);this.__writeData(_a,_b+_e);var _f=this.colinfos.length;var _g=0;function __writeSSVColData_loop(_h){if(_g<_f){idx=_h.colinfos[_g]._index;var _i=_h.colinfos[_g]._toText(_c[idx]);if(_i===undefined){_i=String.fromCharCode(3);}if(_i!=null){if(_g==(_f-1)){_h.__writeData(_a,_i+_d);}else{_h.__writeData(_a,_i+_e);}}else{if(_g==(_f-1)){_h.__writeData(_a,_d);}else{_h.__writeData(_a,_e);}}_g++ ;return false;}return true;}while(true){if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}if(__writeSSVColData_loop(this)){break;}}};nexacro.__splitCSVRowData=function(_a,_b){var _c=_a.split(",");var _d=_c.length;var _e=0;function __splitCSVRowData_loop1(){if(_e<_d){var _f=_c[_e];var _g=_f.charAt(0);if(_g=="\""||_g=="\'"){while(_f.length>0&&(_f[_f.length-1]=="\r"||_f[_f.length-1]=="\n")){_f=_f.substring(0,_f.length-1);}while(_f.length>0&&_f[_f.length-1]!=_g){if(_e<=_d){_f+=","+_c.splice(_e+1,1);_d-- ;}else{break;}}_c[_e]=nexacro._unQuoteStr(_f);}_e++ ;return false;}return true;}while(true){if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}if(__splitCSVRowData_loop1()){break;}}return _c;};_pDataset.__csvMakeDataMappingFunc=function(_a,_b){var _c={};for(var _k=0;_k<_b;_k++ ){var _d=_a[_k].split(":");var _e=_d[0];_c[_e]=_k;}var _f=this.colinfos;var _g=_f.length;var _h="(function () { return function (arr) { return [";for(var _k=0;_k<_g;_k++ ){var _i=_f[_k];var _j=_c[_i.id];if(_j!=null){switch(_i.ntype){case 1:_h+="arr["+_j+"]";break;case 2:_h+="nexacro.DataUtils.toIntFromText(arr["+_j+"])";break;case 3:_h+="nexacro.DataUtils.toFloatFromText(arr["+_j+"])";break;case 4:_h+="nexacro.DataUtils.toDecimalFromText(arr["+_j+"])";break;case 5:_h+="nexacro.DataUtils.toDateFromText(arr["+_j+"])";break;case 6:_h+="nexacro.DataUtils.toTimeFromText(arr["+_j+"])";break;case 7:_h+="nexacro.DataUtils.toDateTimeFromText(arr["+_j+"])";break;case 8:_h+="nexacro.DataUtils.toBlobFromText(arr["+_j+"])";break;default:_h+="nexacro.DataUtils.toTextFromvariant(arr["+_j+"])";break;}}if(_k!=(_g-1)){_h+=",";}}_h+="]; }; })();";_c=null;return nexacro._executeEvalStr(_h);};_pDataset.__csvSetColInfo=function(_a){var _b=String.fromCharCode(31);var _c=_a.split(",");var _d=_c.length;var _e=0;function __csvSetColInfo_loop(_f){if(_e<_d){var _g=_c[_e].split(":");var _h=_g[0];var _i,_j;if(_h){var _k=_g[1];if(_k){var _l=_k.indexOf("(");if(_l> -1){_i=_k.substring(0,_l).toUpperCase();_j=_k.substring(_l+1,_k.indexOf(")",_l+1))|0;}else{_i=_k.toUpperCase();}}else{_i="STRING";_j=256;}_f._addColumn(_h,_i,_j,_g[2],_g[3]);}_e++ ;return false;}return true;}while(true){if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}if(__csvSetColInfo_loop(this)){break;}}return _d;};_pDataset._loadFromCSVArray=function(_a,_b,_c,_d,_e,_f){this.loadstatus=true;this._eventstat=!this.loadstatus&&this.enableevent;if(_f){if(_e){this._clearData();}else{this._clearAll();}}var _g=this._setColInfoFromCSVLine(_a,_e);if(!_g){this.loadstatus=false;this._eventstat=this.enableevent;return _c;}var _c=this._loadRecordFromCSVLines(_b,_c,_d,_g);var _h=this._deletedRecords.length;if(_h){var _i=this._viewRecords=[];var _j=this._rawRecords;len=_j.length;var _k=_i.length;var _l=0;function _loadFromCSVArray_delrow_loop(){if(_l<len){var _m=_j[_l];if(_m._rtype!=8){_i[_k]=_m;_k++ ;}_l++ ;return false;}return true;}while(true){if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}if(_loadFromCSVArray_delrow_loop()){break;}}}else{this._viewRecords=this._rawRecords;}this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;this.loadstatus=false;this._eventstat=this.enableevent;return _c;};_pDataset._setColInfoFromCSVLine=function(_a,_b){if(!_a||_a.length==0){return null;}var _c=null;if(_b){var _d=_a.split(",");csvColCnt=_d.length;_c=this.__csvMakeDataMappingFunc(_d,csvColCnt);}else{csvColCnt=this.__csvSetColInfo(_a);_c=this.__MakeDataConvertFunc();}return _c;};_pDataset._loadRecordFromCSVLines=function(_a,_b,_c,_d){var _e=this._rawRecords;var _f=this._deletedRecords;var _g=_e.length;var _h=_f.length;var _i=_a.length;function _loadRecordFromCSVLines_loop(){if(_b<_i){var _j=_a[_b];if(_j==""){_b++ ;return true;}var _k=nexacro.__splitCSVRowData(_j,csvColCnt);_k=_d(_k);_k._rawidx=_g;_k._level=0;_k._rtype=1;_e[_g]=_k;_e[_g]._orgcolstrings=_k;_g++ ;_b++ ;if(_c>0&&_g==_c){return true;}return false;}return true;}while(true){if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}if(_loadRecordFromCSVLines_loop()){break;}}return _b;};_pDataset.__writeCSVRowData=function(_a,_b){var _c=this.colinfos.length;var _d=0;function __writeCSVColData_loop(_e){if(_d<_c){var _f=_e.colinfos[_d];var _g=_f._index;var _h=_f._toText(_b[_g]);if(_h!=null){if(_f.ntype==1){if(_d==(_c-1)){_e.__writeData(_a,nexacro._quoteStr(_h)+"\r\n");}else{_e.__writeData(_a,nexacro._quoteStr(_h)+",");}}else{if(_d==(_c-1)){_e.__writeData(_a,_h+"\r\n");}else{_e.__writeData(_a,_h+",");}}}else{if(_d==(_c-1)){_e.__writeData(_a,"\r\n");}else{_e.__writeData(_a,",");}}_d++ ;return false;}return true;}while(true){if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}if(__writeCSVColData_loop(this)){break;}}};_pDataset._assignRowList=function(_a){var _b=_a.length;var _c=this._rawRecords.length;var _d=0;var _e=this._deletedRecords.length;var _f=this._viewRecords.length;var _g=this._rawRecords.length;var _h=0;function _assignRowList_loop(_i){if(_h<_b){var _j=_a[_h];var _k=_j._level;var _l=_j._rtype;if(_k==0){var _m=[];_m._level=_k;_m._rawidx=_c;_m._rtype=_l;var _n=_j.length;var _o=0;function _assignRowList_loop2(){if(_o<_n){_m[_o]=_j[_o];_o++ ;return false;}return true;}while(true){if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}if(_assignRowList_loop2()){break;}}if(_j._orgrow){var _p=_j._orgrow;var _q=[];_q._level=_p._level;_q._rawidx=_c;_q._rtype=_p._rtype;var _n=_p.length;var _o=0;function _assignRowList_loop3(){if(_o<_n){_q[_o]=_p[_o];_o++ ;return false;}return true;}while(true){if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}if(_assignRowList_loop3()){break;}}_m._orgrow=_q;}if(_l==8){_i._deletedRecords[_e]=_m;_e++ ;}if(_l==1||_l==2||_l==4){if(_i._rawRecords!=_i._viewRecords){_i._viewRecords[_f]=_m;_f++ ;}}else{if(_i._rawRecords==_i._viewRecords){_i._viewRecords=_i._rawRecords.slice(0,_i._rawRecords.length);_f=_i._viewRecords.length;}}_i._rawRecords[_g]=_m;_g++ ;_c++ ;_d++ ;}_h++ ;return false;}return true;}while(true){if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}if(_assignRowList_loop(this)){break;}}delete _e;delete _f;delete _g;return _d;};_pDataset._assign=function(_a){this._copyConstColList(_a._constVars);this._appendColList(_a.colinfos);this._assignRowList(_a._rawRecords);this.constcount=this._constVars.length;this.colcount=this.colinfos.length+this.constcount;this.rowcount=this._viewRecords.length;};_pDataset._isLike=function(_a,_b){var _c=_a;var _d=_b;if(_c instanceof nexacro.Decimal&&_d instanceof nexacro.Decimal){if(_c.isEqual(_d)){return true;}}else if(_c instanceof nexacro.Decimal){_c=_c.toString();}else if(_d instanceof nexacro.Decimal){_d=_d.toString();}if(_c==_d){if(_c===0){_c=_c+"";}if(_d===0){_d=_d+"";}if(_c==_d){return true;}}if(_a&&nexacro._isString(_b)){if(_b.length==0){return false;}if(!nexacro._isString(_a)){_a=_a+"";}if(_a.slice(0,_b.length)==_b){return true;}}return false;};_pDataset._findRow=function(_a,_b,_c,_d){var _e=this._viewRecords;var _f;var _g=_c;function _findRow_loop(_h){if(_g<_d){_f=_e[_g];if(_h._checkRowData(_f)){var _i=_f[_a];var _j=_b;if(_i instanceof nexacro.Decimal&&_j instanceof nexacro.Decimal){if(_i.isEqual(_j)){return true;}}else if(_i instanceof nexacro.Decimal){_i=_i.toString();}else if(_j instanceof nexacro.Decimal){_j=_j.toString();}if(_i==_j){if(_i===0){_i=_i+"";}if(_j===0){_j=_j+"";}if(_i==_j){return true;}}}_g++ ;return false;}return true;}while(true){if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}if(_findRow_loop(this)){break;}}return (_g<_d)?_g: -1;};_pDataset._findRowAs=function(_a,_b,_c,_d){var _e=this._viewRecords;var _f;var _g=_c;function _findRowAs_loop(_h){if(_g<_d){_f=_e[_g];if(_h._checkRowData(_f)){if(_h._isLike(_f[_a],_b)){return true;}}_g++ ;return false;}return true;}while(true){if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}if(_findRowAs_loop(this)){break;}}return (_g<_d)?_g: -1;};_pDataset._checkViewRowData=function(_a){return (_a._level==0);};_pDataset._checkRawRowData=function(_a){var _b=_a._level;var _c=_a._rtype;return ((_b==0)&&(_c==1||_c==2||_c==4));};_pDataset._getNotDelRec=function(){var _a=this._rawRecords.slice(0,this._rawRecords.length);var _b=_a.length-1;for(var _c=_b;_c> -1;_c-- ){if(_a[_c]._rtype==8){_a.splice(_c,1);}}return _a;};_pDataset._checkRowData=_pDataset._checkViewRowData;_pDataset._getCount=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g,_h;var _i=0;var _j=_a;function _getCount_loop(_k){if(_j<_b){if(_j==_f.length){return true;}_g=_f[_j];if(_k._checkRowData(_g)){if(_e==true){_h=_g[_d];if(_h){_i++ ;}}else{_i++ ;}}_j++ ;return false;}return true;}while(true){if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}if(_getCount_loop(this)){break;}}return _i;};_pDataset._getSum=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=0;var _i=_b;if(_e==1||_e==8){return 0;}if(_e!=4){function _getSum_loop(_j){if(_i<_c){_g=_f[_i];if(_g._rtype==16){_i++ ;return false;}var _k=_g[_a];if(!nexacro._isNumber(_k)){if(!_k){_k=0;}else{if(_e==3){_k=parseFloat(_k);}else{_k=parseInt(_k,10);}}}if(_j._checkRowData(_g)){_h+=( +_k);}_i++ ;return false;}return true;}while(true){if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}if(_getSum_loop(this)){break;}}}else{_h=new nexacro.Decimal;function _getSumDecimal_loop(_j){if(_i<_c){_g=_f[_i];if((_g[_a]!=null)&&(_g[_a]!="")&&(_g[_a]!=undefined)&&_j._checkRowData(_g)){var _k=nexacro.DataUtils.toDecimal(_g[_a]);_h.addDecimal(_k);}_i++ ;return false;}return true;}while(true){if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}if(_getSumDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?0:_h;}return ( +_h)!=( +_h)?0:_h;};_pDataset._getMin=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=undefined;var _i=_b;if(_e!=4){function _getMin_loop(_k){if(_i<_c){_g=_f[_i];if(_k._checkRowData(_g)){if(_h==null||_g[_a]<_h){_h=_g[_a];}}_i++ ;return false;}return true;}while(true){if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}if(_getMin_loop(this)){break;}}}else{var _j;function _getMinDecimal_loop(_k){if(_i<_c){_g=_f[_i];if(_k._checkRowData(_g)&&_g[_a]!=null){_j=_g[_a];if(_h==""||_h==null||_j.hi<_h.hi||(_j.hi==_h.hi&&_j.lo<_h.lo)){_h=_j;}}_i++ ;return false;}return true;}while(true){if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}if(_getMinDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}else if(_e==1){return _h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset._getMax=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=undefined;var _i=_b;if(_e!=4){function _getMax_loop(_j){if(_i<_c){_g=_f[_i];if(_j._checkRowData(_g)){if(_h==null||_g[_a]>_h){_h=_g[_a];}}_i++ ;return false;}return true;}while(true){if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}if(_getMax_loop(this)){break;}}}else{function _getMaxDecimal_loop(_j){if(_i<_c){_g=_f[_i];if(_j._checkRowData(_g)&&_g[_a]!=null){var _k=_g[_a];if(_h==""||_h==null||_k.hi>_h.hi||(_k.hi==_h.hi&&_k.lo>_h.lo)){_h=_k;}}_i++ ;return false;}return true;}while(true){if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}if(_getMaxDecimal_loop(this)){break;}}}if(_h instanceof nexacro.Decimal){return _h.isNaN()?undefined:_h;}else if(_e==1){return _h;}return ( +_h)!=( +_h)?undefined:_h;};_pDataset._getAvg=function(_a,_b,_c,_d,_e){var _f=this._viewRecords;var _g;var _h=0;var _i=0;var _j=_b;if(_e!=4){function _getAvg_loop(_k){if(_j<_c){_g=_f[_j];if(nexacro._isNumber(_g[_a])&&_k._checkRowData(_g)){_h++ ;_i+=( +_g[_a]);}_j++ ;return false;}return true;}while(true){if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}if(_getAvg_loop(this)){break;}}}else{_i=new nexacro.Decimal;function _getAvgDecimal_loop(_k){if(_j<_c){_g=_f[_j];if(_k._checkRowData(_g)){if((_g[_a] instanceof nexacro.Decimal)){_h++ ;_i.addDecimal(_g[_a]);}}_j++ ;return false;}return true;}while(true){if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}if(_getAvgDecimal_loop(this)){break;}}}if(_h==0){return Infinity;}if(_i instanceof nexacro.Decimal){_i.divDouble(_h);}else{_i=_i/_h;}return _i;};_pDataset._getCaseSum=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return 0;}var _h=this._viewRecords;var _i;var _j=0;var _k=null;var _l=_c;if(_f!=4){function _getCaseSum_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){if((_i[_b]!=null)&&(_i[_b]!="")&&(_i[_b]!=undefined)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){_j+=( +_i[_b]);}}}_l++ ;return false;}return true;}while(true){if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}if(_getCaseSum_loop(this)){break;}}}else{_j=new nexacro.Decimal;function _getCaseSumDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){if((_i[_b]!=null)&&(_i[_b]!="")&&(_i[_b]!=undefined)){if(_i[_b]!=null){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){_j.addDecimal(_i[_b]);}}}}_l++ ;return false;}return true;}while(true){if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}if(_getCaseSumDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?0:_j;}return ( +_j)!=( +_j)?0:_j;};_pDataset._getCaseMin=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=this._viewRecords;var _i;var _j=undefined;var _k=null;var _l=_c;if(_f!=4){function _getCaseMin_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_j==null||_i[_b]<_j){_j=_i[_b];}}}_l++ ;return false;}return true;}while(true){if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}if(_getCaseMin_loop(this)){break;}}}else{function _getCaseMinDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_i[_b]!=null){var _n=_i[_b];if(_j==null||_n.hi<_j.hi||(_n.hi==_j.hi&&_n.lo<_j.lo)){_j=_n;}}}}_l++ ;return false;}return true;}while(true){if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}if(_getCaseMinDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}else if(_f==1){return _j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset._getCaseMax=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return undefined;}var _h=this._viewRecords;var _i;var _j=undefined;var _k=null;var _l=_c;if(_f!=4){function _getCaseMax_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_j==null||_i[_b]>_j){_j=_i[_b];}}}_l++ ;return false;}return true;}while(true){if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}if(_getCaseMax_loop(this)){break;}}}else{function _getCaseMaxDecimal_loop(_m){if(_l<_d){_i=_h[_l];if(_m._checkRowData(_i)){_k=_g.call(_m,_l,_l,null,_m);if(_k===true){if(_i[_b]!=null){var _n=_i[_b];if(_j==null||_n.hi>_j.hi||(_n.hi==_j.hi&&_n.lo>_j.lo)){_j=_n;}}}}_l++ ;return false;}return true;}while(true){if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}if(_getCaseMaxDecimal_loop(this)){break;}}}if(_j instanceof nexacro.Decimal){return _j.isNaN()?undefined:_j;}else if(_f==1){return _j;}return ( +_j)!=( +_j)?undefined:_j;};_pDataset._getCaseAvg=function(_a,_b,_c,_d,_e,_f){var _g=this._exprFuncs[_a];if(_g==null){_g=this._exprFuncs[_a]=this._createExprFunc(_a);}if(typeof _g!="function"){return Number.NaN;}var _h=this._viewRecords;var _i;var _j=0;var _k=0;var _l;var _m=null;var _n=_c;if(_f!=4){function _getCaseAvg_loop(_o){if(_n<_d){_i=_h[_n];if(_o._checkRowData(_i)){_m=_g.call(_o,_n,_n,null,_o);if(_m===true){_j++ ;if(_i[_b]){_k+= +_i[_b];}}}_n++ ;return false;}return true;}while(true){if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}if(_getCaseAvg_loop(this)){break;}}}else{function _getCaseAvgDecimal_loop(_o){if(_n<_d){_i=_h[_n];if(_o._checkRowData(_i)){_m=_g.call(_o,_n,_n,null,_o);if(_m===true){_j++ ;if(_i[_b]){_l=_i[_b];if((_k instanceof nexacro.Decimal)==false){if((_l instanceof nexacro.Decimal)==false){_k+=( +_l);}else{_k=new nexacro.Decimal(_k);_k.addDecimal(_l);}}else{if((_l instanceof nexacro.Decimal)==false){_k.addDouble(_l);}else{_k.addDecimal(_l);}}}}}_n++ ;return false;}return true;}while(true){if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}if(_getCaseAvgDecimal_loop(this)){break;}}}if(_j==0){return Infinity;}if(_k instanceof nexacro.Decimal){_k.divDouble(_j);}else{_k=_k/_j;}return _k;};_pDataset._calcNFData=function(_a,_b,_c,_d){var _e=this._viewRecords;this._viewRecords=this._rawRecords;this._checkRowData=this._checkRawRowData;var _f="";if(_d===undefined){if(_c===undefined){_f=_a.call(this,_b);}else{_f=_a.call(this,_b,_c);}}else{_f=_a.call(this,_b,_c,_d);}this._checkRowData=this._checkViewRowData;this._viewRecords=_e;return _f;};_pDataset._findMaxLengthRow=function(_a,_b,_c){var _d=this._viewRecords;var _e;var _f=undefined;var _g= -1;var _h=_b;function _findMaxLengthRow_loop(_i){if(_h<_c){_e=_d[_h];if(_i._checkRowData(_e)){if(_e[_a]){var _j=_e[_a].toString().length;if(_f==null||_j>_f){_f=_j;_g=_h;}}}_h++ ;return false;}return true;}while(true){if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}if(_findMaxLengthRow_loop(this)){break;}}return _g;};delete _pDataset;nexacro.TransactionItem=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){nexacro.CommunicationItem.call(this,_a,"data",false,_i,_j);this.context=_b;this.svcid=_c;this.inDatasetsParam=_d;this.outDatasetsParam=_e;this.inputDatasets=this._parseDSParam(_d);this.outputDatasets=this._parseDSParam(_e);this.argsParam=_f;this.parameters=this._parseVarParam(_f);this.datatype=(!_g?0:_g);this._sendData=this._serializeData();this._usewaitcursor=_h&&application.usewaitcursor;this._remain_data=null;this._progress_data=null;this._progress_cnt=0;this._is_unknowntype_data=false;this._responseData=null;this._has_firstcount_dataset=this._hasFirstCountDs();if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<8){this._check_responseXML=true;}else{this._check_responseXML=false;}var _l=nexacro._getLocalStorage("_cookie_variables",[]);if((!_l||_l.length==0)&&!this.parameters&&!this.inputDatasets){this._http_method="GET";}else{this._http_method="POST";}this._is_bulk=_k;};var _pTransactionItem=nexacro._createPrototype(nexacro.CommunicationItem,nexacro.TransactionItem);nexacro.TransactionItem.prototype=_pTransactionItem;_pTransactionItem._handle=null;_pTransactionItem.callbackList=[];_pTransactionItem.type="data";_pTransactionItem.bcache=false;_pTransactionItem._type_name="TransactionItem";_pTransactionItem.on_start=function(){if(this._usewaitcursor){this._showWaitCursor(this.context);}application._appendCommContext(this.context);application.on_fire_oncommunication(application,0);};_pTransactionItem.on_load_data=function(_a,_b,_c){var _d=null;var _e=null;var _f;var _g=this.bcache;var _h=null;this._addCookieToGlobalVariable(_b);if(_a&&_a._type_name=="DataCache"){_g=false;_f=_a._loadData(this);}else{if(_a&&this._protocol<0){_a=this.on_decrypt(_a);}if(this._progress_data){this.on_progress_data(_a,true);_f=this._progress_data._error_info;if(_g){var _i=null;_d=new nexacro.Collection();for(var _s in this._progress_data._datasets){if(this._progress_data._datasets[_s]._isEnable){_i=this._progress_data._datasets[_s]._target_ds;_d.add_item(_i.id,new nexacro._DataSetCache(_i.id,_i.colinfos,_i._constVars,_i._rawRecords));}}this._progress_data._datasets=null;_e=this._progress_data._parameters;}}else{_h=this._deserializeData(_a,0);if(_g){_e=_h[1];_d=_h[2];}_f=_h[0];}}if(!this._is_bulk){if(_g){var _j=nexacro._DataCacheList[this.path];if(!_j){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_e,_d,_c,this.version);}else{_j.parameters=_e;_j.datasets=_d;_j.last_modified=_c?_c:"";_j.version=this.version;}_j=null;}}_e=null;_d=null;_a=null;_h=null;var _k=0;var _l="SUCCESS";if(_f){_k=_f[0];_l=_f[1];_f=null;}if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);var _m=this.callbackList;var _n=_m.length;if(_n>0){var _o=this.context._load_manager;var _p=_o?_o.getDataItem(this.svcid):null;if(_p){_p._is_cancel=undefined;}_p=null;_o=null;for(var _t=0;_t<_n;_t++ ){var _q=_m[_t];var _r=_q.target;if(_r._is_alive!=false){_q.callback.call(_r,this.svcid,_k,_l);}_r=null;_q=null;}_m.splice(0,_n);}this._handle=null;};_pTransactionItem.on_load_xmldom=function(_a,_b,_c){this._addCookieToGlobalVariable(_b);var _d=this.__deserializeXML("",_a);var _e=0;var _f="SUCCESS";var _g=_d[0];if(this.bcache){var _h=nexacro._DataCacheList[this.path];if(!_h){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_d[1],_d[2],_c,this.version);}else{_h.parameters=_d[1];_h.datasets=_d[2];_h.last_modified=_c;_h.version=this.version;}}if(_g){_e=_g[0];_f=_g[1];}if(this._usewaitcursor){this._hideWaitCursor(this.context);}application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);var _i=this.callbackList;var _j=_i.length;if(_j>0){for(var _m=0;_m<_j;_m++ ){var _k=_i[_m];var _l=_k.target;if(_l._is_alive!=false){_k.callback.call(_l,this.svcid,_e,_f);}}_i.splice(0,_j);}this._handle=null;};_pTransactionItem.on_progress=nexacro._emptyFn;_pTransactionItem.on_progress_data=function(_a,_b){if(!this._progress_data){_a=nexacro.trimLeft(_a);var _c=this._getStreamType(_a);switch(_c){case "CSV":this._progress_data=new nexacro._ProgressDataCSV(this);break;case "SSV":this._progress_data=new nexacro._ProgressDataSSV(this);break;case "PPX":this._progress_data=new nexacro._ProgressDataPPX(this);break;case "XML":this._progress_data=new nexacro._ProgressDataXML(this);break;case "UNKNOWN":this._is_unknowntype_data=true;return;default:return;}}this._progress_data._on_progress(_a,_b);};_pTransactionItem.on_error=function(_a,_b,_c,_d,_e){var _f=this.callbackList;var _g=_f.length;var _h=false;if(this._usewaitcursor){this._hideWaitCursor(this.context);}if(_g>0){for(var _n=0;_n<_g;_n++ ){var _i=_f[_n];var _j=_i.target;if(_j._is_alive!=false){_h=_i.callback.call(_j,this.svcid, -1,"FAILED",_b,_c,this.path,_d,_e);if(_h){if(this._usewaitcursor){this._showWaitCursor(this.context);}continue;}}}if(_h){return true;}}var _k=this.context._load_manager;var _l=_k?_k.getDataItem(this.svcid):null;var _m=_l?_l._handle:null;if(_l&&!_l._is_cancel){return;}_f.splice(0,_g);application._removeCommContext(this.context);application.on_fire_oncommunication(application,1);this._handle=null;};_pTransactionItem._loadFromData=function(_a){var _b=this._deserializeData(_a,0);var _c=0;var _d="SUCCESS";var _e=this.bcache;errorinfo=_b[0];if(errorinfo){_c=errorinfo[0];_d=errorinfo[1];}if(_e){var _f=_b[1];var _g=_b[2];var _h=nexacro._DataCacheList[this.path];if(!_h){nexacro._DataCacheList[this.path]=new nexacro._DataCache(_f,_g,last_modified,this.version);}else{_h.parameters=_f;_h.datasets=_g;_h.last_modified=last_modified?last_modified:"";_h.version=this.version;}}var _i=this.callbackList;var _j=_i.length;if(_j>0){for(var _m=0;_m<_j;_m++ ){var _k=_i[_m];var _l=_k.target;if(_l._is_alive!=false){_k.callback.call(_l,this.svcid,_c,_d);}}_i.splice(0,_j);}this._handle=null;};_pTransactionItem._showWaitCursor=function(_a){if(_a){_a._waitCursor(true,_a);if(application._refcommuni&&application._refcommuni>=0){application._refcommuni++ ;}else{application._refcommuni=0;}}};_pTransactionItem._hideWaitCursor=function(_a){if(_a){_a._waitCursor(false,_a);if(application._refcommuni>0){application._refcommuni-- ;}}};_pTransactionItem._parseDSParam=function(_a){if(!_a){return undefined;}var _b=[];var _c=/([a-zA-Z가-힣_$][a-zA-Z가-힣0-9_$]*)\s*=\s*([a-zA-Z가-힣_$][a-zA-Z가-힣0-9_$]*(?:\:[aAuUnN])?)/g;var _d=_a.match(_c);if(!_d||_d.length==0){return undefined;}var _e=_d.length;var _f=0;for(var _p=0;_p<_e;_p++ ){var _g=_d[_p].split("=");var _h=_g[0].trim();var _i=_g[1].trim();var _j=false;for(var _q=0;_q<_p;_q++ ){var _k=_d[_q].split("=");var _l=_k[0].trim();if(_h==_l){_j=true;}}if(_j){_p++ ;return false;}var _m="N";var _n=_i.indexOf(":");if(_n> -1){_m=_i.substring(_n+1);_i=_i.substring(0,_n);}var _o={lval:_h,rval:_i,saveType:_m};_b.push(_o);}return _b;};_pTransactionItem._parseVarParam=function(_a){if(!_a){return;}_a=_a.replace(/^\s*|\s*$/g,'');if(_a.length==0){return undefined;}var _b=[];var _c=/([a-zA-Z_][a-zA-Z0-9_]*)\s*="([^"]*)"|([a-zA-Z_][a-zA-Z0-9_]*)\s*='([^']*)'|([a-zA-Z_][a-zA-Z0-9_]*)\s*=([^ ]*)/g;var _d=_a.match(_c);var _e=_d.length;for(var _l=0;_l<_e;_l++ ){var _f=_d[_l].split("=");var _g=_f.length;var _h=_f[0].trim();var _i=_f[1].trim();for(var _m=2;_m<_g;_m++ ){_i=_i+"="+_f[_m].trim();}var _j="N";var _g=_i.length;if(_g>0){_i=nexacro.stripQuote(_i);}var _k={lval:_h,rval:_i,saveType:_j};_b.push(_k);}return _b;};_pTransactionItem._serializeData=function(){if(this.datatype==1){return this.__serializeBIN();}else if(this.datatype==2){return this.__serializeSSV();}else{return this.__serializeXML();}};_pTransactionItem.__serializeXML=function(){var _a=0;var _b=[];var _c=nexacro._getLocalStorage("_cookie_variables",[]);this._writeData(_b,"<?xml version=\"1.0\" encoding=\"UTF-8\"?>",_a);this._writeData(_b,"<Root xmlns=\"http://www.nexacroplatform.com/platform/dataset\">",_a++ );var _d=0;var _e=0;var _f=this.parameters;if(_f){_d=_f.length;}if(_c){_e=_c.length;}if(_d>0||_e>0){this._writeData(_b,"<Parameters>",_a++ );if(_e){for(var _m=0;_m<_e;_m++ ){var _g=_c[_m];var _h=application[_g];if(_h&&_h.length){_h=nexacro._encodeXml(_h);this._writeData(_b,"<Parameter id=\""+_g+"\">"+_h+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_g+"\" />",_a);}}}if(_d>0){for(var _m=0;_m<_d;_m++ ){var _g=_f[_m].lval;var _h=_f[_m].rval;if(_h&&_h.length){_h=nexacro._encodeXml(_h);this._writeData(_b,"<Parameter id=\""+_g+"\">"+_h+"</Parameter>",_a);}else{this._writeData(_b,"<Parameter id=\""+_g+"\" />",_a);}}}this._writeData(_b,"</Parameters>", --_a);}else{this._writeData(_b,"<Parameters />",_a);}var _i=this.inputDatasets;if(_i&&_i.length){var _j=_i.length;for(_m=0;_m<_j;_m++ ){var _g=_i[_m].rval;var _k=this.context._getDatasetObject(_g);if(_k){_b.push(_k._saveXML(_i[_m].lval,_i[_m].saveType,_a,false));}}}this._writeData(_b,"</Root>", --_a);var _l;if(_d==0&&_e==0&&(!_i||_i.length==0)){_l="";}else{_l=_b.join("\n");}return _l;};_pTransactionItem.__serializeSSV=function(){var _a=String.fromCharCode(30);var _b=String.fromCharCode(31);var _c=0;var _d=[];var _e=nexacro._getLocalStorage("_cookie_variables",[]);var _f,_g,_h;var _i=0;_d.push("SSV:utf-8"+_a);var _j=0;var _k=0;var _l=this.parameters;if(_l){_j=_l.length;}if(_e){_k=_e.length;}if(_k>0){for(i=0;i<_k;i++ ){_f=_e[i];_g=application[_f];if(_g&&_g.length){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}if(_j>0){for(i=0;i<_j;i++ ){_f=_l[i].lval;_g=_l[i].rval;if(_g){_g=_g;_d.push(_f+"="+_g+_a);}else{_d.push(_f+"="+_a);}}}var _m=this.inputDatasets;if(_m&&_m.length){var _n=_m.length;for(var _p=0;_p<_n;_p++ ){var _f=_m[_p].rval;var _h=this.context._getDatasetObject(_f);if(_h){_d.push(_h.saveSSV(_m[_p].lval,_m[_p].saveType));}}}var _o=_d.join("");return _o;};_pTransactionItem.__serializeBIN=function(){var _a=this.__serializeSSV();if(_a){return nexacro._convertStreamSSVToBIN(_a);}return "";};_pTransactionItem._deserializeData=function(_a,_b){if(!_a){return [[ -1,"Stream Data is null!"],[],new nexacro.Collection()];}if(!this._is_bulk){_a=_a.trim();}var _c=_a.substring(0,3);if(_c=="SSV"){return this.__deserializeSSV(_a);}else if(_c=="CSV"){return this.__deserializeCSV(_a);}else if(_c=="PPX"){return this.__deserializePPX(_a);}else{return this.__deserializeXML(_a);}};_pTransactionItem._setParamter=function(_a,_b){var _c=this.context;if(application._existVariable(_a)){application.setVariable(_a,_b);}else{if(_a in _c){if(nexacro._isNull(_c[_a])||!nexacro._isObject(_c[_a])){_c[_a]=_b;}}}};_pTransactionItem._getDataset=function(_a){var _b=this.context;var _c=this.outputDatasets;if(_c&&_c.length){var _d=_c.length;for(var _f=0;_f<_d;_f++ ){var _e=_c[_f];if(_e.rval==_a){return _b._getDatasetObject(_e.lval);}}}};_pTransactionItem._hasFirstCountDs=function(){if(!this.outputDatasets){return false;}var _a=this.outputDatasets.length;var _b=this.context;for(var _e=0;_e<_a;_e++ ){var _c=this.outputDatasets[_e];var _d=_b._getDatasetObject(_c.lval);if(_d){if(_d.firefirstcount>0){return true;}}}return false;};_pTransactionItem.__deserializeXML=function(_a,_b){var _c=[];var _d=new nexacro.Collection();var _e=0;var _f="SUCCESS";if(_a.length>0&&!this._check_responseXML){var _g=_a.substr(0,10).toLowerCase();if(_g.indexOf("<?xml")<0){return [[ -1,"invalid nexacro communication format"],_c,_d];}return this.__deserializeXMLFromStr(_a);}if(!_b){if(_a.indexOf("&quot;")>=0){_a=nexacro._replaceAll(_a,"&quot;","\"");}if(_a.indexOf("&apos;")>=0){_a=nexacro._replaceAll(_a,"&apos;","\'");}_b=nexacro._parseXMLDocument(_a);}if(_b.parseError&&_b.parseError.errorCode!=0){_f="invalid nexacro communication format";_e= -1;}if(_e<= -1){return [[_e,_f],_c,_d];}var _h=this.context;var _i=[_e,_f];var _j=nexacro._getCommDataFromDom(_b,this);if(_j){var _k=_j[0];var _l=_k.length;for(var _r=0;_r<_l;_r++ ){if(_k[_r].id=="ErrorCode"){_i[0]=_k[_r].val;}else if(_k[_r].id=="ErrorMsg"){_i[1]=_k[_r].val;}if(this.bcache){_c[_c.length]=new nexacro._ParametersCache(_k[_r].id,_k[_r].val);}}if(this.bcache){var _m=_j[1];_l=_m.length;for(var _r=0;_r<_l;_r++ ){_d.add_item(_m[_r].id,new nexacro._DataSetCache(_m[_r].id,_m[_r].colinfos,_m[_r]._constVars,_m[_r]._rawRecords));}}}_b=null;if(_i[0]&&_i[0]<= -1){return [_i,_c,_d];}var _n=this.inputDatasets;if(_n&&_n.length){var _o=_n.length;for(var _r=0;_r<_o;_r++ ){var _p=_n[_r];var _q=_h._getDatasetObject(_p.rval);if(_q){_q.applyChange();}}}return [_i,_c,_d];};_pTransactionItem.__deserializeXMLFromStr=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _f=this.context;var _g=_a.indexOf("<Dataset ");var _h;if(_g> -1){_h=_a.substring(0,_g);}else{_h=_a;}var _i=0;var _j=nexacro._getXMLTagData(_h,_i,"<Parameters>","</Parameters>");if(_j){var _k=_j[0];_i=_j[3];var _l=0;var _m=nexacro._getXMLTagData2(_k,_l,"<Parameter ","</Parameter>");while(_m){_l=_m[3];var _n=_m[1];var _o=nexacro._getXMLAttributeID(_n);if(_o&&_o.length){var _p=_m[0];if(_o=="ErrorCode"){_d=parseInt(_p)|0;if(isFinite(_d)==false){_d= -1;}_p=_d;}else if(_o=="ErrorMsg"){_p=nexacro._decodeXml(_p);_e=_p;}else if(application._existVariable(_o)){_p=nexacro._decodeXml(_p);application.setVariable(_o,_p);}else{if(_o in _f){if(nexacro._isNull(_f[_o])||!nexacro._isObject(_f[_o])){_p=nexacro._decodeXml(_p);_f[_o]=_p;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_o,_p);}}_m=nexacro._getXMLTagData2(_k,_l,"<Parameter ","</Parameter>");}}if(_d<= -1){return [[_d,_e],_b,_c];}var _q=this.inputDatasets;if(_q&&_q.length){var _r=_q.length;for(var _aa=0;_aa<_r;_aa++ ){var _s=_q[_aa];var _t=_f._getDatasetObject(_s.rval);if(_t){_t.applyChange();}}}var _u={};var _v=this.outputDatasets;if(_v&&_v.length){var _w=_v.length;for(var _aa=0;_aa<_w;_aa++ ){var _s=_v[_aa];if(_u[_s.rval]==undefined){_u[_s.rval]=_s.lval;}}}if(_g>= -1){var _x=nexacro._getXMLTagData2(_a,_g,"<Dataset ","</Dataset>");while(_x){_g=_x[3];var _n=_x[1];var _y=nexacro._getXMLAttributeID(_n);if(_y&&_y.length){var _z=_u[_y];var _t=_f._getDatasetObject(_z);if(_t){_t.rowposition= -1;_t.loadFromXMLStr(_x[0]);if(this.bcache){_c[_z]=new nexacro._DataSetCache(_z,_t.colinfos,_t._constVars,_t._rawRecords);}}}_x=nexacro._getXMLTagData2(_a,_g,"<Dataset ","</Dataset>");}}_u=null;return [[_d,_e],_b,_c];};nexacro._getCommDataFromDom=function(_a,_b){var _c=[];var _d=_a.getElementsByTagName("Parameter");var _e=0;if(_d&&_d.length){var _f=_d.length;for(var _o=0;_o<_f;_o++ ){var _g=_d[_o];var _h=_g.getAttribute("id");if(_h&&_h.length){var _i=(_g.textContent||(_g.firstChild?_g.firstChild.nodeValue:""));if(_h=="ErrorCode"){_e=parseInt(_i)|0;if(isFinite(_e)==false){_e= -1;}_c.push({id:_h,val:_e});}else if(_h=="ErrorMsg"){_c.push({id:_h,val:_i});}else{_b._setParamter(_h,_i);}}}}if(_e<= -1){return [_c,null];}var _j=[];var _k=_a.getElementsByTagName("Dataset");if(_k&&_k.length){var _l=_k.length;for(var _o=0;_o<_l;_o++ ){var _m=_k[_o].getAttribute("id");if(_m&&_m.length){var _n=_b._getDataset(_m);if(!_n){_n=new nexacro.Dataset(_m);}if(_n){_n.rowposition= -1;_n.loadFromDOM(_k[_o]);_j.push(_n);}}}}return [_c,_j];};_pTransactionItem.__deserializePPX=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=0;var _g="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _h=this.context;var _i=_a.split(_d);var _j=_i.length;curIdx=1;var _k;var _l;for(;curIdx<_j;curIdx++ ){_k=_i[curIdx];_l=_k.charAt(0);if(_l=="P"){var _m=_k.split(_e);var _n=_m[1];var _o=_m[2];if(_o==String.fromCharCode(3)){_o=undefined;}if(_n=="ErrorCode"){_f=parseInt(_o)|0;if(isFinite(_f)==false){_f= -1;}_o=_f;}else if(_n=="ErrorMsg"){_g=_m[2];}else if(application._existVariable(_n)){application.setVariable(_n,_o);}else{if(_n in _h){if(nexacro._isNull(_h[_n])||!nexacro._isObject(_h[_n])){_h[_n]=_o;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_n,_o);}}else{break;}}if(_f<= -1){_i=null;_a=null;return [[_f,_g],_b,_c];}var _p=this.inputDatasets;if(_p&&_p.length){var _q=_p.length;for(var _z=0;_z<_q;_z++ ){var _r=_p[_z];var _s=_h._getDatasetObject(_r.rval);if(_s){_s.applyChange();}}}_p=null;var _t={};var _u=this.outputDatasets;if(_u&&_u.length){var _v=_u.length;for(var _z=0;_z<_v;_z++ ){var _r=_u[_z];if(_t[_r.rval]==undefined){_t[_r.rval]=_r.lval;}}}_u=null;function find_next_dataset_loop(){if(curIdx<_j){_k=_i[curIdx];if(_k.charAt(0)=="D"){return true;}curIdx++ ;return false;}return true;}while(curIdx<_j){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(curIdx<_j){var _w=_k.split(_e);var _x=_w[1];if(_x&&_x.length){var _y=_t[_x];var _s=_h._getDatasetObject(_y);if(_s){_s.rowposition= -1;curIdx=_s.loadFromPPXArray(_i,_j,curIdx,true);if(this.bcache){_c.add_item(_y,new nexacro._DataSetCache(_y,_s.colinfos,_s._constVars,_s._rawRecords));}}else{curIdx++ ;}_s=null;}else{curIdx++ ;}}}_i=null;_a=null;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeSSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=String.fromCharCode(30);var _e=String.fromCharCode(31);var _f=0;var _g="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _h=this.context;var _i=_a.split(_d);var _j=_i.length;var _k=0;_k++ ;var _l;for(;_k<_j;_k++ ){_l=_i[_k];if(_l.substring(0,7)!="Dataset"){var _m=_l.split(_e);var _n=_m.length;for(var _ac=0;_ac<_n;_ac++ ){var _o=_m[_ac];var _p=_o;var _q=undefined;var _r=_o.indexOf("=");if(_r>=0){_p=_o.substring(0,_r);_q=_o.substring(_r+1);if(_q==String.fromCharCode(3)){_q=undefined;}}if(_p){var _s=_p;var _r=_p.indexOf(":");if(_r>=0){_s=_p.substring(0,_r);}if(_s=="ErrorCode"){_f=parseInt(_q)|0;if(isFinite(_f)==false){_f= -1;}_q=_f;}else if(_s=="ErrorMsg"){_g=_q;}else if(application._existVariable(_s)){application.setVariable(_s,_q);}else{if(_s in _h){if(nexacro._isNull(_h[_s])||!nexacro._isObject(_h[_s])){_h[_s]=_q;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_s,_q);}}}}else{break;}}if(_f<= -1){return [[_f,_g],_b,_c];}var _t=this.inputDatasets;if(_t&&_t.length){var _u=_t.length;for(var _ac=0;_ac<_u;_ac++ ){var _v=_t[_ac];var _w=_h._getDatasetObject(_v.rval);if(_w){_w.applyChange();}}}var _x={};var _y=this.outputDatasets;if(_y&&_y.length){var _z=_y.length;for(var _ac=0;_ac<_z;_ac++ ){var _v=_y[_ac];if(_x[_v.rval]==undefined){_x[_v.rval]=_v.lval;}}}function find_next_dataset_loop(){if(_k<_j){_l=_i[_k];if(_l.substring(0,7)=="Dataset"){return true;}_k++ ;return false;}return true;}while(_k<_j){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(_k<_j){var _r=_l.indexOf(":");if(_r>=0){var _aa=_l.substring(_r+1);if(_aa&&_aa.length){var _ab=_x[_aa];var _w=_h._getDatasetObject(_ab);if(_w){_w.rowposition= -1;_k=_w.loadFromSSVArray(_i,_j,_k,true,this._is_bulk);if(this.bcache){_c.add_item(_ab,new nexacro._DataSetCache(_ab,_w.colinfos,_w._constVars,_w._rawRecords));}}else{_k++ ;}}else{_k++ ;}}else{_k++ ;}}}_x=null;return [[_f,_g],_b,_c];};_pTransactionItem.__deserializeCSV=function(_a){var _b=[];var _c=new nexacro.Collection();var _d=0;var _e="SUCCESS";if(!_a){return [[ -1,"Stream Data is null!"],null,null];}var _f=this.context;var _g=_a.split(/\r\n|\n/);var _h=_g.length;var _i=0;_i++ ;var _j,_k,_l,_m,_n;var _o;for(;_i<_h;_i++ ){_o=_g[_i];if(_o.substring(0,7)!="Dataset"){var _p=_o.split(",");var _q=_p.length;for(var _ac=0;_ac<_q;_ac++ ){var _r=_p[_ac];if(_r.charAt(0)=="\""||_r.charAt(0)=="\'"){_r=_r.substring(1,_r.length-1);}var _k=_r;var _m=undefined;var _s=_r.indexOf("=");if(_s>=0){_k=_r.substring(0,_s);_m=_r.substring(_s+1);}if(_k){var _l=_k;var _s=_k.indexOf(":");if(_s>=0){_l=_k.substring(0,_s);}if(_l=="ErrorCode"){_d=parseInt(_m)|0;if(isFinite(_d)==false){_d= -1;}_m=_d;}else if(_l=="ErrorMsg"){_e=_m;}else if(application._existVariable(_l)){application.setVariable(_l,_m);}else{if(_l in _f){if(nexacro._isNull(_f[_l])||!nexacro._isObject(_f[_l])){_f[_l]=_m;}}}if(this.bcache){_b[_b.length]=new nexacro._ParametersCache(_l,_m);}}}}else{break;}}if(_d<= -1){return [[_d,_e],_b,_c];}var _t=this.inputDatasets;if(_t&&_t.length){var _u=_t.length;for(var _ac=0;_ac<_u;_ac++ ){var _v=_t[_ac];var _w=_f._getDatasetObject(_v.rval);if(_w){_w.applyChange();}}}var _x={};var _y=this.outputDatasets;if(_y&&_y.length){var _z=_y.length;for(var _ac=0;_ac<_z;_ac++ ){var _v=_y[_ac];if(_x[_v.rval]==undefined){_x[_v.rval]=_v.lval;}}}function find_next_dataset_loop(){if(_i<_h){_o=_g[_i];if(_o.substring(0,7)=="Dataset"){return true;}_i++ ;return false;}return true;}while(_i<_h){while(true){if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}if(find_next_dataset_loop()){break;}}if(_i<_h){var _s=_o.indexOf(":");if(_s>=0){var _aa=_o.substring(_s+1);if(_aa&&_aa.length){var _ab=_x[_aa];var _w=_f._getDatasetObject(_ab);if(_w){_w.rowposition= -1;_i=_w.loadFromCSVArray(_g,_h,_i,true);if(this.bcache){_c.add_item(_ab,new nexacro._DataSetCache(_ab,_w.colinfos,_w._constVars,_w._rawRecords));}}else{_i++ ;}}else{_i++ ;}}else{_i++ ;}}}return [[_d,_e],_b,_c];};_pTransactionItem._TABS=["","\t","\t\t","\t\t\t","\t\t\t\t","\t\t\t\t\t","\t\t\t\t\t\t"];_pTransactionItem._writeData=function(_a,_b,_c){_a[_a.length]=this._TABS[_c]+_b;};_pTransactionItem._dsUpdate=function(_a){if(_a){var _b;var _c=_a._viewRecords;var _d=_c.length;if(_a._deletedRecords.length>0){_c=_a._viewRecords=[];var _e=_a._rawRecords.length;for(_b=0;_b<_e;_b++ ){var _f=_a._rawRecords[_b];if(_f._rtype!=8){_c[_d]=_f;}}}_a.colcount=_a.colinfos.length;_a.rowcount=_a._viewRecords.length;_a.loadstatus=false;_a._eventstat=_a.enableevent;_a._reFilter();_a._resetSortGroup();}};_pTransactionItem._dsOnload=function(_a,_b){if(_a){if(_a._viewRecords.length>0){_a.rowposition=0;}if(_a._eventstat){if(_b){_a.on_fire_onload(0,"",_b);}else{_a.on_fire_onload(0,"",0);}}}};_pTransactionItem._getStreamType=function(_a){if(!_a){return null;}var _b=nexacro.trimLeft(_a);var _c=_b.slice(0,10).toUpperCase();if(_c.indexOf("CSV")==0){return "CSV";}else if(_c.indexOf("SSV")==0){return "SSV";}else if(_c.indexOf("PPX")==0){return "PPX";}else if(_c.indexOf("<?XML")==0){return "XML";}else if(_c.length==10){return "UNKNOWN";}return null;};delete _pTransactionItem;}