if(!nexacro.NormalDataset){nexacro.NormalDataset=function(_a,_b){nexacro.Dataset.call(this,_a,_b);this.url="";this.arguments="";this.serverdatasetid="";this.firefirstcount=0;this.firenextcount=0;this.preload=false;this._is_preloaded=false;};var _pNormalDataset=nexacro._createPrototype(nexacro.Dataset,nexacro.NormalDataset);nexacro.NormalDataset.prototype=_pNormalDataset;nexacro.NormalDataset.ROWTYPE_EMPTY=0;nexacro.NormalDataset.ROWTYPE_NORMAL=1;nexacro.NormalDataset.ROWTYPE_INSERT=2;nexacro.NormalDataset.ROWTYPE_UPDATE=4;nexacro.NormalDataset.ROWTYPE_DELETE=8;nexacro.NormalDataset.ROWTYPE_GROUP=16;nexacro.NormalDataset.REASON_LOAD=0;nexacro.NormalDataset.REASON_LOADPROCESS=1;nexacro.NormalDataset.REASON_RESET=2;nexacro.NormalDataset.REASON_LOADCONTENT=3;nexacro.NormalDataset.REASON_ASSIGN=10;nexacro.NormalDataset.REASON_COPY=11;nexacro.NormalDataset.REASON_APPEND=12;nexacro.NormalDataset.REASON_MERGE=13;nexacro.NormalDataset.REASON_DELETE=20;nexacro.NormalDataset.REASON_DELETEALL=22;nexacro.NormalDataset.REASON_CLEARDATA=23;nexacro.NormalDataset.REASON_CLEAR=24;nexacro.NormalDataset.REASON_SORTGROUP=30;nexacro.NormalDataset.REASON_FILTER=31;nexacro.NormalDataset.REASON_MOVE=32;nexacro.NormalDataset.REASON_EXCHANGE=33;nexacro.NormalDataset.REASON_CHANGELAYOUT=34;nexacro.NormalDataset.REASON_CHANGESTATUS=40;nexacro.NormalDataset.REASON_ENABLEEVENT=41;nexacro.NormalDataset.REASON_ROWCHANGE=51;nexacro.NormalDataset.REASON_ROWINDEXCHANGE=52;nexacro.NormalDataset.REASON_ROWOBJECTCHANGE=53;nexacro.NormalDataset.REASON_BINDSOURCE=90;_pNormalDataset.on_created=function(){if(this.url==""||this.preload==false){if(this.colcount>0){this._endLoad(0,"SUCCESS",3);}else{this._is_loaded=true;}}if(!nexacro.isDesignMode&&this.preload&&!this._is_preloaded){if(this.url&&this.parent){var _a=false;var _b=[];_b.push("__preload");_b.push(this.url);_b.push(this.id);_b.push(this.serverdatasetid);var _c=_b.join('_');var _d=nexacro._getServiceLocation(this.url);var _e=this.parent._load_manager;if(_e){var _f=_e.getPreloadDataModule(this.id);if(_f){var _g=this.id+"="+this.serverdatasetid;var _h=new nexacro.TransactionItem(_d,this.parent,_c,"",_g,"",0,true);_h._usewaitcursor=false;_h._loadFromData(_f);this._is_preloaded=true;}}}}this._defaultKeyStr=this.keystring;this._defaultFilterStr=this.filterstr;};_pNormalDataset.destroy=function(){nexacro.Dataset.prototype.destroy.call(this);this._refform=null;};_pNormalDataset.set_url=function(_a){this.url=_a;};_pNormalDataset.set_arguments=function(_a){this.arguments=_a;};_pNormalDataset.set_firefirstcount=function(_a){_a=parseInt(_a)|0;if(isFinite(_a)){this.firefirstcount=_a;}};_pNormalDataset.set_firenextcount=function(_a){_a=parseInt(_a)|0;if(isFinite(_a)){this.firenextcount=_a;}};_pNormalDataset.set_preload=function(_a){this.preload=_a;};_pNormalDataset.set_serverdatasetid=function(_a){this.serverdatasetid=_a;};_pNormalDataset.load=function(_a,_b){var _c;if(this._refform){_c=this._refform._getRefFormBaseUrl();}var _d=nexacro._getServiceLocation(this.url,_c);if(_d.length&&this.parent){var _e="__normaldataset_loadurl_"+this.id;var _f=this.parent._load_manager;if(_f){var _g=this.serverdatasetid;if(_g==null||_g.length==0){_g="output";}var _h=this.id+"="+_g;var _i=nexacro._getServiceObject(this.url,true);_f.loadDataModule(_d,_e,"",_h,this.arguments,null,_a,_b,false,_i);}}else{this._endLoad( -1,"empty url",3);}};_pNormalDataset.on_preload_data=function(_a,_b,_c,_d,_e,_f,_g){if(_b!=0){application._onHttpSystemError(this,true,this,_d,_a,_e,_f,_g);}else if(_c&&!this._is_preloaded){var _h=[];_h.push("__preload");_h.push(this.url);_h.push(this.id);_h.push(this.serverdatasetid);var _i=_h.join('_');var _j=this.id+"="+this.serverdatasetid;var _k=new nexacro.TransactionItem(this.url,this.parent,_i,"",_j,"",0,true);_k._usewaitcursor=false;_k._loadFromData(_c);this._is_preloaded=true;}};delete _pNormalDataset;}