if(!nexacro.Frame){nexacro.Frame_Style=function(_a){nexacro.Style.call(this,_a);this.icon=null;this.showzoomcombo=null;this.statusbarheight=null;this.titlebarheight=null;this.openstatuseffect=null;this.moveeffect=null;};var _pFrameStyle=nexacro._createPrototype(nexacro.Style,nexacro.Frame_Style);nexacro.Frame_Style.prototype=_pFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","icon"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","showzoomcombo"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","statusbarheight"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","titlebarheight"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","openstatuseffect"));eval(nexacro._createValueAttributeEvalStr("_pFrameStyle","moveeffect"));_pFrameStyle.__custom_emptyObject=function(){this.icon=null;this.showzoomcombo=null;this.statusbarheight=null;this.titlebarheight=null;this.openstatuseffect=null;this.moveeffect=null;};_pFrameStyle.__get_custom_style_value=function(){var _a="";if(this.icon&&!this.icon._is_empty){_a+="icon:"+this.icon._value+"; ";}if(this.showzoomcombo&&!this.showzoomcombo._is_empty){_a+="showzoomcombo:"+this.showzoomcombo._value+"; ";}if(this.statusbarheight&&!this.statusbarheight._is_empty){_a+="statusbarheight:"+this.statusbarheight._value+"; ";}if(this.titlebarheight&&!this.titlebarheight._is_empty){_a+="titlebarheight:"+this.titlebarheight._value+"; ";}if(this.openstatuseffect&&!this.openstatuseffect._is_empty){_a+="openstatuseffect:"+this.openstatuseffect._value+"; ";}if(this.moveeffect&&!this.moveeffect._is_empty){_a+="moveeffect:"+this.moveeffect._value+"; ";}return _a;};nexacro.Frame_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.icon=null;this.titlebarheight=null;this.statusbarheight=null;this.showzoomcombo=null;this.openstatuseffect=null;this.moveeffect=null;};var _pFrameCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Frame_CurrentStyle);nexacro.Frame_CurrentStyle.prototype=_pFrameCurrentStyle;_pFrameCurrentStyle.__custom_emptyObject=_pFrameStyle.__custom_emptyObject;_pFrameCurrentStyle.__get_custom_style_value=_pFrameStyle.__get_custom_style_value;delete _pFrameStyle;delete _pFrameCurrentStyle;nexacro.Frame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.FormBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.titlebar=null;this.statusbar=null;this.openalign=null;this.openstatus="normal";this.showcascadestatustext=false;this.showcascadetitletext=true;this.showstatusbar=false;this.showtitlebar=true;this.showtitleicon=true;this.statustext="";this.titletext="";this.topmost=false;this._event_list={"onactivate":1,"ondeactivate":1,"onbeforeclose":1,"onclose":1,"onkeydown":1,"onkeyup":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmousewheel":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"onmove":1,"onsize":1,"ondevicebuttondown":1,"ondevicebuttonpush":1,"ondevicebuttonup":1,"onsyscommand":1,"onorientationchange":1};this._frames=new nexacro.Collection();this._is_main=_j;if(_i){this._is_top_frame=(_i._type_name=="Application");}this._applied_title_height= -1;this._applied_status_height= -1;this._state_openstatus=0;this._is_click_openstatus=false;this._is_verticalmin=false;this._restore_position=null;this._starttrack_position=null;this._resizemode=null;this._defaultTitleHeight=20;this._defaultStatusHeight=20;this._minWidth=100;this._minHeight=100;this._defaultWidth=100;this._defaultHeight=100;this._is_frameset=false;this._is_frame=true;this._is_form=false;this._window=null;this._activate=false;this._window_type= -1;this._accessibility_role="frame";this._is_closing=false;this._is_destroying=false;};_pFrame=nexacro._createPrototype(nexacro.FormBase,nexacro.Frame);nexacro.Frame.prototype=_pFrame;_pFrame._type_name="Frame";nexacro.Frame._default_titlebarheight=nexacro._getCachedStyleObj("value","20");nexacro.Frame._default_statusbarheight=nexacro._getCachedStyleObj("value","20");_pFrame.on_apply_custom_pseudo=function(_a){if(_a){this._pseudo=_a;}else if(this._pseudo){_a=this._pseudo;}var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_icon(_a);var _d=this.on_find_CurrentStyle_showzoomcombo(_a);var _e=this.on_find_CurrentStyle_statusbarheight(_a);var _f=this.on_find_CurrentStyle_titlebarheight(_a);var _g=this.on_find_CurrentStyle_openstatuseffect(_a);var _h=this.on_find_CurrentStyle_moveeffect(_a);if(_c!=_b.icon){_b.icon=_c;this.on_apply_style_icon();}if(_d!=_b.showzoomcombo){_b.showzoomcombo=_d;this.on_apply_style_showzoomcombo();}if(_e!=_b.statusbarheight){_b.statusbarheight=_e;if(this.showstatusbar){this.on_apply_style_statusbarheight();}}if(_f!=_b.titlebarheight){_b.titlebarheight=_f;if(this.showtitlebar){this.on_apply_style_titlebarheight();}}if(_g!=_b.openstatuseffect){_b.openstatuseffect=_g;this.on_apply_style_openstatuseffect();}if(_h!=_b.moveeffect){_b.moveeffect=_h;this.on_apply_style_moveeffect();}};_pFrame.on_create_custom_style=function(){return new nexacro.Frame_Style(this);};_pFrame.on_create_custom_currentStyle=function(){return new nexacro.Frame_CurrentStyle();};_pFrame.on_find_CurrentStyle_icon=function(_a){return this._find_pseudo_obj("icon",_a,"value");};_pFrame.on_find_CurrentStyle_titlebarheight=function(_a){var _b=this._find_pseudo_obj("titlebarheight",_a,"value");return _b?_b:nexacro.Frame._default_titlebarheight;};_pFrame.on_find_CurrentStyle_statusbarheight=function(_a){var _b=this._find_pseudo_obj("statusbarheight",_a,"value");return _b?_b:nexacro.Frame._default_statusbarheight;};_pFrame.on_find_CurrentStyle_showzoomcombo=function(_a){return this._find_pseudo_obj("showzoomcombo",_a,"value");};_pFrame.on_find_CurrentStyle_openstatuseffect=function(_a){return this._find_pseudo_obj("openstatuseffect",_a,"value");};_pFrame.on_find_CurrentStyle_moveeffect=function(_a){return this._find_pseudo_obj("moveeffect",_a,"value");};_pFrame.on_update_style_icon=function(){this.on_apply_style_icon(this.currentstyle.icon=this.on_find_CurrentStyle_icon(this._pseudo));};_pFrame.on_update_style_titlebarheight=function(){this.on_apply_style_titlebarheight(this.currentstyle.titlebarheight=this.on_find_CurrentStyle_titlebarheight(this._pseudo));};_pFrame.on_update_style_statusbarheight=function(){this.on_apply_style_statusbarheight(this.currentstyle.statusbarheight=this.on_find_CurrentStyle_statusbarheight(this._pseudo));};_pFrame.on_update_style_showzoomcombo=function(){this.on_apply_style_showzoomcombo(this.currentstyle.showzoomcombo=this.on_find_CurrentStyle_showzoomcombo(this._pseudo));};_pFrame.on_update_style_openstatuseffect=function(){this.on_apply_style_openstatuseffect(this.currentstyle.openstatuseffect=this.on_find_CurrentStyle_openstatuseffect(this._pseudo));};_pFrame.on_update_style_moveeffect=function(){this.on_apply_style_moveeffect(this.currentstyle.moveeffect=this.on_find_CurrentStyle_moveeffect(this._pseudo));};_pFrame.on_apply_style_icon=function(){var _a=this.currentstyle.icon;if(this.titlebar){this.titlebar.on_apply_style_icon(_a);}else{if(nexacro.Browser=="Runtime"&&this._is_main&&this._is_window&&_a){var _b=this._getWindow();if(_b){nexacro._getImageSize(_a._value,this._on_loadicon,this,this._getRefFormBaseUrl(),_a._value);}}}};_pFrame._on_loadicon=function(_a,_b,_c){if((_b<1)||(_c<1)){return;}var _d=this;if(this._is_window){var _e=this._getWindow();if(_e){nexacro._setWindowHandleIcon(_e._handle,_a);}}};_pFrame.on_apply_style_letterspace=function(){var _a=this.currentstyle.letterspace;if(this.titlebar){this.titlebar.on_apply_style_letterspace(_a);}if(this.statusbar){this.statusbar.on_apply_style_letterspace(_a);}};_pFrame.on_apply_style_titlebarheight=function(){var _a=this.currentstyle.titlebarheight;var _b=nexacro.getStyleValueInt(_a,this._defaultTitleHeight);if(this._setTitleBarHeight(_b)){this._updateClientSize(this._control_element);}};_pFrame.on_apply_style_statusbarheight=function(){var _a=this.currentstyle.statusbarheight;var _b=nexacro.getStyleValueInt(_a,this._defaultStatusHeight);if(this._setStatusBarHeight(_b)){this._updateClientSize(this._control_element);}};_pFrame.on_apply_style_showzoomcombo=function(){var _a=this.currentstyle.showzoomcombo;if(_a&&this.statusbar){var _b=nexacro._toBoolean(_a.value);this.statusbar.set_showzoomcombo(_b);}};_pFrame.on_apply_style_openstatuseffect=function(){var _a=this.currentstyle.openstatuseffect;if(_a){var _b=_a._value;}};_pFrame.on_apply_style_moveeffect=function(){var _a=this.currentstyle.moveeffect;if(_a){var _b=_a._value;}};_pFrame._on_window_loaded=nexacro._emptyFn;_pFrame.on_created_contents=function(){this.on_apply_prop_rtldirection();if(this.titlebar){this.titlebar.on_created();}if(this.statusbar){this.statusbar.on_created();}this._resetTitleAbsoluteStyle();};_pFrame.on_create_control_element=function(_a){var _b=this.on_create_frame_control_element(_a);return _b;};_pFrame.createComponent=function(_a){var _b=null;if(this._is_window==false){_b=this.parent._control_element;if(!_b){return false;}}else{if(this._window){nexacro._checkWindowActive(this._window);}}var _c=this._control_element;if(!_c){var _c=this.on_create_control_element(_b);var _d=this._getResultPseudo(this._status,this._pseudo);this._initControl(_c,_d);this._initContents(_c,_d);if(!_a&&_b&&_b._handle){this.on_created();}}return true;};_pFrame.on_create_contents=function(){if(this.titlebar){this.titlebar.set_titletext(this.titletext);this.on_apply_style_letterspace();}if(this.statusbar){this.statusbar.set_statustext(this.statustext);this.on_apply_style_showzoomcombo();this.on_apply_style_letterspace();}var _a=false;if(this.showtitlebar){var _b;if(this._applied_title_height<0){var _c=parseInt(this.currentstyle.titlebarheight)|0;if(_c<0){_b=this._defaultTitleHeight;}else{_b=_c;}}else{_b=this._applied_title_height;}_a=this._setTitleBarHeight(_b);}if(this.showstatusbar){var _d;if(this._applied_status_height<0){var _e=parseInt(this.currentstyle.statusbarheight)|0;if(_e<0){_d=this._defaultStatusHeight;}else{_d=_e;}}else{_d=this._applied_status_height;}_a=(this._setStatusBarHeight(_d)||_a);}if(_a){this._updateClientSize(this._control_element);}if(!application._is_loaded){this._on_focus(true,this);}};_pFrame.on_created=function(_a){var _b=this._is_created;nexacro.FormBase.prototype.on_created.call(this,_a);if(this.form){if(this.form._control_element){this.form._on_load(this,this._url);}}if(!_b&&this._state_openstatus!=0){var _c=this.enableevent;var _d=this.openstatus;var _e=this._state_openstatus;this.enableevent=false;this.openstatus="normal";this._state_openstatus=0;this.on_syscommand(this._control_element,_d);this.enableevent=_c;}if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._is_window){this._applyTitleText();this._applyStatusText();}};_pFrame.on_destroy_contents=function(){if(this.statusbar){this.statusbar.destroyComponent();this.statusbar=null;}if(this.titlebar){this.titlebar.destroyComponent();this.titlebar=null;}};_pFrame.createTitleBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro.MainTitleBarCtrl("titlebar","absolute",0,0,this._adjust_width,0,null,null,this);}else{_a=new nexacro.ChildTitleBarCtrl("titlebar","absolute",0,0,this._adjust_width,0,null,null,this);}return _a;};_pFrame.createStatusBar=function(){var _a;if(this._isTopFrame()){_a=new nexacro.MainStatusBarCtrl("statusbar","absolute",0,0,this._adjust_width,0,null,null,this);}else{_a=new nexacro.ChildStatusBarCtrl("statusbar","absolute",0,0,this._adjust_width,0,null,null,this);}return _a;};_pFrame._stat_change=function(_a,_b){if(_a=="activate"){if(_b=="activate"||_b===true){this._change_state_activate(true);}else if(_b=="deactivate"||_b===false){this._change_state_activate(false);}return;}nexacro.FormBase.prototype._stat_change.call(this,_a,_b);if(_a=="focus"&&(_b=="focused"||_b=="pushed")&&!this._activate){this._change_state_activate(true);}};_pFrame.setFocus=function(_a){var _b=this._window;if(this._is_window&&_b&&_b._handle){_b._setFocus();}else{if(this.form){if(!this.form._is_created){this._change_state_activate(true);}this.form._setFocus();}}};_pFrame._update_position=function(_a,_b){var _c=this._left;var _d=this._top;var _e=this._adjust_width;var _f=this._adjust_height;var _g=false;if(this.parent){this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(this.left,this.top,this.right,this.bottom,this.width,this.height,0,0);}if(this._adjust_width!=_e||this._adjust_height!=_f){_a=true;if(_e==0||_f==0){_g=true;}}if(this._left!=_c||this._top!=_d){_b=true;}this.on_update_position(_a,_b);if(_g){this.currentstyle._empty();this.on_apply_pseudo();}};_pFrame._adjustPosition=function(_a,_b,_c,_d,_e,_f,_g,_h){var _i=null;if(this._is_window){if(this._window){if(nexacro.OS=="iOS"&&this._window_type==2&&nexacro._zoom_factor!=0){var _j=nexacro._is_attach_childframe?this._getWindow()._custom_node_id:null;var _k=this.parent._getWindow().frame?this.parent._getWindow().frame.width:this.parent._getWindow().clientWidth;_e=_g=_k?_k:(_e?_e:nexacro._getWindowHandleClientWidth(this._window._handle,_j));_f=_h=_f?Math.max(_f,_h):nexacro._getWindowHandleClientHeight(this._window._handle,_j);}else{var _j=nexacro._is_attach_childframe?this._getWindow()._custom_node_id:null;_e=_g=_e?_e:nexacro._getWindowHandleClientWidth(this._window._handle,_j);_f=_h=_f?_f:nexacro._getWindowHandleClientHeight(this._window._handle,_j);}}}var _l=_a;var _m=_c;var _n=this._isRtl(this.parent);if(_n){}for(var _q=0;_q<6;_q++ ){switch(_q){case 0:_i=_l;if(_l!=null){if(_q%2==0){_i=this._convToPixel(_l,_g);}else{_i=this._convToPixel(_l,_h);}}this.left=_a;this._left=_i;this._adjust_left=_i;break;case 1:_i=_b;if(_b!=null){if(_q%2==0){_i=this._convToPixel(_b,_g);}else{_i=this._convToPixel(_b,_h);}}this.top=_b;this._top=_i;this._adjust_top=_i;break;case 2:_i=_m;if(_m!=null){if(_q%2==0){_i=this._convToPixel(_m,_g);}else{_i=this._convToPixel(_m,_h);}}this.right=_c;this._right=_i;break;case 3:_i=_d;if(_d!=null){if(_q%2==0){_i=this._convToPixel(_d,_g);}else{_i=this._convToPixel(_d,_h);}}this.bottom=_d;this._bottom=_i;break;case 4:_i=_e;if(_e!=null){if(_q%2==0){_i=this._convToPixel(_e,_g);}else{_i=this._convToPixel(_e,_h);}}this.width=_e;this._width=_i;break;case 5:_i=_f;if(_f!=null){if(_q%2==0){_i=this._convToPixel(_f,_g);}else{_i=this._convToPixel(_f,_h);}}this.height=_f;this._height=_i;break;}}var _o=this._adjust_width;var _p=this._adjust_height;this._adjust_width=this._width!=null?this._width:_g-this._left-this._right;this._adjust_height=this._height!=null?this._height:_h-this._top-this._bottom;if(this._is_window){this._adjust_top=this._adjust_left=0;}else{this._adjust_left_ltr=this._adjust_left=this._left!=null?this._left:_g-this._right-this._adjust_width;this._adjust_top=this._top!=null?this._top:_h-this._bottom-this._adjust_height;if(_n){this._adjust_left_ltr=this._right!=null?this._right:_g-this._left-this._adjust_width;}}};_pFrame._waitCursor=function(_a,_b){var _c=this.getOwnerFrame();if(_c){_c._waitCursor(_a,_b);}};_pFrame.on_get_style_accessibility_label=function(){return this._getTitleText(this.showcascadetitletext);};_pFrame.on_update_position=function(_a,_b){var _c=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b);if(this._is_window&&nexacro.Browser=="Runtime"){var _d=this._window;if(_d){if(_a){_d.setSize(this._adjust_width,this._adjust_height);}if(_b){_d.moveTo(this._left,this._top);}}}return _c;};_pFrame.set_left=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_left.call(this,_a);};_pFrame.set_top=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_top.call(this,_a);};_pFrame.set_right=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_right.call(this,_a);};_pFrame.set_bottom=function(_a){if(!this._canMove()){return;}return nexacro.FormBase.prototype.set_bottom.call(this,_a);};_pFrame.set_width=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_width.call(this,_a);};_pFrame.set_height=function(_a){if(!this._canResize()){return;}return nexacro.FormBase.prototype.set_height.call(this,_a);};_pFrame.set_openstatus=function(_a){if(this.openstatus!=_a){switch(_a){case "minimize":this.on_syscommand(this._control_element,_a);break;case "maximize":this.on_syscommand(this._control_element,_a);break;case "normal":if(this._state_openstatus==2||this._state_openstatus==3){_a="restore";}this.on_syscommand(this._control_element,_a);break;}}return this.openstatus;};_pFrame.set_showcascadestatustext=function(_a){var _b=nexacro._toBoolean(_a);if(this.showcascadestatustext!=_b){this.showcascadestatustext=_b;this._applyStatusText();}};_pFrame.set_showcascadetitletext=function(_a){var _b=nexacro._toBoolean(_a);if(this.showcascadetitletext!=_b){this.showcascadetitletext=_b;this._applyTitleText();}};_pFrame.set_showstatusbar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showstatusbar!=_b){this.showstatusbar=_b;this.showStatusbar(_b);}};_pFrame.set_showtitlebar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtitlebar!=_b){this.showtitlebar=_b;this.showTitlebar(_b);}};_pFrame.set_showtitleicon=function(_a){var _b=nexacro._toBoolean(_a);if(this.showtitleicon!=_b){this.showtitleicon=_b;}};_pFrame.set_statustext=function(_a){if(this.statustext!=_a){this.statustext=_a;this._applyStatusText();}};_pFrame.set_titletext=function(_a){if(this.titletext!=_a){this.titletext=_a;this._applyTitleText();}};_pFrame.set_topmost=function(_a){var _b=nexacro._toBoolean(_a);if(this.topmost!=_b){this.topmost=_b;}};_pFrame.set_visible=function(_a){nexacro.FormBase.prototype.set_visible.call(this,_a);_a=nexacro._toBoolean(_a);var _b=this.parent;if(_b&&_b._is_frameset&&this._state_openstatus==3&&!_a){var _c=_b._getNextOrderFrame(this);if(_c){_c._change_state_OpenStatus(3);}}};_pFrame.alert=function(_a,_b,_c){nexacro._alert(this,_a,_b,_c);};_pFrame.confirm=function(_a,_b,_c){return nexacro._confirm(this,_a,_b,_c);};_pFrame.getHandle=function(){return  -1;};_pFrame.getOwnerFrame=function(){if(this.parent&&this.parent._is_frame){return this.parent;}return null;};_pFrame.addChild=function(_a,_b){var _c= -1;if(_a&&_a.length<=0){return  -1;}if(!_b){throw nexacro.MakeReferenceError(this,"reference_not_define",_a);}if(this[_a]){throw nexacro.MakeNativeError(this,"native_exist_id",_a);}if(!_b._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_a);}_b.parent=this;this[_a]=_b;this.all.add_item(_a,_b);var _d=this._frames.add_item(_a,_b);_b._setRtlDirection(this._rtldirection);if(_b._control_element){_b._control_element._appendToContainer(this._control_element);}if(this._is_frameset){this.frames.add_item(_a,_b);this._zorderMap.add_item(_a,_b);if(this._max_frame&&_b._state_openstatus==3){this._max_frame._change_state_OpenStatus(0);}if(this._state_openstatus==2||this._is_autorecalc_frame==true){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}}return _d;};_pFrame.insertChild=function(_a,_b,_c){if(_b&&_b.length<=0){return  -1;}if(!_c){throw nexacro.MakeReferenceError(this,"reference_not_define",_b);}if(this[_b]){throw nexacro.MakeNativeError(this,"native_exist_id",_b);}if(!_c._is_frame){throw nexacro.MakeTypeError(this,"type_invalid",_b);}_c.parent=this;this[_b]=_c;this.all.add_item(_b,_c);var _a=this._frames.insert_item(_a,_b,_c);if(this._is_frameset){this.frames.insert_item(_a,_b,_c);if(this._is_autorecalc_frame==true){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}}return _a;};_pFrame.removeChild=function(_a){if(_a&&_a.length<=0){return null;}if(!this[_a]){return null;}var _b=this[_a];if(_b){var _c=false;var _d=this._getWindow();if(_d){_c=(_d._indexOfCurrentFocusPaths(_b)> -1);}var _e=null;if(this._is_frameset){_e=this._getNextOrderFrame(_b);}if(_b._is_frame&&_b._activate==true){_b._change_state_activate(false);if(this._is_alive&&_d.id==_b._getWindow().id){_d._removeFromCurrentFocusPath(_b,true);_d._last_focused_elem=this._control_element;}}this._frames.remove_item(_a);delete this[_a];this.all.remove_item(_a);if(this._is_frameset){this.frames.remove_item(_a);this._zorderMap.remove_item(_a);}if(this._is_alive&&_b._control_element){_b._control_element._removeFromContainer();}if(this._is_frameset){var _f=false;if(this._max_frame==_b){this._max_frame=null;_f=true;}if(this._active_frame==_b){this._active_frame=null;}if(_f&&_e){_e._change_state_OpenStatus(3);}}if(this._is_frameset&&(this._state_openstatus==2||this._is_autorecalc_frame==true)){if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}if(_e){_e.setFocus();}this._applyTitleText();}return _b;};_pFrame.showTitlebar=function(_a){if(_a){var _b=this.currentstyle.titlebarheight;var _c=nexacro.getStyleValueInt(_b,this._defaultTitleHeight);if(this._setTitleBarHeight(_c)){this._updateClientSize(this._control_element);}}else{if(this._setTitleBarHeight(0)){this._updateClientSize(this._control_element);}}this._applyDragMoveType();};_pFrame.showStatusbar=function(_a){if(_a){var _b=this.currentstyle.statusbarheight;var _c=nexacro.getStyleValueInt(_b,this._defaultStatusHeight);if(this._setStatusBarHeight(_c)){this._updateClientSize(this._control_element);}}else{if(this._setStatusBarHeight(0)){this._updateClientSize(this._control_element);}}};_pFrame.move=function(_a,_b,_c,_d,_e,_f){if(!this._canMove()){return;}this._move(_a,_b,_c,_d,_e,_f);};_pFrame._move=function(_a,_b,_c,_d,_e,_f){var _g=this._left;var _h=this._top;var _i=this._adjust_width;var _j=this._adjust_height;var _k=false,_l=false;var _m=false;if(this.parent){this._adjustPosition(_a,_b,_e,_f,_c,_d,this.parent._client_width,this.parent._client_height);}else{this._adjustPosition(_a,_b,_e,_f,_c,_d,null,null);}if(this._adjust_width!=_i||this._adjust_height!=_j){_k=true;if(_i==0||_j==0){_m=true;}}if(this._left!=_g||this._top!=_h){_l=true;}this.on_update_position(_k,_l);if(this._control_element){if(_m){this.currentstyle._empty();this._control_pseudo="";}var _n=this._getResultPseudo(this._status,this._pseudo);this._updateControl(this._control_element,_n);this._updateContents(this._control_element,_n);}};_pFrame.resize=function(_a,_b){if(!this._canResize()){return;}return nexacro.FormBase.prototype.resize.call(this,_a,_b);};_pFrame._on_titlebar_dblclick=function(_a,_b){if(this.resizable==false||this._is_window){return;}switch(this._state_openstatus){case 0:this.on_maxbutton_click();break;case 2:case 3:this.on_normalbutton_click();break;}};_pFrame._on_titlebar_starttrack=function(){if(!this._canDragMove()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};var _a=this.getOwnerFrame();if(_a&&_a._is_frameset){_a._on_child_starttrack(this);}};_pFrame._on_titlebar_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d=this.getOwnerFrame();if(_d&&_d._is_frameset){_d._on_child_endtrack(this,_a,_b,_c);}delete this._starttrack_position;};_pFrame._on_titlebar_movetrack=function(_a,_b,_c,_d,_e){var _f=this._starttrack_position;if(_f==null){return;}var _g=application.mainframe;if(_d!=undefined&&_e!=undefined){var _h=parseInt(_g.left)?parseInt(_g.left):0;var _i=parseInt(_g.top)?parseInt(_g.top):0;var _j=(_d?_d:0)+_h;var _k=(_e?_e:0)+_i;var _l=_h+_g._adjust_width;var _m=_i+_g._adjust_height;if(!(_g.left<=_j&&_l>=_j&&_g.top<=_k&&_m>=_k)){return;}}if(!this._is_window){this._move(_f.left+_a,_f.top+_b,_f.width,_f.height);}else if(this._is_window&&(this._window_type==5||this._window_type==2)){this._move(this._left+_a,this._top+_b,_f.width,_f.height);}var _n=this.getOwnerFrame();if(_n&&_n._is_frameset){_n._on_child_movetrack(this,_a,_b,_c);}};_pFrame._on_border_starttrack=function(_a){if(!this._canDragResize()){this._starttrack_position=null;return false;}this._starttrack_position={left:this._adjust_left,top:this._adjust_top,width:this._adjust_width,height:this._adjust_height};this._resizemode=_a;if(this.form){this.form._on_focus(true,"lbuttondown");}};_pFrame._on_border_endtrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}this._resizemode=null;delete this._starttrack_position;};_pFrame._on_border_movetrack=function(_a,_b,_c){if(this._starttrack_position==null){return;}var _d,_e,_f,_g;_d=this._starttrack_position.left;_e=this._starttrack_position.top;_f=this._starttrack_position.width;height=this._starttrack_position.height;var _h=this._getMinMaxInfo();if(this._resizemode._value=="n-resize"||this._resizemode._value=="nw-resize"||this._resizemode._value=="ne-resize"){_e+=_b;height-=_b;if(height<_h.cy){_e-=(_h.cy-height);height=_h.cy;}}if(this._resizemode._value=="s-resize"||this._resizemode._value=="sw-resize"||this._resizemode._value=="se-resize"){height+=_b;if(height<_h.cy){height+=(_h.cy-height);}}if(this._resizemode._value=="w-resize"||this._resizemode._value=="nw-resize"||this._resizemode._value=="sw-resize"){_d+=_a;_f-=_a;if(_f<_h.cx){_d-=(_h.cx-_f);_f=_h.cx;}}if(this._resizemode._value=="e-resize"||this._resizemode._value=="ne-resize"||this._resizemode._value=="se-resize"){_f+=_a;if(_f<_h.cx){_f+=(_h.cx-_f);}}this._move(_d,_e,_f,height);};_pFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k){this._stat_change("activate","activate");};_pFrame.on_minbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"minimize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_maxbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"maximize",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_normalbutton_click=function(_a,_b){this._is_click_openstatus=true;this.on_syscommand(this._control_element,"restore",undefined,this,_a);this._is_click_openstatus=false;};_pFrame.on_closebutton_click=function(_a,_b){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();var _d=this.getOwnerFrame();if(_d){_d.removeChild(this.id);if(_d._control_element){_d.on_change_containerRect(_d._control_element.client_width,_d._control_element.client_height);}}if(this._control_element){this._control_element.destroy();}this._control_element=null;if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}};_pFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b="";if(this.form){var _c=this.form._on_beforeclose(_a);_b=this.form._appendBeforeCloseMsg(_b,_c);}if(this.frames){var _d=this.frames;var _e=_d.length;for(var _h=0;_h<_e;_h++ ){var _f=_d[_h]._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}}if(this.frame){var _f=this.frame._on_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_f);}var _g=this._on_bubble_beforeclose(_a);_b=this._appendBeforeCloseMsg(_b,_g);return _b;};_pFrame._on_close=function(){if(this._is_closing){return;}this._is_closing=true;if(this.form){this.form._on_close();}if(this.frames){var _a=this.frames;var _b=_a.length;for(var _c=0;_c<_b;_c++ ){if(_a[_c]){if(this._getWindow()!=_a[_c]._getWindow()){continue;}_a[_c]._on_close();}}}if(this.frame){this.frame._on_close();}this._on_bubble_close();this._is_closing=false;return true;};_pFrame._canMove=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragMove=function(){if(nexacro.isTouchInteraction){return false;}if(!this._canMove()){return false;}if(!this._is_window){if(this._window_type==1||this._window_type==4){return true;}var _a=this.getOwnerFrame();if(_a){if(_a._on_child_starttrack==undefined){return false;}}}if(this._dragmovetype==0){return false;}return true;};_pFrame._canResize=function(){if(this._state_openstatus!=0){return false;}return true;};_pFrame._canDragResize=function(){if(nexacro.isTouchInteraction){return false;}if(!this._canResize()){return false;}if(nexacro.Browser!="Runtime"&&this._is_window){return false;}if(this.resizable==false){return false;}var _a=this.getOwnerFrame();if(_a&&!this._is_window&&(this._window_type!=1&&this._window_type!=4)){if(_a._is_autorecalc_frame){return false;}}return true;};_pFrame._procSysCommand=function(_a){var _b= -1;switch(_a){case "restore":_b=1;break;case "minimize":_b=2;break;case "maximize":_b=3;break;}if(this._is_window&&this._window){if(_b!=( -1)){this._window._procSysCommand(_b);}}if(_b==1){if(this._is_window&&this._window&&this._state_openstatus==2){_a=["normal","restore","minimize","maximize"][this._prestate_openstatus];_b=this._prestate_openstatus;}else{_a="normal";_b=0;}}if(_b!=( -1)){this.openstatus=_a;this._change_state_OpenStatus(_b);}};_pFrame.on_syscommand=function(_a,_b,_c,_d,_e){if(_c===undefined){if(!_e){_e=this;}}if(this.visible&&this._isEnable()&&this.enableevent){_c=this.on_fire_syscommand(this,_b);if(_c===false){return false;}}if((_c!==false)&&this.parent&&!this.parent._is_application&&!this.parent._is_form){var _f=this.parent.on_syscommand(_a,_b,false,_d?_d:this,_e);if(_f==false){return false;}}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pFrame._on_activate=function(){if(this._activate==false){return;}nexacro.FormBase.prototype._on_activate.call(this);if(this.form){this.form._on_activate();}return true;};_pFrame._on_deactivate=function(){if(this._activate==false){return;}if(this.form){this.form._on_deactivate();}nexacro.FormBase.prototype._on_deactivate.call(this);return true;};_pFrame._on_orientationchange=function(_a){this.on_fire_onorientationchange(_a);if(this.form){this.form._on_orientationchange(_a);}if(this.frames){var _b=this.frames;var _c=_b.length;for(var _d=0;_d<_c;_d++ ){if(_b[_d]){if(this._getWindow()!=_b[_d]._getWindow()){continue;}_b[_d]._on_orientationchange(_a);}}}if(this.frame){this.frame._on_orientationchange(_a);}return true;};_pFrame._getRootLayerFrame=function(){var _a=this;while(_a){if(_a._is_window){return _a;}if(_a._window_type==1||_a._window_type==4){return _a;}if(_a.getOwnerFrame()){_a=_a.getOwnerFrame();}else{break;}}return _a;};_pFrame._isRootLayerFrame=function(){if(this._is_window){return true;}if(this._window_type==1||this._window_type==4){return true;}return false;};_pFrame.on_fire_syscommand=function(_a,_b){if(this.onsyscommand&&this.onsyscommand._has_handlers){var _c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);var _d=this.onsyscommand._fireCheckEvent(this,_c);if(!_d){return false;}}if(this.form&&this.form.onsyscommand&&this.form.onsyscommand._has_handlers){var _c=new nexacro.SysCommandEventInfo(_a,"onsyscommand",_b);var _d=this.form.onsyscommand._fireCheckEvent(this.form,_c);if(!_d){return false;}}return true;};_pFrame._applyDragMoveType=nexacro._emptyFn;_pFrame.lookup=nexacro._emptyFn;_pFrame.lookupSetter=nexacro._emptyFn;_pFrame.lookupFunc=nexacro._emptyFn;_pFrame._setTitleBarHeight=function(_a){var _b=this._control_element;if(_b&&this._applied_title_height!=_a){this._applied_title_height=_a;if(_a>0){var _c=this._getAppliedTitleHeight(_a);if(!this.titlebar){this.titlebar=this.createTitleBar();var _d=this._getTitleText(this.showcascadetitletext);this.titlebar.set_titletext(_d);_b.setTitleBarControl(this.titlebar,_c);this.titlebar.createComponent();}else{_b.setTitleBarControl(this.titlebar,_c);}}else{if(this.titlebar){this.titlebar.destroyComponent();this.titlebar=null;_b.setTitleBarControl(null,0);}}return true;}return false;};_pFrame._setStatusBarHeight=function(_a){var _b=this._control_element;if(_b&&this._applied_status_height!=_a){this._applied_status_height=_a;if(_a>0){var _c=this._getAppliedStatusHeight(_a);if(!this.statusbar){this.statusbar=this.createStatusBar();var _d=this._getStatusText(this.showcascadestatustext);this.statusbar.set_statustext(_d);_b.setStatusBarControl(this.statusbar,_c);this.statusbar.createComponent();this.statusbar._setResizable(this._canDragResize());}else if(this._applied_status_height!=_c){_b.setStatusBarControl(this.statusbar,_c);}}else{if(this.statusbar){this.statusbar.destroyComponent();this.statusbar=null;_b.setStatusBarControl(null,0);}}return true;}return false;};_pFrame._setVerticalMin=function(_a){if(this._is_verticalmin==_a){return;}this._is_verticalmin=_a;if(this._control_element){this._control_element._is_verticalmin=_a;if(this.titlebar){nexacro.ContainerElement.prototype.bringToFrontElement.call(this._control_element,this.titlebar._control_element);}}if(this.titlebar){this.titlebar._setVerticalMin(_a);}};_pFrame._resetTitleAbsoluteStyle=function(){var _a=this.titlebar;if(!_a){return;}var _b=0;var _c=this.getOwnerFrame();var _d=(this._window_type==1||this._window_type==4||this._window_type==5);if(!this.resizable){if(this._isNested()){_b|=0x0020;}else{_b|=0x0001|0x0002;}}else{_b|=0x0100|0x0200;}if(_c&&!this._isRootLayerFrame()){if(_c._isTopFrame()){_b|=0x0010|0x0020|0x0040;}if(_c.fullframemaximize==false){_b|=0x0001;}}if(_d){_b|=0x0001;if(!this.resizable){_b|=0x0002;}}_a._setAbsoluteStyle(_b,0xffff);};_pFrame._getMinMaxInfo=function(){var _a=110,_b=0;var _c=this.on_find_CurrentStyle_border();if(_c){_a+=_c._getBorderWidth();_b+=_c._getBorderHeight();}if(this.showtitlebar){_b+=this._getTitlebarHeight();}if(this.showstatusbar){_b+=this._getStatusbarHeight();}return {cx:_a,cy:_b};};_pFrame._isTopFrame=function(){return (this._is_top_frame);};_pFrame._getWindow=function(){if(this._is_window){return this._window;}var _a=this.parent;if(_a){return _a._getWindow();}return null;};_pFrame._getTitlebarHeight=function(){if(this.showtitlebar){var _a=20;if(this.style._applied_title_height>0){_a=this.style._applied_title_height;}else if(this.titlebar){_a=this.titlebar._adjust_height;}return _a;}return 0;};_pFrame._getStatusbarHeight=function(){if(this.showtitlebar){var _a=20;if(this.style._applied_status_height>0){_a=this.style._applied_status_height;}else if(this.statusbar){_a=this.statusbar._adjust_height;}return _a;}return 0;};_pFrame._isEnable=function(){return nexacro.FormBase.prototype._isEnable.call(this);};_pFrame._isNested=function(){return !this._is_window;};_pFrame._getTitleText=function(_a){return this.titletext;};_pFrame._applyTitleText=function(){if(this._control_element){var _a=this.showcascadetitletext;var _b=this._getTitleText(_a);if(this.titlebar){this.titlebar.set_titletext(_b);}if(this.parent&&this.parent._is_frame){this.parent._applyTitleText();}if(this._is_window){this._window._setTitleText(_b);}}};_pFrame._applyStatusText=function(){if(this._control_element){var _a=this.showcascadestatustext;var _b=this._getStatusText(_a);if(this.statusbar){this.statusbar.set_statustext(_b);}if(this.parent&&this.parent._is_frame){this.parent._applyStatusText();}if(this._is_window){this._window._setStatusText(_b);}}};_pFrame._change_state_OpenStatus=function(_a){var _b=this._prestate_openstatus=this._state_openstatus;this._state_openstatus=_a;if(_a==1){alert("_change_state_OpenStatus(1) called");}if(_b!=_a){var _c=this.getOwnerFrame();if(_b==2){this._setVerticalMin(false);}if(_b==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){_c._max_frame=null;}}if(_b==0&&(_a==2||_a==3)){if(!this._is_window){if(this._restore_position){this._restore_position=null;}if((_c&&_c._is_frameset&&!_c._is_autorecalc_frame)||(this._window_type==1||this._window_type==4)){this._restore_position={left:this.left,top:this.top,width:this.width,height:this.height,right:this.right,bottom:this.bottom};}}if(this._control_element){this._control_element._setResizable(false);}}if((_b==2||_b==3)&&_a==0){if(!this._is_window){var _d=this._restore_position;if(_d){this._move(_d.left,_d.top,_d.width,_d.height,_d.right,_d.bottom);this._restore_position=null;}}if(this._control_element){this._control_element._setResizable(this._canDragResize());}}if(_a==3&&!this._is_window){if(_c&&_c._is_frame==true&&_c._is_frameset==true){if(_c._max_frame&&_c._max_frame!=this){_c._max_frame._change_state_OpenStatus(0);}_c._max_frame=this;}else if(this._window_type==1||this._window_type==4){var _e=this._getWindow();var _f=nexacro._getMainWindowWidth(_e);var _g=nexacro._getMainWindowHeight(_e);if(_f<_e.clientWidth){_f=_e.clientWidth;}if(_g<_e.clientHeight){_g=_e.clientHeight;}this._move(0,0,_f,_g);}}if(this.titlebar){this.titlebar._change_state_OpenStatus(_a);}if(this._prestate_openstatus!=this._state_openstatus){if(_c&&_c._control_element){_c.on_change_containerRect(_c._control_element.client_width,_c._control_element.client_height);}}if(_a==3&&!this._is_window){if(_c&&_c._is_frameset==true){this.setFocus();}}this.openstatus=["normal","restore","minimize","maximize"][_a];}};_pFrame._change_state_activate=function(_a){if(this._activate==false&&_a==true){if(this._control_element){var _b=this.getOwnerFrame();if(_b){var _c=this._getWindow();var _d=_b._getWindow();if(_c==_d){_b._change_state_activate(_a,this);}}else if(nexacro._isDesktop()){var _c=this._getWindow();if(this._is_window&&_c&&_c._handle){_c._setFocus();}}if(this.form){var _e=this;while(_e){if(_e._is_window){break;}_e=_e.getOwnerFrame();}if(_e&&_e.statusbar){_e.statusbar._refreshZoomCombo(this.form);}}this._applyTitleText();this._applyStatusText();}if(!this._activate){this._activate=_a;this._on_activate();}}else if(this._activate==true&&_a==false){this._on_deactivate();this._activate=_a;}};_pFrame._getAppliedTitleHeight=function(_a){return nexacro._AppliedTitleBarHeight(this,_a);};_pFrame._getAppliedStatusHeight=function(_a){return nexacro._AppliedStatusBarHeight(this,_a);};nexacro.MainFrame_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.menubarheight=null;};var _pMainFrameStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.MainFrame_Style);nexacro.MainFrame_Style.prototype=_pMainFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pMainFrameStyle","menubarheight"));_pMainFrameStyle.__custom_emptyObject=function(){this.menubarheight=null;};_pMainFrameStyle.__get_custom_style_value=function(){var _a="";if(this.menubarheight&&!this.menubarheight._is_empty){_a+="menubarheight:"+this.menubarheight._value+"; ";}return _a;};nexacro.MainFrame_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);this.menubarheight=null;};var _pMainFrameCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.MainFrame_CurrentStyle);nexacro.MainFrame_CurrentStyle.prototype=_pMainFrameCurrentStyle;_pMainFrameCurrentStyle.__custom_emptyObject=_pMainFrameStyle.__custom_emptyObject;_pMainFrameCurrentStyle.__get_custom_style_value=_pMainFrameStyle.__get_custom_style_value;delete _pMainFrameStyle;delete _pMainFrameCurrentStyle;nexacro.MainFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,true);this.openalign=new nexacro.Style_align();this.applicationmenu=null;this.frame=null;this.menubar=null;this.resizable=true;this.layered=false;this._window=new nexacro.Window(_a,null,true);this._menu_height=0;this._applied_menu_height=0;this._ref_comm=0;this._defaultTitleHeight=30;this._defaultStatusHeight=30;this._is_window=true;this._is_autorecalc_frame=true;this._accessibility_role="application";this._skip_destroy=false;};_pMainFrame=nexacro._createPrototype(nexacro.Frame,nexacro.MainFrame);nexacro.MainFrame.prototype=_pMainFrame;_pMainFrame._type_name="MainFrame";_pMainFrame.getActiveFrame=function(){return this.frame;};_pMainFrame.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_menubarheight(_a);if(_c!=_b.menubarheight){_b.menubarheight=_c;this.on_apply_style_menubarheight();}};_pMainFrame.on_create_custom_style=function(){return new nexacro.MainFrame_Style(this);};_pMainFrame.on_create_custom_currentStyle=function(){return new nexacro.MainFrame_CurrentStyle();};_pMainFrame.on_find_CurrentStyle_menubarheight=function(_a){return this._find_pseudo_obj("menubarheight",_a,"value");};_pMainFrame.on_update_style_menubarheight=function(){this.on_apply_style_menubarheight(this.currentstyle.menubarheight=this.on_find_CurrentStyle_menubarheight(this._pseudo));};_pMainFrame.on_apply_style_menubarheight=function(){var _a=this.currentstyle.menubarheight;var _b=nexacro.getStyleValueInt(_a,0);this._menu_height=_b;if(this._setMenuBarHeight(_b)){this._updateClientSize(this._control_element);}};_pMainFrame.on_createBodyFrame=nexacro._emptyFn;_pMainFrame.createComponent=function(){this.createWindow();return nexacro.Frame.prototype.createComponent.call(this);};_pMainFrame.createWindow=function(){var _a=this._window;if(_a==null){_a=this._window=new nexacro.Window(this.name,null,true);}_a.create(null,this.name,this._adjust_width,this._adjust_height,this._adjust_left,this._adjust_top,this.resizable,this.layered);_a.attachFrame(this,false);_a._setSystemMenuResizable(this.resizable);var _b=nexacro._getMainWindowWidth(_a);var _c=nexacro._getMainWindowHeight(_a);this._setSize(_b,_c);};_pMainFrame.createMenuBar=function(){var _a=new nexacro.Form("menubar",0,0,0,this._menubar_height,this);this._applied_menu_height=this._menubar_height;_a.set_style("background:green;");_a.set_text("menubar");this.manubar=_a;return _a;};_pMainFrame.createBodyFrame=function(){this.on_createBodyFrame();};_pMainFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this.menubar){this._control_element.setMenuBarControl(this.menubar,this._applied_menu_height);this.menubar.createComponent();if(this._applied_menu_height>0){}this._updateClientSize(this._control_element);}if(this.frame){this.frame._setPos(0,0);this.frame._setSize(this._client_width,this._client_height);this.frame.createComponent();this.frame._change_state_OpenStatus(3);}};_pMainFrame._on_deactivate=function(){var _a=this._getWindow();if(_a){_a._keydown_element=null;}return nexacro.Frame.prototype._on_deactivate.call(this);};_pMainFrame.on_created_contents=function(){nexacro.Frame.prototype.on_created_contents.call(this);if(this.menubar){this.menubar.on_created();}if(this.frame){this.frame.on_created();}var _a=this._control_element;if(_a){_a.setElementRtlDirection(application.rtldirection);}if(nexacro.Browser=="Runtime"&&nexacro._isDesktop()){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._adjust_width;var _e=this._adjust_height;var _f=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_f){_b=_f.left;_c=_f.top;}this._move(_b,_c,_d,_e);}};_pMainFrame.destroyComponent=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}if(nexacro._getLocalStorage("_com_waiting",false)){application._com_waiting=false;nexacro._setLocalStorage("_com_waiting","false","boolean");}this._is_destroying=true;if(this._window&&this._window._is_alive){this._window.destroy();if(!this._skip_destroy){nexacro.Frame.prototype.destroyComponent.call(this);}this._window=null;}else if(this._is_alive){nexacro.Frame.prototype.destroyComponent.call(this);}this._is_destroying=false;return true;};_pMainFrame.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);if(this.menubar){this.menubar.destroyComponent();this.menubar=null;}if(this.frame){this.frame.destroyComponent();this.frame=null;}};_pMainFrame.on_change_containerPos=function(_a,_b){if(this.frame){this.frame._setPos(0,0);}};_pMainFrame.on_change_containerRect=function(_a,_b){if(this.frame){this.frame._setSize(_a,_b);}if(this.titlebar){this.titlebar._update_position(false,true);}};_pMainFrame.on_update_position=function(_a,_b){var _c=nexacro.FormBase.prototype.on_update_position.call(this,_a,_b);if(_a||_b){var _d=this._frames;var _e=_d.length;for(var _j=0;_j<_e;_j++ ){if(this.frame.id==_d[_j].id){continue;}var _f=_d[_j];var _g=_f.form;var _h=_f._getOpenAlignPos(this._getWindow(),_f.left,_f.top,_f.width,_f.height);if(_h){_f.left=_h.left;_f.top=_h.top;}_f.move(_f.left,_f.top,_f.width,_f.height,_f.right,_f.bottom);_g.on_change_containerRect(_g._client_width,_g._client_height);}}if(this._is_window&&nexacro.Browser=="Runtime"){var _i=this._window;if(_i){if(_a){if(nexacro._isDesktop()){_i.setSize(this._adjust_width,this._adjust_height);}}if(_b){_i.moveTo(this._left,this._top);}}}return _c;};_pMainFrame._waitCursor=function(_a,_b){if(this._window){if(_a==true){var _c=this._waitcomp;if(this._ref_comm==0){application._com_waiting=true;nexacro._setLocalStorage("_com_waiting","true","boolean");if(_c==null){_c=this._waitcomp=new nexacro.WaitComponent("waitwindow","absolute",0,0,0,0,null,null,this);_c.createComponent();_c.on_created();}var _d=application._getLoadingImageUrl();_c.setImage(_d);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{if(this._ref_comm>0){this._ref_comm-- ;}var _c=this._waitcomp;if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;application._com_waiting=false;nexacro._setLocalStorage("_com_waiting","false","boolean");_c.hide();}}}}};_pMainFrame.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);var _b=this._getRootWindow();if(_b&&_b._handle){nexacro._setPopupWindowHandleVisible(_b._handle,_a);}}};_pMainFrame.set_openalign=function(_a){if(this.openalign._is_empty&&this.openalign._value!=_a){this.openalign._setValue(_a);this.on_apply_prop_openalign();}};_pMainFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this.resizable!=_b){this.resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}}};_pMainFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this.layered!=_b){this.layered=_b;}};_pMainFrame.on_apply_prop_openalign=function(){if(!this.openalign._is_empty){}};_pMainFrame.on_apply_prop_enable=function(_a){if(this.frame){this.frame._setEnable(_a);}};_pMainFrame.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;var _b=this.titlebar;if(_b){_b._setRtlDirection(_a);}var _c=this.statusbar;if(_c){_c._setRtlDirection(_a);}var _d=this.menubar;if(_d){_d._setRtlDirection(_a);}var _e=this.frame;if(_e){_e._setRtlDirection(_a);var _f=this.frame.getOwnerFrame();var _g=_f._control_element.client_width;var _h=_f._control_element.client_height;this.frame._setSize(_g,_h);}};_pMainFrame._on_beforeclose=function(_a){if(!_a){_a=this;}var _b=application.on_fire_onbeforeexit();var _c=nexacro.Frame.prototype._on_beforeclose.call(this,_a);_c=this._appendBeforeCloseMsg(_c,_b);return _c;};_pMainFrame.on_syscommand=function(_a,_b,_c,_d,_e){var _f=this.on_fire_syscommand(this,_b);if(!_f){return false;}if(_d&&_d!=this){return true;}this._procSysCommand(_b);};_pMainFrame.on_closebutton_click=function(_a,_b){application.exit();};_pMainFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(!this.openalign._is_empty){var _f=nexacro._getMonitorIndex(_a.left+_d/2,_a.top+_e/2);var _g=nexacro._getScreenRect(_f);var _h=_g.left;var _i=_g.top;var _j=nexacro._getScreenWidth(_f);var _k=nexacro._getScreenHeight(_f);switch(this.openalign.halign){case "left":_b=_h;break;case "center":_b=_h+Math.round((_j-_d)/2);break;case "right":_b=_h+_j-_d;break;}switch(this.openalign.valign){case "top":_c=_i;break;case "middle":_c=_i+Math.round((_k-_e)/2);break;case "bottom":_c=_i+_k-_e;break;}return {left:_b,top:_c};}return null;};_pMainFrame._setMenuBarHeight=function(_a){if(this._applied_menu_height!=_a){if(_a>0&&this.menubar){this._applied_menu_height=_a;var _b=this._control_element;if(_b){_b.setMenuBarControl(this.menubar,_a);return true;}this.menubar.set_visible(true);}else if(this._applied_menu_height>0&&this.menubar){this._applied_menu_height=0;this.menubar.set_visible(false);this.menubar=null;if(_b){_b.setMenuBarControl(null,0);return true;}}}return false;};_pMainFrame._change_state_activate=function(_a){if(_a==false){if(this.frame){this.frame._change_state_activate(false);}}nexacro.Frame.prototype._change_state_activate.call(this,_a);};_pMainFrame._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){if(this.frame){var _c=this.frame._getTitleText(true);if(_c.length>0){if(_b.length>0){_b+=" - ";}_b+=_c;}}}return _b;};_pMainFrame._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){if(this.frame){var _c=this.frame._getStatusText(true);if(_c.length>0){if(_b.length>0){_b+=" - ";}_b+=_c;}}}return _b;};delete _pMainFrame;nexacro.ChildFrame_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.overlaycolor=null;};var _pChildFrameStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.ChildFrame_Style);nexacro.ChildFrame_Style.prototype=_pChildFrameStyle;eval(nexacro._createValueAttributeEvalStr("_pChildFrameStyle","overlaycolor"));_pChildFrameStyle.__custom_emptyObject=function(){nexacro.Frame_Style.prototype.__custom_emptyObject.call(this);this.overlaycolor=null;};_pChildFrameStyle.__get_custom_style_value=function(){var _a=nexacro.Frame_Style.prototype.__get_custom_style_value.call(this);if(this.overlaycolor&&!this.overlaycolor._is_empty){_a+="overlaycolor:"+this.overlaycolor._value+"; ";}return _a;};nexacro.ChildFrame_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);this.overlaycolor=null;};var _pChildFrameCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.ChildFrame_CurrentStyle);nexacro.ChildFrame_CurrentStyle.prototype=_pChildFrameCurrentStyle;_pChildFrameCurrentStyle.__custom_emptyObject=_pChildFrameStyle.__custom_emptyObject;_pChildFrameCurrentStyle.__get_custom_style_value=_pChildFrameStyle.__get_custom_style_value;delete _pChildFrameStyle;delete _pChildFrameCurrentStyle;nexacro.ChildFrame=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_j);this.openalign=new nexacro.Style_align();this.opener=null;this.form=null;this.autosize=true;this.resizable=false;this.layered=false;this.showontaskbar=null;this.widget=false;this.dragmovetype="normal";this._ref_comm=0;this._waitcomp=null;this._window_type=0;this._dragmovetype=1;this._is_popup_frame=false;this._is_loadform_failed=false;this._init_formurl=_i;this._args={};};_pChildFrame=nexacro._createPrototype(nexacro.Frame,nexacro.ChildFrame);nexacro.ChildFrame.prototype=_pChildFrame;_pChildFrame._type_name="ChildFrame",nexacro.ChildFrame._default_overlaycolor=nexacro._getCachedStyleObj("color","#00000090");_pChildFrame._close_callback=null;_pChildFrame._close_argument=undefined;_pChildFrame.on_create_custom_style=function(){return new nexacro.ChildFrame_Style(this);};_pChildFrame.on_create_custom_currentStyle=function(){return new nexacro.ChildFrame_CurrentStyle();};_pChildFrame.on_update_style_align=function(_a){if(_a==0){this._updateCurrentStyle("align");this.on_apply_style_align();}else if(_a==2){this.on_apply_prop_openalign();}};_pChildFrame.on_apply_prop_openalign=function(){if(!this.openalign._is_empty){}};_pChildFrame.on_apply_prop_enable=function(_a){if(this.form){this.form._setEnable(_a);}};_pChildFrame.on_apply_prop_rtldirection=function(){var _a=this._rtldirection;var _b=this.titlebar;if(_b){_b._setRtlDirection(_a);}var _c=this.statusbar;if(_c){_c._setRtlDirection(_a);}var _d=this.form;if(_d){_d._setRtlDirection(_a);}};_pChildFrame.on_apply_style_overlaycolor=function(_a){if(this._modal_overlay_elem){this._modal_overlay_elem.setElementColor(_a);}};_pChildFrame.on_find_CurrentStyle_overlaycolor=function(_a){var _b=this._find_pseudo_obj("overlaycolor",_a,"color");if(_b){return _b;}return nexacro.ChildFrame._default_overlaycolor;};_pChildFrame.on_update_style_overlaycolor=function(){this.on_apply_style_overlaycolor(this.currentstyle.overlaycolor=this.on_find_CurrentStyle_overlaycolor(this._pseudo));};_pChildFrame.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);if(this.form){this.form._setPos(0,0);this.form._setSize(this._client_width,this._client_height);this.form.createComponent();}};_pChildFrame.destroyComponent=function(){if(this._window_type==1||this._window_type==4){this._setModalUnlock();this._runCallback();nexacro._unregisterPopupFrame(this.id);if(this._window_type==4){var _a=this._getWindow();var _b=this._virtual_handle;nexacro._unblockScript(_a._handle,_b);nexacro._closeVirtualWindowHandle(_b);this._virtual_handle=null;}}if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}this._is_destroying=true;if(nexacro._getLocalStorage("_com_waiting",false)){application._com_waiting=true;nexacro._setLocalStorage("_com_waiting","true","boolean");}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;this._is_destroying=false;return true;}else{this._is_destroying=false;return nexacro.Frame.prototype.destroyComponent.call(this);}};_pChildFrame.on_destroy_contents=function(){if(this._waitcomp){this._waitcomp.destroy();this._waitcomp=null;}nexacro.Frame.prototype.on_destroy_contents.call(this);if(this._variables){var _a=this._variables.length;for(var _b=0;_b<_a;_b++ ){delete this[this._variables[_b]];}}if(this.form){this.form.destroyComponent();this.form=null;}};_pChildFrame._runCallback=function(){var _a=this._close_callback;if(_a){if(typeof (_a)=="string"){if(this.opener){var _b=this.opener[_a];if(_b){try{_b.call(this.opener,this.name,this._close_argument);}catch(e){if(e.obj){application._onSystemError(e.obj,e.name,e.message);}else{var _c=nexacro._getExceptionMessage(e);application._onSystemError(application,e.name,_c);}}}}}else if(typeof (_a)=="function"){try{_a.call(this.opener,this.name,this._close_argument);}catch(e){if(e.obj){application._onSystemError(e.obj,e.name,e.message);}else{var _c=nexacro._getExceptionMessage(e);application._onSystemError(application,e.name,_c);}}}}};_pChildFrame.on_created_contents=function(){if(this._is_window&&this._window){var _a=this._window;if(this._delayed_window_pos&&_a._handle){_a.setArea(this._delayed_window_pos.left,this._delayed_window_pos.top,this._delayed_window_pos.width,this._delayed_window_pos.height);delete this._delayed_window_pos;}this._setSize(this._adjust_width,this._adjust_height);if(_a._handle){_a._setSystemMenuResizable(this.resizable);}}else if((this._window_type==1||this._window_type==4)&&this.form&&this.autosize){var _b=this._adjust_left;var _c=this._adjust_top;var _d=this._getAutosizedFrameSize(true);var _e=_d.width;var _f=_d.height;var _g=this._getOpenAlignPos(this._getWindow(),_b,_c,_e,_f);if(_g){_b=_g.left;_c=_g.top;}var _h=this._recalcModalPosition(_b,_c,_e,_f);this._move(_h.left,_h.top,_h.width,_h.height);}nexacro.Frame.prototype.on_created_contents.call(this);if(this._init_formurl){this.set_formurl(this._init_formurl);}this._createForm();this.on_apply_prop_rtldirection();};_pChildFrame.on_change_containerPos=function(_a,_b){if(this.form){this.form._setPos(0,0);}};_pChildFrame.on_change_containerRect=function(_a,_b){if(this.form){this.form._setSize(_a,_b);if(this._is_window){this.form.resetScroll();}}if(this.titlebar){this.titlebar._update_position(false,true);}};_pChildFrame.createComponent=function(_a){if(this._window_type!=1&&this._window_type!=4&&this._window_type!=5){return nexacro.Frame.prototype.createComponent.call(this,_a);}var _b=this._modal_overlay_elem;var _c=_b;var _d=this._control_element;if(!_d){var _d=this.on_create_control_element(_c);var _e=this._getResultPseudo(this._status,this._pseudo);this._initControl(_d,_e);this._initContents(_d,_e);if(!_a&&_c&&_c._handle){this.on_created();}}return true;};_pChildFrame._checkValidLayout=function(){if(this.form!=null){this.form._checkValidLayout();}};_pChildFrame._waitCursor=function(_a,_b){if(this._isNested()){return nexacro.Frame.prototype._waitCursor.call(this,_a,_b);}if(this._window){if(_a==true){var _c=this._waitcomp;if(_c==null){_c=this._waitcomp=new nexacro.WaitComponent("waitwindow","absolute",0,0,0,0,null,null,this);_c.createComponent();_c.on_created();}if(this._ref_comm==0){application._com_waiting=true;nexacro._setLocalStorage("_com_waiting","true","boolean");var _d=application._getLoadingImageUrl();_c.setImage(_d);_c.show();}_c._addContext(_b);this._ref_comm++ ;}else{if(this._ref_comm>0){this._ref_comm-- ;}var _c=this._waitcomp;if(_c){_c._removeContext(_b);if(this._ref_comm<=0){this._ref_comm=0;application._com_waiting=false;nexacro._setLocalStorage("_com_waiting","false","boolean");_c.hide();}}}}};_pChildFrame.set_autosize=function(_a){if(this.autosize!=_a){this.autosize=nexacro._toBoolean(_a);}};_pChildFrame.set_dragmovetype=function(_a){if(this.dragmovetype!=_a){var _b=false;switch(_a){case "all":this.dragmovetype=_a;this._dragmovetype=2;_b=true;break;case "normal":this.dragmovetype=_a;this._dragmovetype=1;break;case "none":this.dragmovetype=_a;this._dragmovetype=0;break;}this._applyDragMoveType();}};_pChildFrame.set_openalign=function(_a){if(this.openalign._is_empty&&this.openalign._value!=_a){this.openalign._setValue(_a);this.on_update_style_align(2);}};_pChildFrame.set_formurl=function(_a){var _b=nexacro._getFDLLocation(_a);if(this._formurl!=_b){if(this.form&&this.form._control_element){var _c=this._on_beforeclose();if(this._checkAndConfirmClose(_c)==false){return;}this._on_close();}this.formurl=_a;this._formurl=_b;this._is_loadform_failed=false;if(this._is_created){this._createForm();}this.on_apply_prop_rtldirection();}};_pChildFrame.set_resizable=function(_a){var _b=nexacro._toBoolean(_a);if(this.resizable!=_b){this.resizable=_b;this._resetTitleAbsoluteStyle();if(this._control_element){this._control_element._setResizable(this._canDragResize());}if(this._window){this._window._setSystemMenuResizable(_b);}}};_pChildFrame.set_layered=function(_a){var _b=nexacro._toBoolean(_a);if(this.layered!=_b){this.layered=_b;}};_pChildFrame.set_showontaskbar=function(_a){var _b=nexacro._toBoolean(_a);if(this.showontaskbar!=_b){this.showontaskbar=_b;}};_pChildFrame.set_widget=function(_a){var _b=nexacro._toBoolean(_a);if(this.widget!=_b){this.widget=_b;}};_pChildFrame.init=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){if(_a){this.id=this.name=_a;}this.position=_b?_b:"absolute";var _j=this._adjust_left;var _k=this._adjust_top;var _l=this._adjust_width;var _m=this._adjust_height;var _n=false,_o=false;if(arguments.length>=6){this._adjustPosition(_c,_d,_g,_h,_e,_f,this.parent?this.parent._client_width:0,this.parent?this.parent._client_height:0);if(this._adjust_width!=_l||this._adjust_height!=_m){_n=true;}if(this._adjust_left!=_j||this._adjust_top!=_k){_o=true;}if(!_i){this.on_update_position(_n,_o);}}if(_i){this._init_formurl=_i;}};_pChildFrame.loadForm=function(_a,_b,_c,_d){return this.getApplication().loadFormurl(_a,null,_b,_c,_d);};_pChildFrame._on_loadform_failed=function(){this._is_loadform_failed=true;if(this._window_type>0){if(!this.showtitlebar){this.set_showtitlebar(true);}if(!this.visible){this.set_visible(true);}var _a=this._adjust_left;var _b=this._adjust_top;var _c=this._adjust_left+this._adjust_width;var _d=this._adjust_top+this._adjust_height;var _e=this._adjust_width;var _f=this._adjust_height;var _g=application.mainframe;var _h=_g._adjust_width;var _i=_g._adjust_height;var _j=false;var _k=this.opener;if(_k){_h=_k._adjust_width;_i=_k._adjust_height;}if(_c<0||_d<0||_b>_i||_a>_h){_a=0;_b=0;_j=true;}if(this._adjust_width<this._minWidth||this._adjust_height<this._minHeight){_e=this._defaultWidth;_f=this._defaultHeight;_j=true;}if(_j){this.move(_a,_b,_e,_f);}}};_pChildFrame._addVariable=function(_a,_b){this[_a]=_b;if(!this._variables){this._variables=[];}this._variables.push(_a);};_pChildFrame.showModal=function(_a,_b,_c,_d,_e,_f){var _g,_h,_i,_j;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_i=arguments[0];_h=arguments[1];this._arg=arguments[2];this.opener=arguments[3];this._close_callback=arguments[4];}else{_i=this.id;_h=arguments[0];this._arg=arguments[1];this.opener=arguments[2];this._close_callback=arguments[3];}var _k=null;if(_h==null){_h=application.mainframe;}if(_h){_g=_h.addChild(_i,this);}if(_g== -1){return false;}else{_k=this;}if(_k&&_k._arg){for(var _v in _k._arg){_k._addVariable(_v,_k._arg[_v]);}}if(nexacro._registerPopupFrame(_i,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_i);return false;}var _l=this.formurl;if(_l){this.set_formurl(_l);}_k._is_window=false;_k._window_type=1;var _m=_k._adjust_left;var _n=_k._adjust_top;var _o=_k._adjust_width;var _p=_k._adjust_height;if(this.autosize){var _q=this._getAutosizedFrameSize(true);this.width=_o=_q.width;this.height=_p=_q.height;}var _r=_k._getOpenAlignPos(this._getWindow(),_m,_n,_o,_p);if(_r){this.left=_r.left;this.top=_r.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _s=null;if(_h&&_h._focusManager){_s=_h._focusManager[0];}if(_s){if(_s.parent._is_form){this.opener=_s.parent;}else{this.opener=_h?_h.form:null;}}else{this.opener=_h?_h.form:null;}}if(this.form){this.form.opener=this.opener;}var _t=this._recalcModalPosition(this.left,this.top,this.width,this.height);this.left=_t.left;this.top=_t.top;this.width=_t.width;this.height=_t.height;var _u=_h?_h._getWindow():null;if(_u){_u._cancelEvent();}this._setModalLock();this.createComponent(true);this.on_created();this.getElement().setElementZIndex(this._modal_overlay_elem.zindex);this._change_state_activate(true);return true;};_pChildFrame._showModalSync=function(_a,_b,_c,_d){var _e,_f,_g,_h;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_g=arguments[0];_f=arguments[1];this._arg=arguments[2];this.opener=arguments[3];}else{_g=this.id;_f=arguments[0];this._arg=arguments[1];this.opener=arguments[2];}var _i=null;if(_f==null){_f=application.mainframe;}if(_f){_e=_f.addChild(_g,this);}if(_e== -1){return false;}else{_i=this;}if(_i&&_i._arg){for(var _t in _i._arg){_i._addVariable(_t,_i._arg[_t]);}}if(nexacro._registerPopupFrame(_g,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_g);return false;}_i._is_window=false;_i._window_type=4;var _j=_i._adjust_left;var _k=_i._adjust_top;var _l=_i._adjust_width;var _m=_i._adjust_height;if(this.autosize){var _n=this._getAutosizedFrameSize(true);this.width=_l=_n.width;this.height=_m=_n.height;}var _o=_i._getOpenAlignPos(this._getWindow(),_j,_k,_l,_m);if(_o){this.left=_o.left;this.top=_o.top;}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _p=null;if(_f&&_f._focusManager){_p=_f._focusManager[0];}if(_p){if(_p.parent._is_form){this.opener=_p.parent;}else{this.opener=_f?_f.form:null;}}else{this.opener=_f?_f.form:null;}}if(this.form){this.form.opener=this.opener;}var _q=this._recalcModalPosition(this.left,this.top,this.width,this.height);this.left=_q.left;this.top=_q.top;this.width=_q.width;this.height=_q.height;this._setModalLock();this.createComponent(true);this.on_created();this._change_state_activate(true);var _r=this._getWindow();if(_r&&_r._handle){var _s=nexacro._createVirtualWindowHandle(_r._handle);this._virtual_handle=_s;nexacro._blockScript(_r._handle,_s);}return true;};_pChildFrame.showModeless=function(_a,_b,_c,_d){var _e,_f,_g,_h,_i;if(!(_a instanceof nexacro.Frame)&&_a!=null){_f=_b;_g=_a;this.id=_g;this._arg=_c;if(_d){this.opener=_d;}}else{_f=_a;_g=this.id;this._arg=_b;if(_c){this.opener=_c;}}var _j;if(_f){_e=_f.addChild(_g,this);}if(_e== -1){return false;}_j=this;if(_j&&_j._arg){for(var _t in _j._arg){_j._addVariable(_t,_j._arg[_t]);}}if(nexacro._registerPopupFrame(_g,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_g);}if(this._init_formurl){this.set_formurl(this._init_formurl);}_j._is_window=true;_j._window_type=2;var _k=_j._adjust_left;var _l=_j._adjust_top;var _m=_j._adjust_width;var _n=_j._adjust_height;var _o=false;if(this.autosize&&this.form&&!this.form._is_loading){var _p=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");this.width=_m=_p.width;this.height=_n=_p.height;_o=true;}if(!_o){var _q=_j._getOpenAlignPos(_j._window,_k,_l,_m,_n);if(_q){_k=_q.left;_l=_q.top;}}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){var _r=null;if(_f&&_f._focusManager){_r=_f._focusManager[0];}if(_r){if(_r.parent._is_form){this.opener=_r.parent;}else{this.opener=_f?_f.form:null;}}else{this.opener=_f?_f.form:null;}}if(this.form){this.form.opener=this.opener;}this._accessibility_role="dialog";var _s=_f?_f._getWindow():null;if(!this.autosize||_o){this._window=new nexacro.Window(this.name,_s,false);this._window.attachFrame(this,false);this._window.create(_s,this.id,_m,_n,_k,_l,this.resizable,this.layered,this.showontaskbar);if(this._is_created){this._control_element._parent_elem=null;}}else{this._delayed_create_window=true;this._delayed_create_parent=_s;this._createForm();}return true;};_pChildFrame._showModalWindow=function(_a,_b,_c,_d,_e){this._is_popup_frame=true;var _f,_g,_h,_i,_j;var _k=0;if(!(_a instanceof nexacro.Frame)&&_a!=null){this.id=_h=arguments[0];}else{_k= -1;_h=this.id;}_g=arguments[1+_k];this._arg=arguments[2+_k];if(arguments[3+_k]){this.opener=arguments[3+_k];}_j=arguments[4+_k];_j=1;if(_g){_f=_g.addChild(_h,this);}if(_f== -1){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this&&this._arg){for(var _t in this._arg){this._addVariable(_t,this._arg[_t]);}}if(nexacro._registerPopupFrame(_h,this)<0){throw nexacro.MakeNativeError(this,"native_exist_id",_h);}if(this._init_formurl){this.set_formurl(this._init_formurl);}this._is_window=true;this._window_type=5;var _l=this._adjust_left;var _m=this._adjust_top;var _n=this._adjust_width;var _o=this._adjust_height;var _p=_b._getWindow();if(_p&&!this._is_popup_frame){_l=_p.getLeft();_m=_p.getTop();}var _q=false;if(this.autosize&&this.form&&this.form._control_element){_n=this.form._init_width;_o=this.form._init_height;_q=true;}if(!_q){var _r=this._getOpenAlignPos(this._window,_l,_m,_n,_o);if(_r){_l=_r.left;_m=_r.top;}}if(!this.opener||(this.opener&&!this.opener._is_form&&!this.opener._is_application)){this.opener=_g?_g.form:null;}if(this.form){this.form.opener=this.opener;}var _s=_g?_g._getWindow():null;if(this.autosize&&!_q){this._delayed_create_window=true;this._delayed_create_parent=_s;}this._window=new nexacro.Window(this.name,_s,false);this._window.attachFrame(this,false);if(this.form&&this.form._load_manager.status>=7){this._loadedForm();}if(_s){_s._cancelEvent();}return this._window.createModal(_s,this.id,_n,_o,_l,_m,this.resizable,this.layered,_j);};_pChildFrame._on_init=nexacro._emptyFn;_pChildFrame._on_load=function(){this.createComponent();this.on_created();this._change_state_activate(true);};_pChildFrame._showModeless=function(_a,_b){nexacro._registerPopupFrame(_a,this);this._is_popup_frame=true;this._is_window=true;this._window=_b;this._window.frame=this;this._window_type=2;this._load_manager.status=2;var _c=nexacro._getLocalStorage("_cssurls",[]);var _d=_c.length;if(_d==0){this._load_manager._is_mainloaded=true;}var _e=nexacro._getLocalStorage("_theme_uri","./_theme_/default")+"/theme.css";var _f=nexacro._getLocalStorage("_project_uri","");this.loadCss(_e,_f);if(_d>0){this._load_manager._is_mainloaded=true;}for(var _g=0;_g<_d;_g++ ){_e=_c[_g];this.loadCss(_e,_f);}nexacro._setOpenInfo(this,_a);};_pChildFrame.hideModal=function(){};_pChildFrame.hideModeless=function(){};_pChildFrame.getForm=function(){return this.form?this.form:null;};_pChildFrame.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Frame.prototype.on_fire_sys_onkeydown.call(this,_a,_b,_c,_d,_e,_f);if(this._is_window){return true;}return _g;};_pChildFrame.on_fire_sys_onkeyup=function(_a,_b,_c,_d,_e,_f){var _g=nexacro.Frame.prototype.on_fire_sys_onkeyup.call(this,_a,_b,_c,_d,_e,_f);if(this._is_window){return true;}return _g;};_pChildFrame.on_fire_sys_onlbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onlbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_loadform_failed&&this.showtitlebar==false){var _n=this.getOwnerFrame();if(_n){_n.removeChild(this.id);if(_n._control_element){_n.on_change_containerRect(_n._control_element.client_width,_n._control_element.client_height);}}if(this._is_window&&this._window&&this._window._is_alive){this._window.destroy();}else{this._destroy();}if(this._control_element){this._control_element.destroy();}this._control_element=null;}if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onlbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onlbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onrbuttondown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onrbuttondown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onrbuttonup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onrbuttonup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousedown=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmousedown.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseup=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseup.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseenter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseenter.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmouseleave=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmouseleave.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousemove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){var _m=nexacro.Frame.prototype.on_fire_sys_onmousemove.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);if(this._is_window){return true;}return _m;};_pChildFrame.on_fire_sys_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){var _o=nexacro.Frame.prototype.on_fire_sys_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);if(this._is_window&&!_e){return true;}return _o;};_pChildFrame._createForm=function(){var _a=this.formurl;if(!_a){_a="";}var _b=this.form;if(_b){if(_b._url!=this._formurl){_b._waitCursor(false,_b);_b.destroyComponent();_b=new Form("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_b._is_init=true;_b.opener=this.opener;this.form=_b;_b.loadForm(_a);if(this._control_element){_b.createComponent();}}}else{_b=new Form("form","absolute",0,0,this._client_width,this._client_height,null,null,this);_b.opener=this.opener;this.form=_b;if(this._formurl){_b.loadForm(_a);}if(this._control_element){_b.createComponent();}}return _b;};_pChildFrame._closeForm=function(_a){if(this._is_window){if(_a!==undefined){this._close_argument=_a;this._window.returnValue=_a;}var _b=this.all;var _c=_b.length;for(var _g=0;_g<_c;_g++ ){var _d=_b.get_id(_g);var _e=_b[_g];if(_e._is_window&&_e._window&&_e._is_alive){this.removeChild(_d);_e._window.destroy();_e._window=null;}}var _f=this.getOwnerFrame();if(_f){_f.removeChild(this.id);}if(this.form&&this.form._is_alive){this.form._destroy();this.form=null;}if(this._window&&this._window._is_alive){this._window.destroy();this._window=null;}}else{if(_a!==undefined){this._close_argument=_a;}var _f=this.getOwnerFrame();if(_f){_f.removeChild(this.id);}if(this.form&&this.form._is_alive){this.form._destroy();this.form=null;}this._destroy();}};_pChildFrame._destroyForm=function(){if(this.form){this.form._destroy();this.form=null;}};_pChildFrame._loadedForm=function(){this._last_focused=this.form;if(this._is_loadform_failed){return;}this._applyDragMoveType();if(this.autosize){var _a=this._delayed_create_parent;var _b=this._left;var _c=this._top;var _d=this.form._init_width;var _e=this.form._init_height;if(this._is_window&&this._window_type==2){if(this._delayed_create_window){var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(_a,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}this._move(this._adjust_left,this._adjust_top,_d,_e);var _h=this._window=new nexacro.Window(this.name,_a,false);_h.attachFrame(this,false);_h.create(_a,this.id,_d,_e,_b,_c,this.resizable,this.layered,this.showontaskbar);delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){var _g=this._getOpenAlignPos(this._window.parent,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;this._move(_b,_c,_d,_e);var _i=_d+this._window._gap_client_width;var _j=_e+this._window._gap_client_height;if(nexacro.Browser=="IE"&&nexacro.BrowserVersion<=8){function getWindowSize(_m){var _n=_m._handle;var _o,_p;if(_n.outerWidth){_o=_n.outerWidth;_p=_n.outerHeight;}else{_m.setSize(_i,_j);var _q=_i-nexacro._getWindowHandleOuterWidth(_n);var _r=_j-nexacro._getWindowHandleOuterHeight(_n);_o=_q+_i;_p=_r+_j;}return {width:_o,height:_p};};var _k=getWindowSize(this._window);if(_k.width!=_i||_k.height!=_j){this._window.setSize(_k.width,_k.height);}}else{this._window.setSize(_i,_j);}}}}else if(this._window_type==5){if(this._delayed_create_window){var _f=this._getAutosizedFrameSize(nexacro.Browser=="Runtime");_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(_a,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}if(this._window._handle){this._window.moveTo(_b,_c);if(this._state_openstatus==0){this._window.setSize(_d,_e);}else{this._restore_position={left:_b,top:_c,width:_d,height:_e,right:this.right,bottom:this.bottom};}}else{this._delayed_window_pos={left:_b,top:_c,width:_d,height:_e};}delete this._delayed_create_parent;delete this._delayed_create_window;}else{if(this._window){var _g=this._getOpenAlignPos(this._window.parent,_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}this._move(_b,_c,_d,_e);var _i=_d+this._window._gap_client_width;var _j=_e+this._window._gap_client_height;this._window.setSize(_i,_j);}}}else if(this._window_type==1||this._window_type==4){var _f=this._getAutosizedFrameSize(true);_d=_f.width;_e=_f.height;var _g=this._getOpenAlignPos(this._getWindow(),_b,_c,_d,_e);if(_g){_b=_g.left;_c=_g.top;}var _l=this._recalcModalPosition(_b,_c,_d,_e);this._move(_l.left,_l.top,_l.width,_l.height);}}};_pChildFrame._on_window_loaded=function(){this._checkValidWindowSize();if(!this._is_created){this.createComponent();this.on_created();this._change_state_activate(true);}if(this._lockmode){delete this._lockmode;this._lockmode=null;}};_pChildFrame._createdForm=function(){if(this._state_openstatus!=2){var _a=this.getOwnerFrame();if(_a){var _b=false;if(_a._is_frameset&&_a._getTopOrderFrame()==this){_b=true;}else if(!_a._is_frameset&&_a._is_frame){_b=true;}if(_b){if(this._getWindow()==_a._getWindow()){this._change_state_activate(true);}if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this.form._playAccessibilityWholeReadLabel("focus");}else{this.form._on_focus(true);}}}else{this._change_state_activate(true);if(nexacro._enableaccessibility&&(nexacro._accessibilitywholereadtype==1||nexacro._accessibilitywholereadtype==3)){this._setFocus();this.form._playAccessibilityWholeReadLabel("focus");}else{this.form._on_focus(true);}}}if(this._is_window&&this.autosize!=true){this._checkValidWindowSize();}};_pChildFrame._applyDragMoveType=function(){var _a=this.form;if(_a){var _b=false;if(this._dragmovetype==2||(this._dragmovetype==1&&!this.showtitlebar)){_b=true;}{_a._setDragMove(_b,this._is_window);}}if(this.titlebar){this.titlebar._setDragMove(this._dragmovetype!=0,this._is_window);}};_pChildFrame._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){if(this.form&&this.form.titletext.length>0){if(_b.length>0){_b+=" - ";}_b+=this.form.titletext;}}return _b;};_pChildFrame._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){if(this.form&&this.form.statustext.length>0){if(_b.length>0){_b+=" - ";}_b+=this.form.statustext;}}return _b;};_pChildFrame._getOpenAlignPos=function(_a,_b,_c,_d,_e){if(!this.openalign._is_empty){if(_a==null){return;}var _f=(this._window_type==1||this._window_type==4);var _g=_f?0:(_a.left|0);var _h=_f?0:(_a.top|0);var _i=_a.clientWidth;var _j=_a.frame?_a.frame._adjust_height:_a.clientHeight;switch(this.openalign.halign){case "left":_b=_g;break;case "center":_b=_g+Math.round((_i-_d)/2);break;case "right":_b=_g+_i-_d;break;}switch(this.openalign.valign){case "top":_c=_h;break;case "middle":_c=_h+Math.round((_j-_e)/2);break;case "bottom":_c=_h+_j-_e;break;}return {left:_b,top:_c};}return null;};if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"||nexacro.Browser=="Gecko"){_pChildFrame._checkValidWindowSize=function(){var _a=this._window;if(!_a){return;}var _b=this._adjust_width;var _c=this._adjust_height;if((_a.clientWidth!=_b||_a.clientHeight!=_c)&&(_a.clientWidth!=0&&_a.clientHeight!=0)){if(this.autosize!=true&&this._control_element){var _d=this._control_element;_d.setElementSize(_b,_c);_d.setElementSize(this._adjust_width,this._adjust_height);_d._updateClientSize();}this._move(this._adjust_left,this._adjust_top,_a.clientWidth,_a.clientHeight);if(this.autosize!=true){this.on_change_containerRect(this._adjust_width,this._adjust_height);}return false;}return true;};}else{_pChildFrame._checkValidWindowSize=nexacro._emptyFn;};_pChildFrame._setModalLock=function(){var _a=this._getWindow();if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}_a._on_modalLock();var _b=_a.getCurrentFocusPaths()?_a.getCurrentFocusPaths().slice(0):null;_a._removeFromCurrentFocusPath(null,false);var _c=this.on_find_CurrentStyle_overlaycolor(this._pseudo);var _d=nexacro._zindex_firstmodal;var _e=_a._modal_frame_stack;if(_e.length>0){var _f=_e[_e.length-1];_d=_f[1]+1;}var _g=this.parent;if(!_g){_g=application.mainframe;}var _h;if(_a.frame&&_a.frame._waitcomp){var _i=_a.frame._waitcomp;if(_i._control_element&&_i._control_element._handle){_h=_i._control_element._handle;}}var _j=this._modal_overlay_elem=new nexacro.ModalOverlayElement(_g._control_element);_j.setLinkedControl(this);_j.create(_d,_c,_h);_a._modal_frame_stack.push([this,_d,_b]);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){if(this.opener){var _k=this.opener._getRootForm();_k._setAccessibilityHidden(true);}}};_pChildFrame._setModalUnlock=function(){var _a=this._getWindow();if(!_a){_a=nexacro._getMainWindowHandle()?nexacro._getMainWindowHandle()._linked_window:null;}if(!_a){return;}var _b=_a._modal_frame_stack;var _c=_b.length;var _d;for(var _i=0;_i<_c;_i++ ){_d=_b[_i];if(_d[0]==this){for(var _j=_i;_j<_c-1;_j++ ){_b[_j]=_b[_j+1];}_b.length=_c-1;break;}}if(this._window_type!=1&&this._window_type!=4){nexacro._unregisterPopupFrame(this.id);}var _e=_d[2];if(_e&&_e.length>0){var _f=_e.length;for(_i=0;_i<_f;_i++ ){var _g=_e[_i];if(_g instanceof nexacro.ChildFrame){_g._on_activate();continue;}else if(_g._is_form){_g._on_focus(true);break;}if(_i==(_f-1)){_g._on_focus(true);}}}if(this._modal_overlay_elem){this._modal_overlay_elem.destroy();this._modal_overlay_elem=null;}if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){if(this.opener){var _h=this.opener._getRootForm();_h._setAccessibilityHidden(false);}}};_pChildFrame._setModalOverlaySize=function(_a,_b){this._modal_overlay_elem.setElementSize(_a,_b);if(this._state_openstatus==3){this._setSize(_a,_b);}};_pChildFrame._recalcModalPosition=function(_a,_b,_c,_d){_a=parseInt(_a);_b=parseInt(_b);_c=parseInt(_c);_d=parseInt(_d);var _e=this._getWindow();if(!_e){return {left:_a,top:_b,width:_c,height:_d};}var _f=parseInt(this.on_find_CurrentStyle_titlebarheight().value)|0;if(_f<=0){_f=this._defaultTitleHeight;}if(_a+_c>_e.clientWidth){_a=_e.clientWidth-_c;}if(_b+_f>_e.clientHeight){_b=_e.clientHeight-_f;}if(_a<0){_a=0;}if(_b<0){_b=0;}return {left:_a,top:_b,width:_c,height:_d};};_pChildFrame._getAutosizedFrameSize=function(_a){var _b=this._adjust_width;var _c=this._adjust_height;var _d=this.form;if(_d&&_d._is_loading==false&&(nexacro._isDesktop()||this._window_type!=2)){_b=_d._init_width;_c=_d._init_height;}if(_a){var _e=0,_f=0;if(this.showtitlebar){_e=parseInt(this.on_find_CurrentStyle_titlebarheight().value)|0;}if(this.showstatusbar){_f=parseInt(this.on_find_CurrentStyle_statusbarheight().value)|0;}var _g=this.on_find_CurrentStyle_border();if(_g){_b+=_g._getBorderLeftWidth()+_g._getBorderRightWidth();_c+=_g._getBorderTopWidth()+_g._getBorderBottomWidth();}_c+=_e+_f;}return {"width":_b,"height":_c};};nexacro.FrameSetBase_Style=function(_a){nexacro.Frame_Style.call(this,_a);this.childmoveeffect=null;this.childopenstatuseffect=null;};var _pFrameSetBaseStyle=nexacro._createPrototype(nexacro.Frame_Style,nexacro.FrameSetBase_Style);nexacro.FrameSetBase_Style.prototype=_pFrameSetBaseStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameSetBaseStyle","childmoveeffect"));eval(nexacro._createValueAttributeEvalStr("_pFrameSetBaseStyle","childopenstatuseffect"));_pFrameSetBaseStyle.__custom_emptyObject=function(){this.childmoveeffect=null;this.childopenstatuseffect=null;};_pFrameSetBaseStyle.__get_custom_style_value=function(){var _a="";if(this.childmoveeffect&&!this.childmoveeffect._is_empty){_a+="childmoveeffect:"+this.childmoveeffect._value+"; ";}if(this.childopenstatuseffect&&!this.childopenstatuseffect._is_empty){_a+="childopenstatuseffect:"+this.childopenstatuseffect._value+"; ";}return _a;};nexacro.FrameSetBase_CurrentStyle=function(){nexacro.Frame_CurrentStyle.call(this);};var _pFrameSetBaseCurrentStyle=nexacro._createPrototype(nexacro.Frame_CurrentStyle,nexacro.FrameSetBase_CurrentStyle);nexacro.FrameSetBase_CurrentStyle.prototype=_pFrameSetBaseCurrentStyle;_pFrameSetBaseCurrentStyle.__custom_emptyObject=_pFrameSetBaseStyle.__custom_emptyObject;_pFrameSetBaseCurrentStyle.__get_custom_style_value=_pFrameSetBaseStyle.__get_custom_style_value;delete _pFrameSetBaseStyle;delete _pFrameSetBaseCurrentStyle;nexacro.FrameSetBase=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Frame.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.frames=new nexacro.Collection();this.separatesize="";this.keepseparatesizewhenswap=false;this.ctrltaborder="active";this.ctrltabtype="order";this.showstatusbar=false;this.showtitlebar=false;this._separatesize=[];this._max_frame=null;this._track_frame=null;this._active_frame=null;this._zorderMap=new nexacro.Collection();this._is_frameset=true;this._is_autorecalc_frame=true;};var _pFrameSetBase=nexacro._createPrototype(nexacro.Frame,nexacro.FrameSetBase);nexacro.FrameSetBase.prototype=_pFrameSetBase;_pFrameSetBase._type_name="FrameSetBase";_pFrameSetBase.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_childmoveeffect(_a);if(_c!=_b.childmoveeffect){_b.childmoveeffect=_c;}var _d=this.on_find_CurrentStyle_childopenstatuseffect(_a);if(_d!=_b.childopenstatuseffect){_b.childopenstatuseffect=_d;}};_pFrameSetBase.on_create_custom_style=function(){return new nexacro.FrameSetBase_Style(this);};_pFrameSetBase.on_create_custom_currentStyle=function(){return new nexacro.FrameSetBase_CurrentStyle();};_pFrameSetBase.on_find_CurrentStyle_childmoveeffect=function(_a){return this._find_pseudo_obj("childmoveeffect",_a,"value");};_pFrameSetBase.on_find_CurrentStyle_childopenstatuseffect=function(_a){return this._find_pseudo_obj("childopenstatuseffect",_a,"value");};_pFrameSetBase.on_create_contents=function(){nexacro.Frame.prototype.on_create_contents.call(this);var _a=this.frames.length;for(var _c=0;_c<_a;_c++ ){var _b=this.frames[_c];if(_b.set_resizable){_b.set_resizable(true);}_b.createComponent();this._zorderMap.add_item(_b.name,_b);}};_pFrameSetBase.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){;}};_pFrameSetBase.on_created_contents=function(){nexacro.Frame.prototype.on_created_contents.call(this);var _a=0,_b=0;var _c=0,_d=0;var _e=this._control_element;if(_e){_c=_e.client_width/5*3;_d=_e.client_height/5*3;_b=this._control_element.client_top;}var _f=this._getTitlebarHeight();var _g=this.frames.length;for(var _i=0;_i<_g;_i++ ){var _h=this.frames[_i];if(_h.position){if(_h._adjsut_width==0&&_h._adjsut_height==0){_h._move(_a,_b,_c,_d);_a+=_f;_b+=_f;}}_h.on_created();}};_pFrameSetBase.on_destroy_contents=function(){nexacro.Frame.prototype.on_destroy_contents.call(this);var _a=this.frames.length;for(var _c=_a-1;_c>=0;_c-- ){var _b=this.frames[_c];if(_b){_b.destroyComponent();_b=null;}}this.frames=null;};_pFrameSetBase._updateClientSize=function(_a){var _b=_a.client_left;var _c=_a.client_top;var _d=_a.client_width;var _e=_a.client_height;var _f=false;if(this._client_left!=_b||this._client_top!=_c){this._client_left=_b;this._client_top=_c;_f=true;}if(this._client_width!=_d||this._client_height!=_e){this._client_width=_d;this._client_height=_e;_f=true;}if(_f){this.on_change_containerRect(_d,_e);}};_pFrameSetBase.set_ctrltaborder=function(){;};_pFrameSetBase.set_ctrltabtype=function(){;};_pFrameSetBase.set_separatesize=function(_a){if(this.separatesize!=_a){this.separatesize=_a;this._separatesize=_a.split(",");var _b=this._control_element;if(_b){this.on_change_containerRect(_b.client_width,_b.client_height);if((nexacro.OS=="iOS"&&!nexacro._isHybrid())||(nexacro.Browser=="IE"||nexacro.Browser=="Edge"||nexacro.Browser=="MobileSafari")){this._refresh_input(this.frames);}}}};_pFrameSetBase.set_keepseparatesizewhenswap=function(_a){var _b=nexacro._toBoolean(_a);if(this.keepseparatesizewhenswap!=_b){this.keepseparatesizewhenswap=_b;}};_pFrameSetBase.set_minimizedchildposition=function(_a){var _b=this.minimizedchildposition;if(_b==_a){return;}switch(_a){case "left":this._minimizedchildposition=0;this.minimizedchildposition=_a;break;case "top":this._minimizedchildposition=1;this.minimizedchildposition=_a;break;case "right":this._minimizedchildposition=2;this.minimizedchildposition=_a;break;case "bottom":this._minimizedchildposition=3;this.minimizedchildposition=_a;break;}var _c=this._control_element;if(this.minimizedchildposition==_a&&_c){this.on_change_containerRect(_c.client_width,_c.client_height);}return this.minimizedchildposition;};_pFrameSetBase._on_child_movetrack=function(_a,_b,_c,_d){var _e=(this._type_name=="VFrameSet")?false:true;var _f=(this._type_name=="HFrameSet")?false:true;var _g=_a._adjust_left+(_a._adjust_width/2);var _h=_a._adjust_top+(_a._adjust_height/2);var _i= -1;var _j=this.frames;for(var _r=0,_s=_j.length;_r<_s;_r++ ){var _k=_j[_r];if(_k==_a){continue;}if(_k._state_openstatus==2){continue;}if(_e){var _l=_k._adjust_left;var _m=_l+_k._adjust_width;if(_l>_g){continue;}if(_m<_g){continue;}}if(_f){var _n=_k._adjust_top;var _o=_n+_k._adjust_height;if(_n>_h){continue;}if(_o<_h){continue;}}_i=_r;break;}if(_i!=( -1)){var _j=this.frames;var _p=_j.indexOf(_a.name);var _q=_j[_i];_j.remove_item(_q.name);_j.insert_item(_p,_q.name,_q);_j.remove_item(_a.name);_j.insert_item(_i,_a.name,_a);if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pFrameSetBase._on_child_starttrack=function(_a,_b,_c,_d){if(_a){this._track_frame=_a;}};_pFrameSetBase._on_child_endtrack=function(_a,_b,_c,_d){this._track_frame=null;if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}};_pFrameSetBase._change_state_activate=function(_a,_b){if(_a==true){if(_b){var _c=this.getActiveFrame();if(_c&&_c!=_b){_c._change_state_activate(false,null);}this._active_frame=_b;if(_b._control_element){if(this._zorderMap.indexOf(_b)<0){alert("zorder missed: "+_b.id);this._zorderMap.insert_item(0,_b,_b.id);}if(this._zorderMap.length>1){if(this._control_element){this._control_element.bringToFrontElement(_b._control_element);}this._zorderMap.remove_item(_b.id);this._zorderMap.add_item(_b.id,_b);}if(this._max_frame&&this._max_frame!=_b){_b._change_state_OpenStatus(3);}}}}else if(_a==false){var _d=this.frames;var _e=_d.length;for(var _g=0;_g<_e;_g++ ){var _f=_d[_g];if(_f._isNested()){_f._change_state_activate(false);}}}nexacro.Frame.prototype._change_state_activate.call(this,_a);};_pFrameSetBase.on_apply_prop_enable=function(_a){var _b=this.frames;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];_c._setEnable(_a);}};_pFrameSetBase.on_apply_prop_rtldirection=function(){var _a=this._control_element;if(_a){this.on_change_containerRect(_a.client_width,_a.client_height);}var _b=this._rtldirection;var _c=this.titlebar;if(_c){_c._setRtlDirection(_b);}var _d=this.statusbar;if(_d){_d._setRtlDirection(_b);}var _e=this.frames;if(_e){for(var _g=0,_h=_e.length;_g<_h;_g++ ){var _f=_e[_g];if(_f){_f._setRtlDirection(_b);}}}};_pFrameSetBase.getActiveFrame=function(){if(this._active_frame){return this._active_frame;}return this._getTopOrderFrame();};_pFrameSetBase.getHandle=function(){};_pFrameSetBase._getTopOrderFrame=function(){var _a=this._zorderMap.length;if(_a>0){var _b=this._zorderMap.get_item(_a-1);return _b;}return null;};_pFrameSetBase._getNextOrderFrame=function(_a){var _b=this._zorderMap.length;if(_b>0){var _c=this._zorderMap.indexOf(_a.id);if(_c-1>_b-1&&_c-1<0){return null;}var _d=this._zorderMap.get_item(_c-1);return _d;}return null;};_pFrameSetBase._visibleFrameCount=function(){return this.frames.length;};_pFrameSetBase._getMinimizeFrameCount=function(){var _a=0;var _b=this.frames;for(var _c=0,_d=_b.length;_c<_b.length;_c++ ){if(_b[_c]._state_openstatus==2){_a++ ;}}return _a;};_pFrameSetBase._recalcSeparateFrameSize=function(_a,_b,_c){var _d=[];var _e=((_c)?_c:this._separatesize.length);var _f=((_b)?_b:this._visibleFrameCount());var _g=0,_h=0;var _i=0,_j=0;var _k=this._separatesize;for(var _p=0;_p<_f;_p++ ){var _l=_k[_p];var _m= -1;var _n= -1;if(_l){_l.trim();_n=((_l.indexOf("*")<0)&&(_l.length>0))?nexacro._parseInt(_l): -1;}if(_n== -1){var _o= -1;if(_l){_m=_l.indexOf("*");_o=nexacro._parseInt(_l.substring(0,_m));}if(_o>0){_g+=_o;_d[_p]=_o*_n;}else{_g++ ;_d[_p]=_n;}}else{_h++ ;_i+=_n;if(_i<=_a){_d[_p]=_n;}else if(_h==1){_d[_p]=_a;}else{_i-=_n;}}}_j=_g>0?(_a-_i)/_g:0;for(var _p=0;_p<_f;_p++ ){if(_d[_p]<0){_d[_p]=Math.abs(_d[_p])*_j;}else if(_d[_p]==undefined){_d[_p]=0;}}return _d;};_pFrameSetBase._getTitleText=function(_a){var _b;_b=this.titletext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getTitleText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._getStatusText=function(_a){var _b;_b=this.statustext;if(_a){var _c=this.getActiveFrame();if(_c){var _d=_c._getStatusText(true);if(_d.length>0){if(_b.length>0){_b+=" - ";}_b+=_d;}}}return _b;};_pFrameSetBase._refresh_input=function(_a){for(var _d=0;_d<_a.length;_d++ ){var _b=_a[_d];if(_b){if(_b instanceof nexacro.ChildFrame){var _c=_b.form;if(_c){_c._refresh_input_comp(_c._child_list);}}else if(_b instanceof nexacro.FrameSet){this._refresh_input(_b.frames);}}}};delete _pFrameSetBase;nexacro.FrameSet_Style=function(_a){nexacro.FrameSetBase_Style.call(this,_a);};var _pFrameSetStyle=nexacro._createPrototype(nexacro.FrameSetBase_Style,nexacro.FrameSet_Style);nexacro.FrameSet_Style.prototype=_pFrameSetStyle;eval(nexacro._createValueAttributeEvalStr("_pFrameSetStyle","minimizewidth"));eval(nexacro._createValueAttributeEvalStr("_pFrameSetStyle","minimizeheight"));_pFrameSetStyle.__custom_emptyObject=function(){this.minimizewidth=null;this.minimizeheight=null;};_pFrameSetStyle.__get_custom_style_value=function(){var _a="";if(this.minimizewidth&&!this.minimizewidth._is_empty){_a+="minimizewidth:"+this.minimizewidth._value+"; ";}if(this.minimizeheight&&!this.minimizeheight._is_empty){_a+="minimizeheight:"+this.minimizeheight._value+"; ";}return _a;};nexacro.FrameSet_CurrentStyle=function(){nexacro.FrameSetBase_CurrentStyle.call(this);};var _pFrameSetCurrentStyle=nexacro._createPrototype(nexacro.FrameSetBase_CurrentStyle,nexacro.FrameSet_CurrentStyle);nexacro.FrameSet_CurrentStyle.prototype=_pFrameSetCurrentStyle;_pFrameSetCurrentStyle.__custom_emptyObject=_pFrameSetStyle.__custom_emptyObject;_pFrameSetCurrentStyle.__get_custom_style_value=_pFrameSetStyle.__get_custom_style_value;delete _pFrameSetStyle;delete _pFrameSetCurrentStyle;nexacro.FrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.separatesize="";this.keepseparatesizewhenswap=false;this.childmoveeffect=null;this.childopenstatuseffect=null;this.ctrltaborder=0;this.ctrltabtype=0;this.minimizedchildposition="bottom";this._separatesize=[];this._minimizedchildposition=3;this._is_autorecalc_frame=false;};var _pFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.FrameSet);nexacro.FrameSet.prototype=_pFrameSet;_pFrameSet._type_name="FrameSet";_pFrameSet.on_apply_custom_pseudo=function(_a){nexacro.Frame.prototype.on_apply_custom_pseudo.call(this);var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_minimizewidth(_a);var _d=false;if(_c!=_b.minimizewidth){_b.minimizewidth=_c;_d=true;}var _e=this.on_find_CurrentStyle_minimizeheight(_a);if(_e!=_b.minimizeheight){_b.minimizeheight=_e;_d=true;}if(_d){this.on_change_containerRect(this._client_width,this._client_height);}};_pFrameSet.on_create_custom_style=function(){return new nexacro.FrameSet_Style(this);};_pFrameSet.on_create_custom_currentStyle=function(){return new nexacro.FrameSet_CurrentStyle();};_pFrameSet.on_find_CurrentStyle_minimizewidth=function(_a){return this._find_pseudo_obj("minimizewidth",_a,"value");};_pFrameSet.on_find_CurrentStyle_minimizeheight=function(_a){return this._find_pseudo_obj("minimizeheight",_a,"value");};_pFrameSet.on_apply_style_minimizewidth=function(){};_pFrameSet.on_apply_style_minimizeheight=function(){};_pFrameSet.on_change_containerRect=function(_a,_b){var _c=this._control_element;if(_c){var _d=0;var _e=0;var _f=_c.client_width;var _g=_c.client_height;var _h=_d+_c.client_width;var _i=_e+_c.client_height;if(this._max_frame){this._max_frame._move(_d,_e,_f,_g);}var _j=this.frames;for(var _p=0,_q=_j.length;_p<_q;_p++ ){var _k=_j[_p];if(_k==this._max_frame){continue;}if(_k._state_openstatus==2){_k._setVerticalMin(false);var _l=25*5;var _m= -1;if(_m==( -1)){var _n=_k.on_find_CurrentStyle_titlebarheight();_m=parseInt(_n.value)|0;var _o=_k.on_find_CurrentStyle_border();if(_o){_m+=_o._getBorderTopWidth();_m+=_o._getBorderBottomWidth();}}switch(this._minimizedchildposition){case 0:_i=_e+_m;_k._move(_d,_e,_l,_m);_e=_i;break;case 1:_h=_d+_l;_k._move(_d,_e,_l,_m);_d=_h;break;case 2:_i=_e+_m;_k._move(_h-_l,_e,_l,_m);_e=_i;break;case 3:_h=_d+_l;_k._move(_d,_i-_m,_l,_m);_d=_h;break;}}}}};_pFrameSet.set_minimizewidth=function(){;};_pFrameSet.set_minimizeheight=function(){;};_pFrameSet.arrange=function(_a){if(this._max_frame){this._max_frame.on_syscommand(this._max_frame._control_element,"restore",true,this._max_frame,null);}var _b=0;var _c=this.frames;for(var _v=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}_b++ ;}var _e=0;var _f=0;var _g=this._client_width;var _h=this._client_height;if(_a=="cascade"){var _i=0;for(var _x=100;;_i++ ){if(this._client_height<_x){break;}_x+=(60+(_i*10));}var _j=this._getTitlebarHeight()>0?this._getTitlebarHeight():20;var _k=_j;_g=this._client_width-(_j*_i);_h=this._client_height-(_k*_i);for(var _v=0,_y=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}_e=_j*(_y%(_i+1));_f=_k*(_y%(_i+1));_d._move(_e,_f,_g,_h);_y++ ;}}if(_a=="tilevertical"){var _l=true;var _m=parseInt(Math.sqrt(_b))|0;var _n=parseInt(_b/_m)|0;if((_b%_m)!=0){_m+=1;_l=false;}var _o=_b;for(var _z=0,_v=0;_z<_n;_z++ ){for(var _aa=0;_aa<_m;){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){_v++ ;continue;}var _p={left:_e,top:_f,right:_e+_g,bottom:_f+_h};_p.right=_p.left+((_p.right-_p.left)/_n);_p.bottom=_p.top+((_p.bottom-_p.top)/_m);var _q=_p.right-_p.left;var _r=_p.bottom-_p.top;_p.left+=(_n-_z-1)*_q;_p.top+=(_m-_aa-1)*_r;_p.right+=(_n-_z-1)*_q;_p.bottom+=(_m-_aa-1)*_r;_d._move(_p.left,_p.top,_p.right-_p.left,_p.bottom-_p.top);_aa++ ,_v++ ,_o-- ;}if(!_l&&_m>2&&(_o%(_m-1))==0){_m-- ;_l=true;}}}if(_a=="tilehorizontal"){var _l=true;var _n=parseInt(Math.sqrt(_b))|0;var _m=parseInt(_b/_n)|0;if((_b%_n)!=0){_m+=1;_l=false;}var _o=_b;for(var _z=0,_v=0;_z<_n;_z++ ){for(var _aa=0;_aa<_m;){var _d=this._zorderMap[_v++ ];if(_d.visible==false||_d._state_openstatus==2){continue;}var _p={left:_e,top:_f,right:_e+_g,bottom:_f+_h};_p.right=_p.left+((_p.right-_p.left)/_n);_p.bottom=_p.top+((_p.bottom-_p.top)/_m);var _q=_p.right-_p.left;var _r=_p.bottom-_p.top;_p.left+=(_n-_z-1)*_q;_p.top+=(_m-_aa-1)*_r;_p.right+=(_n-_z-1)*_q;_p.bottom+=(_m-_aa-1)*_r;_d._move(_p.left,_p.top,_p.right-_p.left,_p.bottom-_p.top);_aa++ ,_o-- ;}if(!_l&&_m>2&&(_o%(_m-1))==0){_m-- ;_l=true;}}}if(_a=="vertical"){for(var _v=0,_y=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}_d._move(_e+(_y*(_g/_b)),_f,(_g/_b),_h);_y++ ;}}if(_a=="horizontal"){var _s=_f;for(var _v=0,_w=_c.length;_v<_w;_v++ ){var _d=this._zorderMap[_v];if(_d.visible==false||_d._state_openstatus==2){continue;}var _p={left:_e,top:_f,right:_e+_g,bottom:_f+_h};_p.top=_s;_p.bottom=_p.top+(_h/_b);var _t=0,_u=0;if(_p.bottom-_p.top<_u){_p.bottom=_p.top+_u;}_s=_p.bottom+1;_d._move(_e,_p.top,_g,_p.bottom-_p.top);}}};delete _pFrameSet;nexacro.VFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pVFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.VFrameSet);nexacro.VFrameSet.prototype=_pVFrameSet;_pVFrameSet._type_name="VFrameSet";_pVFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_b);var _e=this.frames.length;var _f=0;var _g=0;var _h=0;var _i=_f+_a;var _j=this._client_height;if(this._max_frame){var _k= -1;var _l=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_m==this._max_frame){_k=_r;continue;}var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderTopWidth();_l+=_o._getBorderBottomWidth();}_j-=_l;_d[_r]=_l;}_d[_k]=_j;}var _p=false;var _q=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_p){_g=_h;_p=false;}if(_m._state_openstatus==2){_m._setVerticalMin(false);var _l=0;var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderTopWidth();_l+=_o._getBorderBottomWidth();}_q+=_d[_r]-_l;_d[_r]=_l;_p=true;}if(_m._state_openstatus!=2){_d[_r]+=_q;_q=0;}_h=_d[_r]+_g;if(_m!=this._track_frame){_m._move(_f,_g,_i-_f,_h-_g);}_g=_h;}}};_pVFrameSet.arrange=nexacro._emptyFn;_pVFrameSet.set_minimizedchildposition=nexacro._emptyFn;delete _pVFrameSet;nexacro.HFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pHFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.HFrameSet);nexacro.HFrameSet.prototype=_pHFrameSet;_pHFrameSet._type_name="HFrameSet";_pHFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this._recalcSeparateFrameSize(_a);var _e=this.frames.length;var _f=0;var _g=0;var _h=0;var _i=_g+_b;var _j=this._client_width;if(this._max_frame){var _k= -1;var _l=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_m==this._max_frame){_k=_r;continue;}var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderLeftWidth();_l+=_o._getBorderRightWidth();}_j-=_l;_d[_r]=_l;}_d[_k]=_j;}var _p=false;var _q=0;for(var _r=0;_r<_e;_r++ ){var _m=this.frames[_r];if(_p){_f=_h;_p=false;}if(_m._state_openstatus==2){_m._setVerticalMin(true);var _l=0;var _n=_m.on_find_CurrentStyle_titlebarheight();_l=parseInt(_n.value)|0;var _o=_m.on_find_CurrentStyle_border();if(_o){_l+=_o._getBorderLeftWidth();_l+=_o._getBorderRightWidth();}_q+=_d[_r]-_l;_d[_r]=_l;_p=true;}if(_m._state_openstatus!=2){if(this._max_frame&&_m!=this._max_frame){_m._setVerticalMin(true);}else{_m._setVerticalMin(false);}_d[_r]+=_q;_q=0;}_h=_d[_r]+_f;if(_m!=this._track_frame){_m._move(_f,_g,_h-_f,_i-_g);}_f=_h;}}};_pHFrameSet.arrange=nexacro._emptyFn;_pHFrameSet.set_minimizedchildposition=nexacro._emptyFn;delete _pHFrameSet;nexacro.TileFrameSet=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.FrameSetBase.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.separatetype="horizontal";this.separatecount=1;this.fullframemaximize=true;this.minimizedchildposition="bottom";this._separatetype=0;this._minimizedchildposition=3;};var _pTileFrameSet=nexacro._createPrototype(nexacro.FrameSetBase,nexacro.TileFrameSet);nexacro.TileFrameSet.prototype=_pTileFrameSet;_pTileFrameSet._type_name="TileFrameSet";_pTileFrameSet.on_change_containerRect=function(_a,_b){nexacro.Frame.prototype.on_change_containerRect.call(this,_a,_b);var _c=this._control_element;if(_c){var _d=this.frames.length;var _e=_c.client_width;var _f=_c.client_height;if(this.fullframemaximize==false){if(this._max_frame){for(var _y=0,_al=this.frames.length;_y<_al;_y++ ){if(this._max_frame!=this.frames[_y]&&this.frames[_y]._state_openstatus!=2){this.frames[_y].openstatus="minimize";this.frames[_y]._change_state_OpenStatus(2);}}}else{for(var _y=0,_al=this.frames.length;_y<_al;_y++ ){if(this.frames[_y]._state_openstatus==2){this.frames[_y].openstatus="normal";this.frames[_y]._change_state_OpenStatus(0);}}}}var _g=this._getMinimizeFrameCount();var _h=(_d-_g)>0?_d-_g:1;var _i=this.separatecount>0?this.separatecount:1;var _j=parseInt(_h/_i)+(parseInt(_h%_i)>0?1:0);var _k=false;if(this._minimizedchildposition==1||this._minimizedchildposition==3){_k=true;}var _l=0,_m=0;if(_k){_l=_a;if(_g>0){_m=this._getMaxMinimizedHeight();if(_m==( -1)){_m=25;}}}else{_m=_b;if(_g>0){_l=this._getMaxMinimizedWidth();if(_l==( -1)){_l=150;}}}var _n=0,_o=0;if(this._separatetype==1){_n=(_a-(_k?0:_l))/_j;_o=_b-(_k?_m:0);}else{_n=_a-(_k?0:_l);_o=(_b-(_k?_m:0))/_j;}var _p=_d-_i>0?_i:_d;var _q=_h-_i>0?_i:_h;var _r=0;if(this._separatetype==1){_r=_b;if(_k){_r-=_m;}}else{_r=_a;if(!_k){_r-=_l;}}var _s=this._recalcSeparateFrameSize(_r,_q,_q);var _t=0;var _u=0;var _v=_t+_a;var _w=_u+_b;if(_g>0){switch(this._minimizedchildposition){case 0:_t+=_l;break;case 1:_u+=_m;break;case 2:_v-=_l;break;case 3:_w-=_m;break;}}if(this._separatetype==1){_v=_t+_n;}else{_w=_u+_o;}if(this._max_frame){if(this.fullframemaximize){this._max_frame._move(0,0,_e,_f);}else{this._max_frame._move(_t,_u,_v-_t,_w-_u);}if(this._control_element&&this._max_frame._control_element){this._control_element.bringToFrontElement(this._max_frame._control_element);}}else if(this.fullframemaximize==false){var _x=this.frames;for(var _y=0,_al=_x.length;_y<_al;_y++ ){if(_x[_y]._state_openstatus==2){_x[_y]._change_state_OpenStatus(1);}}}var _y=0,_z=0,_aa=0;for(_y=0;_y<_j;_y++ ){for(_z=0;_z<_q&&_aa<_d;_aa++ ){var _ab=this.frames[_aa];if(_ab==this._max_frame){continue;}if(_ab._state_openstatus==2){continue;}if(this._separatetype==1){_w=_s[_z]+_u;}else{_v=_s[_z]+_t;}if(_ab!=this._track_frame){_ab._move(_t,_u,_v-_t,_w-_u);}if(this._separatetype==1){_u=_w;}else{_t=_v;}_z++ ;}if(this._separatetype==1){_u=0;_t=_v;_v=_t+_n;if(this._minimizedchildposition==1){_u+=_m;}}else{_t=0;_u=_w;_w=_u+_o;if(this._minimizedchildposition==0){_t+=_l;}}}if(_g<=0){return;}var _ac=0;var _ad=0;var _ae=_ac+this._client_width;var _af=_ad+this._client_height;switch(this._minimizedchildposition){case 0:_ae=_ac+_l;break;case 1:_af=_ad+_m;break;case 2:_ac=_ae-_l;break;case 3:_ad=_af-_m;break;}var _ag=150;var _ah=_a-(_g*_ag);_ah=_ah>0?_ag:(_a/_g);_ah=_ah<100?100:_ah;for(_y=0;_y<_d;_y++ ){var _ab=this.frames[_y];if(_ab._state_openstatus==2){_ab._setVerticalMin(false);var _ai= -1;if(_ai==( -1)){var _aj=_ab.on_find_CurrentStyle_titlebarheight();_ai=parseInt(_aj.value)|0;var _ak=_ab.on_find_CurrentStyle_border();if(_ak){_ai+=_ak._getBorderTopWidth();_ai+=_ak._getBorderBottomWidth();}}switch(this._minimizedchildposition){case 0:_af=_ad+_ai;_ab._move(_ac,_ad,_ae-_ac,_ai);_ad=_af;break;case 1:_ae=_ac+_ah;_ab._move(_ac,_ad,_ah,_af-_ac);_ac=_ae;break;case 2:_af=_ad+_ai;_ab._move(_ac,_ad,_ae-_ac,_ai);_ad=_af;break;case 3:_ae=_ac+_ah;_ab._move(_ac,_ad,_ah,_af-_ad);_ac=_ae;break;}}}}};_pTileFrameSet.set_separatetype=function(_a){if(this.separatetype!=_a){this.separatetype=_a;this._separatetype=(_a=="vertical"?1:0);if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.set_separatecount=function(_a){var _b=nexacro._parseInt(_a);if(this.separatecount!=_b){if(_b<0){this.separatecount=1;}else{this.separatecount=_b;}if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.set_fullframemaximize=function(_a){var _b=nexacro._toBoolean(_a);if(this.fullframemaximize!=_b){this.fullframemaximize=_b;var _c=this.frames;for(var _e=0,_f=_c.length;_e<_f;_e++ ){var _d=_c[_e];if(_d.titlebar){if(_b==false){_d.titlebar._setAbsoluteStyle(0x0001,0);}else{_d.titlebar._setAbsoluteStyle(0x0100,0x0001);_d.titlebar._setAbsoluteStyle(0,0x0100);}}}if(this._control_element){this.on_change_containerRect(this._control_element.client_width,this._control_element.client_height);}}};_pTileFrameSet.arrange=nexacro._emptyFn;_pTileFrameSet._getMaxMinimizedWidth=function(){var _a= -1;var _b=this.frames;for(var _d=0,_e=_b.length;_d<_e;_d++ ){var _c=_b[_d];if(_c._state_openstatus!=2){continue;}}return _a;};_pTileFrameSet._getMaxMinimizedHeight=function(){var _a= -1;var _b=this.frames;for(var _g=0,_h=_b.length;_g<_h;_g++ ){var _c=_b[_g];if(_c._state_openstatus!=2){continue;}var _d= -1;if(_d==( -1)){var _e=_c.on_find_CurrentStyle_titlebarheight();_d=parseInt(_e.value)|0;var _f=_c.on_find_CurrentStyle_border();if(_f){_d+=_f._getBorderTopWidth();_d+=_f._getBorderBottomWidth();}if(_d>_a){_a=_d;}}}return _a;};delete _pTileFrameSet;if(!nexacro.MainTitleBarCtrl){nexacro.MainTitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._hittest_type="caption";};var _pMainTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBarCtrl,nexacro.MainTitleBarCtrl);nexacro.MainTitleBarCtrl.prototype=_pMainTitleBarCtrl;delete _pMainTitleBarCtrl;}if(!nexacro.ChildTitleBarCtrl){nexacro.ChildTitleBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.TitleBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;if(_i&&_i._is_frame&&_i._is_window&&_i._dragmovetype!=0){this._hittest_type="caption";}};var _pChildTitleBarCtrl=nexacro._createPrototype(nexacro.TitleBarCtrl,nexacro.ChildTitleBarCtrl);nexacro.ChildTitleBarCtrl.prototype=_pChildTitleBarCtrl;delete _pChildTitleBarCtrl;}if(!nexacro.MainStatusBarCtrl){nexacro.MainStatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.zoomcombo=null;this.zoomcombogap=1;this.zoomcomboheight=20;this.zoomcombowidth=70;this._comm_progress_ref=0;this._comm_progress_timer=null;};var _pMainStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBarCtrl,nexacro.MainStatusBarCtrl);nexacro.MainStatusBarCtrl.prototype=_pMainStatusBarCtrl;_pMainStatusBarCtrl._movezoomcombo=function(_a,_b,_c,_d){if(!this.zoomcombo){return;}var _e=this.currentstyle;var _f=_e.zoomcombowidth>0?_e.zoomcombowidth._value:70;var _g=_e.zoomcomboheight>0?_e.zoomcomboheight._value:20;var _h=_e.zoomcombogap>0?_e.zoomcombogap._value:2;_a=_a-_f-_h;_a=_a>0?_a:0;_b=((_d-_g)/2)|0;if(_b<0){_b=0;}this.zoomcombo.move(_a,_b,_f,_g);return _a;};if(nexacro.Browser=="Runtime"){_pMainStatusBarCtrl._beginCommProgress=function(){var _a= ++this._comm_progress_ref;if(_a==1){var _b=this.progressbar;if(_b){_b.set_max(1000);_b.set_pos(0);}var _c=new nexacro.CallbackTimer(this,function(){var _b=this.progressbar;if(!_b){return;}var _d=_b.pos;_d+=Math.max(1,(1000-_d)/(100*this._comm_progress_ref));if(_d>990){_d=990;}_b.set_pos(_d);},500);_c.start();this._comm_progress_timer=_c;}};_pMainStatusBarCtrl._stepCommProgress=function(_a,_b){var _c=this.progressbar;if(_c){_c.set_max(_b);_c.set_pos(_a);}};_pMainStatusBarCtrl._endCommProgress=function(){var _a= --this._comm_progress_ref;if(_a==0){var _b=this.progressbar;if(_b){_b.set_pos(0);}if(this._comm_progress_timer){this._comm_progress_timer.stop();}}};}else{_pMainStatusBarCtrl._beginCommProgress=nexacro._emptyFn;_pMainStatusBarCtrl._stepCommProgress=nexacro._emptyFn;_pMainStatusBarCtrl._endCommProgress=nexacro._emptyFn;}delete _pMainStatusBarCtrl;}if(!nexacro.ChildStatusBarCtrl){nexacro.ChildStatusBarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.StatusBarCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._showzoomcombo=false;};var _pChildStatusBarCtrl=nexacro._createPrototype(nexacro.StatusBarCtrl,nexacro.ChildStatusBarCtrl);nexacro.ChildStatusBarCtrl.prototype=_pChildStatusBarCtrl;delete _pChildStatusBarCtrl;}}