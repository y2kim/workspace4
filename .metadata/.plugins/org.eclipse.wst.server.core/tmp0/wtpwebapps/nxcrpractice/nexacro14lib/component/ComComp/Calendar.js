if(!nexacro.Calendar){nexacro.CalendarCloseUpEventInfo=function(_a,_b,_c,_d,_e,_f,_g){this.id=this.eventid=_b||"oncloseup";this.fromobject=this.fromreferenceobject=_a;this.pretext=_c;this.posttext=_d;this.prevalue=_e;this.postvalue=_f;};var _pCalendarCloseUpEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarCloseUpEventInfo);nexacro.CalendarCloseUpEventInfo.prototype=_pCalendarCloseUpEventInfo;_pCalendarCloseUpEventInfo._type_name="CalendarCloseUpEventInfo";delete _pCalendarCloseUpEventInfo;_pCalendarCloseUpEventInfo=null;nexacro.CalendarDayClickEventInfo=function(_a,_b,_c){this.id=this.eventid=_b||"ondayclick";this.fromobject=this.fromreferenceobject=_a;this.date=_c;};var _pCalendarDayClickEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarDayClickEventInfo);nexacro.CalendarDayClickEventInfo.prototype=_pCalendarDayClickEventInfo;_pCalendarDayClickEventInfo._type_name="CalendarDayClickEventInfo";delete _pCalendarDayClickEventInfo;_pCalendarDayClickEventInfo=null;nexacro.CalendarSpinEventInfo=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Event.call(this,_a,_b||"oncalendarspin");this.id=this.eventid=_b||"oncalendarspin";this.fromobject=_h||_a;this.fromreferenceobject=_i||_a;this.pretext=_c;this.posttext=_d;this.prevalue=_e;this.postvalue=_f;this.up=_g;};var _pCalendarSpinEventInfo=nexacro._createPrototype(nexacro.Event,nexacro.CalendarSpinEventInfo);nexacro.CalendarSpinEventInfo.prototype=_pCalendarSpinEventInfo;_pCalendarSpinEventInfo._type_name="CalendarSpinEventInfo";delete _pCalendarSpinEventInfo;_pCalendarSpinEventInfo=null;nexacro.Calendar_Style=function(_a){nexacro.Style.call(this,_a);this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;this.displaynulltextcolor=null;};var _pCalendarStyle=nexacro._createPrototype(nexacro.Style,nexacro.Calendar_Style);nexacro.Calendar_Style.prototype=_pCalendarStyle;eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","daysize"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","daycolor"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popupsize"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","usetrailingday"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","trailingdaycolor"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","buttonsize"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","viewyearspin"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","viewmonthspin"));eval(nexacro._createBackgroundAttributeEvalStr("_pCalendarStyle","daybackground"));eval(nexacro._createBackgroundAttributeEvalStr("_pCalendarStyle","popupbackground"));eval(nexacro._createBorderAttributeEvalStr("_pCalendarStyle","dayborder"));eval(nexacro._createBorderAttributeEvalStr("_pCalendarStyle","popupborder"));eval(nexacro._createBordertypeAttributeEvalStr("_pCalendarStyle","daybordertype"));eval(nexacro._createBordertypeAttributeEvalStr("_pCalendarStyle","popupbordertype"));eval(nexacro._createGradationAttributeEvalStr("_pCalendarStyle","daygradation"));eval(nexacro._createGradationAttributeEvalStr("_pCalendarStyle","popupgradation"));eval(nexacro._createFontAttributeEvalStr("_pCalendarStyle","dayfont"));eval(nexacro._createFontAttributeEvalStr("_pCalendarStyle","popupfont"));eval(nexacro._createAccessibilityAttributeEvalStr("_pCalendarStyle","itemaccessibility"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popuptype"));eval(nexacro._createValueAttributeEvalStr("_pCalendarStyle","popupalign"));eval(nexacro._createColorAttributeEvalStr("_pCalendarStyle","displaynulltextcolor"));_pCalendarStyle.__custom_emptyObject=function(){this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;this.displaynulltextcolor=null;};_pCalendarStyle.__get_custom_style_value=function(){var _a="";if(this.daysize&&this.daysize._is_empty){_a+="daysize:"+this.daysize._value+"; ";}if(this.daycolor&&this.daycolor._is_empty){_a+="daycolor:"+this.daycolor._value+"; ";}if(this.daybackground&&this.daybackground._is_empty){_a+="daybackground:"+this.daybackground._value+"; ";}if(this.dayborder&&this.dayborder._is_empty){_a+="dayborder:"+this.dayborder._value+"; ";}if(this.daybordertype&&this.daybordertype._is_empty){_a+="daybordertype:"+this.daybordertype._value+"; ";}if(this.daygradation&&this.daygradation._is_empty){_a+="daygradation:"+this.daygradation._value+"; ";}if(this.dayfont&&this.dayfont._is_empty){_a+="dayfont:"+this.dayfont._value+"; ";}if(this.popupsize&&this.popupsize._is_empty){_a+="popupsize:"+this.popupsize._value+"; ";}if(this.popupbackground&&this.popupbackground._is_empty){_a+="popupbackground:"+this.popupbackground._value+"; ";}if(this.popupborder&&this.popupborder._is_empty){_a+="popupborder:"+this.popupborder._value+"; ";}if(this.popupbordertype&&this.popupbordertype._is_empty){_a+="popupbordertype:"+this.popupbordertype._value+"; ";}if(this.popupgradation&&this.popupgradation._is_empty){_a+="popupgradation:"+this.popupgradation._value+"; ";}if(this.popupalign&&this.popupalign._is_empty){_a+="popupalign:"+this.popupalign._value+"; ";}if(this.buttonsize&&this.buttonsize._is_empty){_a+="buttonsize:"+this.buttonsize._value+"; ";}if(this.usetrailingday&&this.usetrailingday._is_empty){_a+="usetrailingday:"+this.usetrailingday._value+"; ";}if(this.trailingdaycolor&&this.trailingdaycolor._is_empty){_a+="trailingdaycolor:"+this.trailingdaycolor._value+"; ";}if(this.viewyearspin&&this.viewyearspin._is_empty){_a+="viewyearspin:"+this.viewyearspin._value+"; ";}if(this.viewmonthspin&&this.viewmonthspin._is_empty){_a+="viewmonthspin:"+this.viewmonthspin._value+"; ";}if(this.popuptype&&this.popuptype._is_empty){_a+="popuptype:"+this.popuptype._value+"; ";}if(this.displaynulltextcolor&&this.displaynulltextcolor._is_empty){_a+="displaynulltextcolor:"+this.displaynulltextcolor._value+"; ";}return _a;};nexacro.Calendar_CurrentStyle=function(){nexacro.CurrentStyle.call(this);this.daysize=null;this.daycolor=null;this.daybackground=null;this.daygradation=null;this.dayborder=null;this.daybordertype=null;this.dayfont=null;this.popupsize=null;this.popupbackground=null;this.popupgradation=null;this.popupborder=null;this.popupbordertype=null;this.popupalign=null;this.buttonsize=null;this.usetrailingday=null;this.trailingdaycolor=null;this.viewyearspin=null;this.viewmonthspin=null;this.popuptype=null;this.displaynulltextcolor=null;};var _pCalendarCurrentStyle=nexacro._createPrototype(nexacro.CurrentStyle,nexacro.Calendar_CurrentStyle);nexacro.Calendar_CurrentStyle.prototype=_pCalendarCurrentStyle;_pCalendarCurrentStyle.__custom_emptyObject=_pCalendarStyle.__custom_emptyObject;_pCalendarCurrentStyle.__get_custom_style_value=_pCalendarStyle.__get_custom_style_value;delete _pCalendarStyle;delete _pCalendarCurrentStyle;nexacro.Calendar=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this.calendaredit=null;this.dropbutton=null;this.popupcalendar=null;this.popupwindow=null;this.spindownbutton=null;this.spinupbutton=null;this.text="";this.displaynulltext="";this.value=null;this.innerdataset=null;this.datecolumn="";this.backgroundcolumn="";this.bordercolumn="";this.textcolorcolumn="";this.type="normal";this.autoselect=false;this.autoskip=false;this.dateformat="yyyy-MM-dd ddd";this.editformat="yyyy-MM-dd";this.useinputpanel=true;this.usecontextmenu=true;this.usesoftkeyboard=true;this.imemode="none";this.useime="global";this.viewmonthspin=false;this.viewyearspin=false;this.readonly=false;this.locale="";this._event_list={"onclick":1,"ondblclick":1,"onkeypress":1,"onkeydown":1,"onkeyup":1,"onkillfocus":1,"onsetfocus":1,"ondrag":1,"ondragenter":1,"ondragleave":1,"ondragmove":1,"ondrop":1,"ondragend":1,"onlbuttondown":1,"onlbuttonup":1,"onrbuttondown":1,"onrbuttonup":1,"onmouseenter":1,"onmouseleave":1,"onmousemove":1,"onmove":1,"onsize":1,"oncloseup":1,"ondayclick":1,"ondropdown":1,"oneditclick":1,"canchange":1,"cancharchange":1,"onchanged":1,"onchar":1,"ongesture":1,"onmonthchange":1,"onspin":1,"ontextchange":1,"ontextchanged":1,"ontouchstart":1,"ontouchmove":1,"ontouchend":1,"onflingstart":1,"onfling":1,"onflingend":1,"onpinchstart":1,"onpinch":1,"onpinchend":1,"onlongpress":1,"onslidestart":1,"onslide":1,"onslideend":1,"oncontextmenu":1};this._mask="";this._currentformat="dateformat";this._innerdataset=null;this._init_popupsize=null;this._caret_pos={};this._caret_pos.begin=0;this._caret_pos.end=0;this._editformat_info=this._makeFormatInfo(this.editformat,true);this._dateformat_info=this._makeFormatInfo(this.dateformat);this._prevalue=null;this._postvalue=null;this._pretext="";this._posttext="";this._primitivevalue=null;this._is_primitivevalue=false;this._defaultLocale="ko_KR";this._datelistL=["일요일","월요일","화요일","수요일","목요일","금요일","토요일"];this._datelistS=["일","월","화","수","목","금","토"];this._monthlistL=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];this._monthlistS=["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"];this._localeListL={"ko_KR":["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],"ja_JP":["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],"en_US":["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]};this._localeListS={"ko_KR":["일","월","화","수","목","금","토"],"ja_JP":["日","月","火","水","木","金","土"],"en_US":["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]};this._accessibility_role="calendar";this._day_click=false;this._flag_update2dataset=false;this._bindsource=false;this._pretype=this.type;this._want_arrows=false;this._has_inputElement=true;this._edit_base_api=null;this._locale="";this._is_dropbutton=false;};var _pCalendar=nexacro._createPrototype(nexacro.Component,nexacro.Calendar);nexacro.Calendar.prototype=_pCalendar;_pCalendar._type_name="Calendar";nexacro.Calendar._defaultDaysize=nexacro._getCachedStyleObj("daysize","26 26");nexacro.Calendar._defaultPopupsize=nexacro._getCachedStyleObj("popupsize","192 192");nexacro.Calendar._defaultPopupalign=nexacro._getCachedStyleObj("align","left bottom");nexacro.Calendar._defaultUseTrailngday=nexacro._getCachedStyleObj("usetrailingday","false");nexacro.Calendar._defaultButtonsize=nexacro._getCachedStyleObj("buttonsize", -1);nexacro.Calendar._defaultViewyearspin=nexacro._getCachedStyleObj("viewyearspin","false");nexacro.Calendar._defaultViewmonthspin=nexacro._getCachedStyleObj("viewmonthspin","false");_pCalendar.on_apply_custom_pseudo=function(_a){var _b=this.currentstyle;var _c=this.on_find_CurrentStyle_align(_a);if(_b.align!=_c){_b.align=_c;this.on_apply_style_align(_c);}var _d=this.on_find_CurrentStyle_font(_a);if(_b.font!=_d){_b.font=_d;this.on_apply_style_font(_d);}var _e=this.on_find_CurrentStyle_letterspace(_a);if(_b.letterspace!=_e){_b.letterspace=_e;this.on_apply_style_letterspace(_e);}var _f=this.on_find_CurrentStyle_color(_a,this.calendaredit);if(_b.color!=_f){_b.color=_f;this.on_apply_style_color(_f);}var _g=this.on_find_CurrentStyle_padding(_a);if(_b.padding!=_g){_b.padding=_g;this.on_apply_style_padding(_g);}var _h=this.on_find_CurrentStyle_popupalign(_a);if(_b.popupalign!=_h){_b.popupalign=_h;this.on_apply_style_popupalign(_h);}var _i=this.on_find_CurrentStyle_popupbackground(_a);if(_b.popupbackground!=_i){_b.popupbackground=_i;this.on_apply_style_popupbackground(_i);}var _j=this.on_find_CurrentStyle_popupborder(_a);if(_b.popupborder!=_j){_b.popupborder=_j;this.on_apply_style_popupborder(_j);}var _k=this.on_find_CurrentStyle_popupbordertype(_a);if(_b.popupbordertype!=_k){_b.popupbordertype=_k;this.on_apply_style_popupbordertype(_k);}var _l=this.on_find_CurrentStyle_popupgradation(_a);if(_b.popupgradation!=_l){_b.popupgradation=_l;this.on_apply_style_popupgradation(_l);}var _m=this.on_find_CurrentStyle_popupsize(_a);if(_b.popupsize!=_m){_b.popupsize=_m;this.on_apply_style_popupsize(_m);}var _n=this.on_find_CurrentStyle_usetrailingday(_a);if(_b.usetrailingday!=_n){_b.usetrailingday=_n;}var _o=this.on_find_CurrentStyle_trailingdaycolor(_a);if(_b.trailingdaycolor!=_o){_b.trailingdaycolor=_o;}var _p=this.on_find_CurrentStyle_buttonsize(_a);if(_b.buttonsize!=_p){_b.buttonsize=_p;this.on_apply_style_buttonsize(_p);}var _q=this.on_find_CurrentStyle_viewyearspin(_a);if(_b.viewyearspin!=_q){_b.viewyearspin=_q;}var _r=this.on_find_CurrentStyle_viewmonthspin(_a);if(_b.viewmonthspin!=_r){_b.viewmonthspin=_r;}var _s=this.on_find_CurrentStyle_popuptype(_a);if(_b.popuptype!=_s){_b.popuptype=_s;}var _t=this.on_find_CurrentStyle_displaynulltextcolor(_a);if(_b.displaynulltextcolor!=_t){_b.displaynulltextcolor=_t;this.on_apply_style_displaynulltextcolor(_t);}};_pCalendar.on_apply_custom_class=function(){if(this.calendaredit){this.calendaredit.on_apply_prop_class();}if(this.dropbutton){this.dropbutton.on_apply_prop_class();}if(this.spinupbutton){this.spinupbutton.on_apply_prop_class();}if(this.spindownbutton){this.spindownbutton.on_apply_prop_class();}};_pCalendar.on_create_custom_style=function(){return new nexacro.Calendar_Style(this);};_pCalendar.on_create_custom_currentStyles=function(){return new nexacro.Calendar_CurrentStyle();};_pCalendar.on_find_CurrentStyle_daycolor=function(_a){return this._find_pseudo_obj("daycolor",_a,"color");};_pCalendar.on_find_CurrentStyle_daybackground=function(_a){return this._find_pseudo_obj("daybackground",_a,"background");};_pCalendar.on_find_CurrentStyle_dayborder=function(_a){return this._find_pseudo_obj("dayborder",_a,"border");};_pCalendar.on_find_CurrentStyle_daybordertype=function(_a){return this._find_pseudo_obj("daybordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_dayfont=function(_a){return this._find_pseudo_obj("dayfont",_a,"font");};_pCalendar.on_find_CurrentStyle_daygradation=function(_a){return this._find_pseudo_obj("daygradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_daysize=function(_a){return this._find_pseudo_obj("daysize",_a);};_pCalendar.on_find_CurrentStyle_popupalign=function(_a){return this._find_pseudo_obj("popupalign",_a,"align");};_pCalendar.on_find_CurrentStyle_popupbackground=function(_a){return this._find_pseudo_obj("popupbackground",_a,"background");};_pCalendar.on_find_CurrentStyle_popupborder=function(_a){return this._find_pseudo_obj("popupborder",_a,"border");};_pCalendar.on_find_CurrentStyle_popupbordertype=function(_a){return this._find_pseudo_obj("popupbordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_popupgradation=function(_a){return this._find_pseudo_obj("popupgradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_popupsize=function(_a){return this._find_pseudo_obj("popupsize",_a)||nexacro.Calendar._defaultPopupsize;};_pCalendar.on_find_CurrentStyle_usetrailingday=function(_a){return this._find_pseudo_obj("usetrailingday",_a);};_pCalendar.on_find_CurrentStyle_trailingdaycolor=function(_a){return this._find_pseudo_obj("trailingdaycolor",_a,"color");};_pCalendar.on_find_CurrentStyle_buttonsize=function(_a){return this._find_pseudo_obj("buttonsize",_a)||nexacro.Calendar._defaultButtonsize;};_pCalendar.on_find_CurrentStyle_viewyearspin=function(_a){return this._find_pseudo_obj("viewyearspin",_a)||nexacro.Calendar._defaultViewyearspin;};_pCalendar.on_find_CurrentStyle_viewmonthspin=function(_a){return this._find_pseudo_obj("viewmonthspin",_a)||nexacro.Calendar._defaultViewmonthspin;};_pCalendar.on_find_CurrentStyle_align=function(_a,_b){if(_b){return _b._find_pseudo_obj("align",_a,"align")||this._find_pseudo_obj("align",_a,"align");}return this._find_pseudo_obj("align",_a,"align");};_pCalendar.on_find_CurrentStyle_background=function(_a,_b){if(_b){return _b._find_pseudo_obj("background",_a,"background")||this._find_pseudo_obj("background",_a,"background");}return this._find_pseudo_obj("background",_a,"background");};_pCalendar.on_find_CurrentStyle_border=function(_a,_b){if(_b){return _b._find_pseudo_obj("border",_a,"border")||this._find_pseudo_obj("border",_a,"border");}return this._find_pseudo_obj("border",_a,"border");};_pCalendar.on_find_CurrentStyle_bordertype=function(_a,_b){if(_b){return _b._find_pseudo_obj("bordertype",_a,"bordertype")||this._find_pseudo_obj("bordertype",_a,"bordertype");}return this._find_pseudo_obj("bordertype",_a,"bordertype");};_pCalendar.on_find_CurrentStyle_color=function(_a,_b){if(_b){return _b._find_pseudo_obj("color",_a,"color")||this._find_pseudo_obj("color",_a,"color");}return this._find_pseudo_obj("color",_a,"color");};_pCalendar.on_find_CurrentStyle_font=function(_a,_b){if(_b){return _b._find_pseudo_obj("font",_a,"font")||this._find_pseudo_obj("font",_a,"font");}return this._find_pseudo_obj("font",_a,"font");};_pCalendar.on_find_CurrentStyle_gradation=function(_a,_b){if(_b){return _b._find_pseudo_obj("gradation",_a,"gradation")||this._find_pseudo_obj("gradation",_a,"gradation");}return this._find_pseudo_obj("gradation",_a,"gradation");};_pCalendar.on_find_CurrentStyle_accessibility=function(_a,_b){if(_b){return _b._find_pseudo_obj("accessibility",_a,"accessibility")||this._find_pseudo_obj("accessibility",_a,"accessibility");}return this._find_pseudo_obj("accessibility",_a,"accessibility")||nexacro.Component._default_accessibility;};_pCalendar.on_find_CurrentStyle_popuptype=function(_a){return this._find_pseudo_obj("popuptype",_a);};_pCalendar.on_find_CurrentStyle_displaynulltextcolor=function(_a){var _b=this._find_pseudo_obj("displaynulltextcolor",_a,"color");if(!_b){_b=this._find_pseudo_obj("color",_a,"color");}if(!_b){_b=this._find_inherit_pseudo_obj("color",_a,"color");}return (_b)?_b:nexacro.Component._default_color;};_pCalendar.on_update_style_color=function(){this.on_apply_style_color(this.currentstyle.color=this.on_find_CurrentStyle_color(this._pseudo,this.calendaredit));};_pCalendar.on_update_style_daycolor=function(){this.on_apply_style_daycolor(this.currentstyle.daycolor=this.on_find_CurrentStyle_daycolor(this._pseudo));};_pCalendar.on_update_style_daybackground=function(){this.on_apply_style_daybackground(this.currentstyle.daybackground=this.on_find_CurrentStyle_daybackground(this._pseudo));};_pCalendar.on_update_style_dayborder=function(){this.on_apply_style_dayborder(this.currentstyle.dayborder=this.on_find_CurrentStyle_dayborder(this._pseudo));};_pCalendar.on_update_style_daybordertype=function(){this.on_apply_style_daybordertype(this.currentstyle.daybordertype=this.on_find_CurrentStyle_daybordertype(this._pseudo));};_pCalendar.on_update_style_dayfont=function(){this.on_apply_style_dayfont(this.currentstyle.dayfont=this.on_find_CurrentStyle_dayfont(this._pseudo));};_pCalendar.on_update_style_daygradation=function(){this.on_apply_style_daygradation(this.currentstyle.daygradation=this.on_find_CurrentStyle_daygradation(this._pseudo));};_pCalendar.on_update_style_daysize=function(){this.on_apply_style_daysize(this.currentstyle.daysize=this.on_find_CurrentStyle_daysize(this._pseudo));};_pCalendar.on_update_style_popupalign=function(){this.on_apply_style_popupalign(this.currentstyle.popupalign=this.on_find_CurrentStyle_popupalign(this._pseudo));};_pCalendar.on_update_style_popupbackground=function(){this.on_apply_style_popupbackground(this.currentstyle.popupbackground=this.on_find_CurrentStyle_popupbackground(this._pseudo));};_pCalendar.on_update_style_popupborder=function(){this.on_apply_style_popupborder(this.currentstyle.popupborder=this.on_find_CurrentStyle_popupborder(this._pseudo));};_pCalendar.on_update_style_popupbordertype=function(){this.on_apply_style_popupbordertype(this.currentstyle.popupbordertype=this.on_find_CurrentStyle_popupbordertype(this._pseudo));};_pCalendar.on_update_style_popupgradation=function(){this.on_apply_style_popupgradation(this.currentstyle.popupgradation=this.on_find_CurrentStyle_popupgradation(this._pseudo));};_pCalendar.on_update_style_popupsize=function(){if(!this._init_popupsize){this._init_popupsize=this.currentstyle.popupsize;}this.on_apply_style_popupsize(this.currentstyle.popupsize=this.on_find_CurrentStyle_popupsize(this._pseudo));};_pCalendar.on_update_style_usetrailingday=function(){this.on_apply_style_usetrailingday(this.currentstyle.usetrailingday=this.on_find_CurrentStyle_usetrailingday(this._pseudo));};_pCalendar.on_update_style_trailingdaycolor=function(){this.on_apply_style_trailingdaycolor(this.currentstyle.trailingdaycolor=this.on_find_CurrentStyle_trailingdaycolor(this._pseudo));};_pCalendar.on_update_style_buttonsize=function(){this.on_apply_style_buttonsize(this.currentstyle.buttonsize=this.on_find_CurrentStyle_buttonsize(this._pseudo));};_pCalendar.on_update_style_viewyearspin=function(){this.on_apply_style_viewyearspin(this.currentstyle.viewyearspin=this.on_find_CurrentStyle_viewyearspin(this._pseudo));};_pCalendar.on_update_style_viewmonthspin=function(){this.on_apply_style_viewmonthspin(this.currentstyle.viewmonthspin=this.on_find_CurrentStyle_viewmonthspin(this._pseudo));};_pCalendar.on_update_style_popuptype=function(){this.currentstyle.popuptype=this.on_find_CurrentStyle_popuptype(this._pseudo);if(this._getPopupType()=="system"&&this.type!="monthonly"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";this.on_apply_type();return;}}};_pCalendar.on_update_style_displaynulltextcolor=function(){this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor=this.on_find_CurrentStyle_displaynulltextcolor(this._pseudo));};_pCalendar.on_apply_style_align=function(_a){var _b=this.calendaredit;if(_b){_b.style.set_align(_a);}};_pCalendar.on_apply_style_popupalign=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_align(_a);}};_pCalendar.on_apply_style_color=function(_a){var _b=this.calendaredit;if(_b){_b.on_apply_style_color(_b.currentstyle.color=_a);}};_pCalendar.on_apply_style_popupcolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_color(_a);}};_pCalendar.on_apply_style_daycolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daycolor(_a);}};_pCalendar.on_apply_style_font=function(_a){var _b=this.calendaredit;if(_b){_b.on_apply_style_font(_b.currentstyle.font=_a);}};_pCalendar.on_apply_style_popupfont=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_font(_a);}};_pCalendar.on_apply_style_dayfont=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_dayfont(_a);}};_pCalendar.on_apply_style_popupbackground=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_background(_a);}};_pCalendar.on_apply_style_daybackground=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daybackground(_a);}};_pCalendar.on_apply_style_rtlimagemirroring=function(_a){return;};_pCalendar.on_apply_style_popupborder=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_border(_a);}};_pCalendar.on_apply_style_dayborder=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_dayborder(_a);}};_pCalendar.on_apply_style_popupbordertype=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_bordertype(_a);}};_pCalendar.on_apply_style_daybordertype=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daybordertype(_a);}};_pCalendar.on_apply_style_popupgradation=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_gradation(_a);}};_pCalendar.on_apply_style_daygradation=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daygradation(_a);}};_pCalendar.on_apply_style_popupsize=function(_a){var _b=this.popupcalendar;if(_b){if(_a){var _c=_a.value.split(/\s+/);var _d,_e;if(_c.length==2){_d=parseInt(_c[0],10);_e=parseInt(_c[1],10);}else{_d=parseInt(_c[0],10);_e=parseInt(_c[0],10);}var _f=_b._control_element;if(this.type=="normal"&&_f){_f.setElementSize(_d,_e);_b._updateClientSize(_f);}}}};_pCalendar.on_apply_style_daysize=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_daysize(_a);}};_pCalendar.on_apply_style_usetrailingday=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_usetrailingday(_a);}};_pCalendar.on_apply_style_trailingdaycolor=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_trailingdaycolor(_a);}};_pCalendar.on_apply_style_buttonsize=function(_a){this._resizeCalendar();};_pCalendar.on_apply_style_viewyearspin=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_viewyearspin(_a);}};_pCalendar.on_apply_style_viewmonthspin=function(_a){var _b=this.popupcalendar;if(_b){_b.on_apply_style_viewmonthspin(_a);}};_pCalendar.on_apply_style_accessibility=function(_a){nexacro.Component.prototype.on_apply_style_accessibility.call(this,_a);if(this.calendaredit){this.calendaredit.on_apply_style_accessibility(_a);}};_pCalendar.on_apply_style_displaynulltextcolor=function(_a){if(this.calendaredit){this.calendaredit.on_apply_style_displaynulltextcolor(this.calendaredit.currentstyle.displaynulltextcolor=_a);}};_pCalendar.on_apply_style_letterspace=function(_a){if(this.calendaredit){this.calendaredit.on_apply_style_letterspace(this.calendaredit.currentstyle.letterspace=_a);}};_pCalendar.on_create_contents=function(){var _a=this.getElement();if(_a){if(this._getPopupType()=="system"&&this.type!="monthonly"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";}}switch(this.type){case "normal":this._createCalendaredit();this._createDropbutton();break;case "spin":this._createCalendaredit();this._createSpinbutton();break;case "monthonly":this._createPopupcalendar();break;case "system":this._createSystemCalendar();break;}}};_pCalendar.on_created_contents=function(){this.on_apply_autoskip();this.on_apply_autoselect();this.on_apply_locale();this.on_apply_displaynulltext();this.on_apply_usecontextmenu();this.on_apply_style_displaynulltextcolor(this.currentstyle.displaynulltextcolor);if(this.expr){this.on_apply_expr();}else{if(!this.value&&this._primitivevalue){this._setValue(this._primitivevalue);}}this.on_apply_editformat();this.on_apply_dateformat();this._currentformat="dateformat";if(this.cssclass){this.on_apply_pseudo();this.on_apply_custom_pseudo();this.on_apply_prop_class();}switch(this.type){case "spin":this._setEventHandlerToCalendarEdit();this._setEventHandlerToSpinButton();this.calendaredit.on_created();this.spinupbutton.on_created();this.spindownbutton.on_created();this.calendaredit.style.set_align(this.currentstyle.align);break;case "monthonly":this._setEventHandlerToPopupCalendar();this.popupcalendar.on_created();if(nexacro._enableaccessibility){this._want_arrows=true;}this.on_apply_style_popupborder(this.currentstyle.popupborder);break;case "system":if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _a=this.getElement();if(_a){_a.setElementAccessibilityHidden(false);}}this._setEventHandlerToCalendarEdit();this.calendaredit.on_created();this._setAccessibilityActiveDescendant(this.calendaredit);this.calendaredit.style.set_align(this.currentstyle.align);break;case "normal":default:this._setEventHandlerToCalendarEdit();this._setEventHandlerToDropButton();this.calendaredit.on_created();this.dropbutton.on_created();this._setAccessibilityActiveDescendant(this.calendaredit);this.calendaredit.style.set_align(this.currentstyle.align);this.on_apply_style_popupborder(this.currentstyle.popupborder);this.dropbutton._control_element.setElementAccessibilityHidden(true);}if(!nexacro._isDesktop()&&this.calendaredit&&this.calendaredit._input_element){if(this.type=="system"){this.calendaredit._input_element.setElementInputType("date",true,this);}else{this.calendaredit._input_element.setElementInputType("tel");}this.calendaredit._input_element.setElementInputTypeKeypad("tel");}this.on_apply_innerdataset();this.on_apply_style_letterspace(this.currentstyle.letterspace);this.on_apply_prop_rtldirection();if(nexacro._enableaccessibility&&this.calendaredit&&this.calendaredit._input_element){var _b=this.calendaredit._input_element;_b._setElementInputRole();_b._setElementInputLabel();}var _c=this;nexacro.OnceCallbackTimer.callonce(_c,function(){_c._setDefaultCaret();});};_pCalendar.on_destroy_contents=function(){this._destroyControl();this._destroyInnerdataset();this._editformat_info=null;this._dateformat_info=null;this._currentformat="";this._mask="";this._caret_pos=null;this._prevalue=null;this._postvalue=null;this._datelistL=null;this._datelistS=null;this._localeListL=null;this._localeListS=null;};_pCalendar.on_change_containerRect=function(_a,_b){this._resizeCalendar();};_pCalendar.on_getBindableProperties=function(){return "value";};_pCalendar.on_apply_custom_setfocus=function(_a){var _b=this.calendaredit;var _c=this.popupcalendar;if(_b){var _d=_b._edit_base_api;if(_d&&!this._re_focus){this._currentformat="editformat";var _e=this.value;var _f="";this._setMask(this._currentformat,false,this.value);if(nexacro._isNull(_e)){_f=_e;}else{_f=this._makeMaskValue(_e.toString());}_d._setValue(_f);if(!_b._input_element._is_mousedown){_b.setSelect(this._caret_pos.begin,this._caret_pos.end);}}if(!this._is_dropbutton){_b.on_apply_custom_setfocus(_a);}else{this._is_dropbutton=false;_d._changeFocusText(_b._input_element);nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}_b._stat_change("focus","focused");}else if(_c){_c.on_apply_custom_setfocus(_a);}};_pCalendar.on_apply_prop_enable=function(_a){var _b=this.getElement();if(_b){if(this.calendaredit){this.calendaredit._setEnable(_a);}if(this.dropbutton){this.dropbutton._setEnable(_a);}if(this.spinupbutton){this.spinupbutton._setEnable(_a);}if(this.spindownbutton){this.spindownbutton._setEnable(_a);}if(this.popupcalendar){this.popupcalendar._setEnable(_a);}}};_pCalendar.on_init_bindSource=function(_a,_b,_c){if(_b=="value"){this._bindsource=false;this._setValue(undefined);return true;}};_pCalendar.on_change_bindSource=function(_a,_b,_c,_d,_e){if(_a=="value"){this._bindsource=true;this._currentformat="editformat";var _f=_b.getColumn(_c,_d);if(_f){if(_f instanceof nexacro.Date){var _g=_f;}else{if(this.editformat!=this._editformat_info.format){this._editformat_info=this._makeFormatInfo(this.editformat);}var _h=this.editformat;var _i=this._currentformat;this._currentformat="editformat";var _j=this._editformat_info;if(_j._year||_j._mon||_j._day){if(_j._hour||_j._min||_j._sec||_j._millisec){this.set_editformat("yyyyMMddHHmmsssss");}else{this.set_editformat("yyyyMMdd");}}else{this.set_editformat("HHmmsssss");}var _g=this._makeDateObj(_f);this._currentformat=_i;this.set_editformat(_h);}this.set_enable(this.enable);}if(this._is_primitivevalue&&!this._is_created){this._primitivevalue=_g;}this._currentformat="dateformat";this._setValue(_g);return true;}return false;};_pCalendar.on_get_style_accessibility_label=function(){if(this.type=="monthonly"){return this.text?this.text:this._getCurrentDate();}else{return "";}};_pCalendar._on_getAccessibilityAdditionalLabel=function(){var _a=this.on_find_CurrentStyle_accessibility(this._pseudo);if(_a){var _b=this.calendaredit;if(_b){return _b._edit_base_api._on_getAccessibilityAdditionalLabel();}}return "";};_pCalendar.on_update_position=function(_a,_b){nexacro.Component.prototype.on_update_position.call(this,_a,_b);if(this._isPopupVisible()){if(_a||_b){this._closePopup();return;}this._update_popupwindow_position();if(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime"){var _c=this;var _d=this._popupwindow_position_observer;if(_d){if(_d._interval_timer){_d._interval_timer.stop();delete _d._interval_timer;_d._interval_timer=null;}this._popupwindow_position_observer=null;}var _e=this._control_element;_d=this._popupwindow_position_observer={};_d._observed_count=0;_d._elem_pos=nexacro._getElementPositionInFrame(_e);_d._interval_timer=new nexacro.CallbackTimer(this,function(){if( ++_d._observed_count>=50){_d._interval_timer.destroy();delete _d._interval_timer;_d._interval_timer=null;return;}var _f=nexacro._getElementPositionInFrame(_e);if(_d._elem_pos.x!=_f.x||_d._elem_pos.y!=_f.y){_c._update_popupwindow_position();_d._observed_count=50;}},100);_d._interval_timer.start();}}};_pCalendar._getDlgCode=function(_a,_b,_c,_d){var _e=this._want_arrows;this._is_first_focus=false;return {want_tab:false,want_return:false,want_escape:false,want_chars:false,want_arrows:_e};};_pCalendar._getAccessibilityReadLabel=function(_a){var _b=nexacro.Component.prototype._getAccessibilityReadLabel.call(this);if(_a&&this.calendaredit._input_element&&this._status!="focus"){if(!this.calendaredit._input_element._wantAccessibilityAdditionalLabel||!this.calendaredit._input_element._wantAccessibilityAdditionalLabel()){_b=this.text+" "+_b;}}return _b;};_pCalendar._setAccessibilityStatFocus=function(_a){var _b=this.calendaredit;if(_b&&_b._input_element){var _c=this._getAccessibilityRole(this.on_find_CurrentStyle_accessibility(this._pseudo));if(this._getDescLevel()=="none"){_c="none";}_b._input_element.setElementAccessibilityRole(_c);}return nexacro.Component.prototype._setAccessibilityStatFocus.call(this,_a);};_pCalendar._getAccessibilityRole=function(_a){var _b=nexacro.Component.prototype._getAccessibilityRole.call(this,_a);return _b;};_pCalendar.set_text=nexacro._emptyFn;_pCalendar.set_autoselect=function(_a){if(_a!=this.autoselect){this.autoselect=_a;this.on_apply_autoselect();}};_pCalendar.on_apply_autoselect=function(){var _a=this.calendaredit;if(_a){_a.set_autoselect(this.autoselect);}};_pCalendar.set_autoskip=function(_a){if(_a!=this.autoskip){this.autoskip=_a;this.on_apply_autoskip();}};_pCalendar.on_apply_autoskip=function(){var _a=this.calendaredit;if(_a){_a.set_autoskip(this.autoskip);}};_pCalendar.set_displaynulltext=function(_a){if(_a===undefined){return;}_a=nexacro._toString(_a);_a=_a.replace(/&quot;/g,"\"");if(_a!=this.displaynulltext){this.displaynulltext=_a;this.on_apply_displaynulltext();}};_pCalendar.on_apply_displaynulltext=function(){if(this.calendaredit){this.calendaredit.set_displaynulltext(this.displaynulltext);}};_pCalendar.on_apply_expr=function(){var _a=this.getElement();if(_a){var _b=this.expr;var _c=_b.substring(0,4);var _d,_e,_f;var _g=false;if(_c=="expr"){_c=_b.substr(4).trim();if(/^expr(\s*):/.test(_b)){_c=_c.substr(1);}else{_c=_c.substring(1,_c.length-1);}}else{_c=_b;}_d=new nexacro.ExprParser();_e=_d.makeExpr(this,_c);if(_e.substring(0,4)=="Date"){_e="new "+_e;_g=true;}_d=null;_f=nexacro._createInlineFunc(_e,["comp"]);if(_f){var _h=_f.call(null,this);if(_g){this._setValue_JSDate(_h);}else{this._setValue(_h);}}}};_pCalendar.set_type=function(_a){if(this._getPopupType()=="system"&&_a!="monthonly"){if((nexacro._isMobile&&nexacro._isMobile())||(nexacro._isHybrid&&nexacro._isHybrid())||(!nexacro._isDesktop()&&nexacro.OS=="Android"&&nexacro.Browser=="Runtime")){this.type="system";this.on_apply_type();return;}}if(_a!=this.type){this._pretype=this.type;if(_a==="spin"||_a==="monthonly"){this.type=_a;}else{this.type="normal";}this.on_apply_type();}};_pCalendar.on_apply_type=function(){var _a=this.getElement();if(_a){var _b=true;var _c=this._client_width;var _d=Math.round(_c/5);if(this._pretype!="monthonly"||this.type=="monthonly"){_b=false;}this._destroyControl();switch(this.type){case "normal":this._createNormaltypeControl();break;case "spin":this._createSpintypeControl();break;case "monthonly":var _e=this._getPopupSizeArr();this._createMonthlytypeControl();this.resize(_e.width,_e.height);break;case "system":if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){_a.setElementAccessibilityHidden(false);}this._createSystemtypeControl();}if(_b){this.resize(_c,_d);}this._resizeCalendar();if(nexacro._enableaccessibility&&this.calendaredit&&this.calendaredit._input_element){var _f=this.calendaredit._input_element;_f._setElementInputRole();_f._setElementInputLabel();}}};_pCalendar.set_value=function(_a){if(_a&&((typeof _a)=="object")&&_a._type_name!="Date"){return;}if((_a+"")==(this.value+"")){return;}this._setUserValue(_a);};_pCalendar.on_apply_value=function(){var _a=this.getElement();if(_a){var _b=this.value;if(this.calendaredit){if(_b==""&&this._currentformat=="dateformat"){var _c=true;}else{var _c=false;}this._setMask(this._currentformat,_c,this.value);if(_b==null){this.calendaredit.set_value(undefined);}else{var _d=(this._isEmptyStr(_b))?"":this._makeMaskValue(_b.toString());var _e=this.calendaredit._edit_base_api;this.calendaredit.value=_e._getValue();this.calendaredit.set_value(_d);}}if(this.popupcalendar){var _d=this._getPickerValue(_b);this.popupcalendar.set_value(_d);}}this.on_apply_text();};_pCalendar.on_apply_fake_value=function(_a){var _b=this.getElement();if(_b){if(this.calendaredit){var _c=_a;var _d=this._makeMaskValue(_c?_c.toString():"");this._setMask(this._currentformat,true,_c);this.calendaredit.set_value(_d,true);}if(this.popupcalendar){var _c=this._makeDateObj(_a);var _d=this._getPickerValue(_c);this.popupcalendar.set_value(_d);}}};_pCalendar.on_apply_text=function(){var _a=this.getElement();if(_a){var _b=this.value;if(!_b){this.text="";}else{this.displaytext=this.text=this._makeCalendarText(_b);}this._refreshAccessibilityValue();}};_pCalendar.setInnerDataset=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";this.on_apply_innerdataset();}else if(_a instanceof nexacro.Dataset){this._innerdataset=_a;this.innerdataset=_a.id;this.on_apply_innerdataset();}};_pCalendar._setInnerDatasetStr=function(_a){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}};_pCalendar.getInnerDataset=function(){return this._innerdataset;};_pCalendar.set_innerdataset=function(_a){if(typeof _a!="string"){this.setInnerDataset(_a);return;}if(_a!=this.innerdataset){if(!_a){this._innerdataset=null;this.innerdataset="";}else{_a=_a.replace("@","");this._innerdataset=this._findDataset(_a);this.innerdataset=_a;}this.on_apply_innerdataset();}else if(this.innerdataset&&!this._innerdataset){this._setInnerDatasetStr(this.innerdataset);this.on_apply_innerdataset();}return this.innerdataset;};_pCalendar.on_apply_innerdataset=function(){var _a=this.getElement();if(_a){var _b=this._innerdataset;if(_b&&this.popupcalendar){_b._setEventHandler("onvaluechanged",this._callback_onvaluechanged,this);_b._setEventHandler("onrowsetchanged",this._callback_rowsetchanged,this);this.popupcalendar.on_apply_innerdataset(this._innerdataset);}}};_pCalendar.set_backgroundcolumn=function(_a){if(_a!=this.backgroundcolumn){this.backgroundcolumn=_a;this.on_apply_backgroundcolumn();}};_pCalendar.on_apply_backgroundcolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_backgroundcolumn(this.backgroundcolumn);}}};_pCalendar.set_bordercolumn=function(_a){if(_a!=this.bordercolumn){this.bordercolumn=_a;this.on_apply_bordercolumn();}};_pCalendar.on_apply_bordercolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_bordercolumn(this.bordercolumn);}}};_pCalendar.set_datecolumn=function(_a){if(_a!=this.datecolumn){this.datecolumn=_a;this.on_apply_datecolumn();}};_pCalendar.on_apply_datecolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_datecolumn(this.datecolumn);}}};_pCalendar.set_textcolorcolumn=function(_a){if(_a!=this.textcolorcolumn){this.textcolorcolumn=_a;this.on_apply_textcolorcolumn();}};_pCalendar.on_apply_textcolorcolumn=function(){var _a=this.getElement();if(_a){if(this.popupcalendar){this.popupcalendar.on_apply_textcolorcolumn(this.textcolorcolumn);}}};_pCalendar.set_dateformat=function(_a){if(_a!=this.dateformat){this.dateformat=_a;this.on_apply_dateformat();}};_pCalendar.on_apply_dateformat=function(){if(!this._is_created_contents&&!this._is_subcontrol){return;}if(this.type=="system"){this._dateformat_info=this._makeFormatInfo("yyyy-MM-dd");}else{this._dateformat_info=this._makeFormatInfo(this.dateformat);}var _a=this.getElement();if(_a){this.on_apply_value();}};_pCalendar.set_editformat=function(_a){if(_a!=this.editformat){this.editformat=_a;this.on_apply_editformat();}};_pCalendar.on_apply_editformat=function(){if(!this._is_created_contents&&!this._is_subcontrol){return;}if(this.type=="system"){this._editformat_info=this._makeFormatInfo("yyyy-MM-dd");}else{this._editformat_info=this._makeFormatInfo(this.editformat,true);}};_pCalendar.set_usesoftkeyboard=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usesoftkeyboard){this.usesoftkeyboard=_a;this.on_apply_usesoftkeyboard();}};_pCalendar.on_apply_usesoftkeyboard=function(){var _a=this.calendaredit?this.calendaredit._input_element:null;if(_a){_a.setElementUseSoftKeyboard(this.usesoftkeyboard);}};_pCalendar.set_imemode=function(_a){if(_a!=this.imemode){this.imemode=_a;}};_pCalendar.set_locale=function(_a){if(_a!=this.locale){this.locale=_a;if(this._locale!=_a){this._locale=_a;this.on_apply_locale();this.on_apply_dateformat();this.on_apply_editformat();}}};_pCalendar.on_apply_locale=function(){var _a=this.calendaredit;var _b=this._getLocale();if(_a){_a._setLocale(_b);}var _c=this.popupcalendar;if(_c){_c._setLocale(_b);}var _d=this.getElement();if(_d){var _e=this.popupcalendar;var _f=nexacro.Locale.getLocaleInfo(_b);this._datelistL=_f.weekday_names_long;this._datelistS=_f.weekday_names_short;this._monthlistL=_f.month_names_long;this._monthlistS=_f.month_names_short;this._locale_direction=_f.direction;var _g=this._datelistS.join(" ");this.on_apply_value();if(_e){var _h=_e.on_find_CurrentStyle_weekformat(this._pseudo);if(_h){_e.on_apply_style_weekformat(_h);}else{_e.on_apply_style_weekformat(_g);}}}};_pCalendar.set_visible=function(_a){if(_a===undefined||_a===null){return;}_a=nexacro._toBoolean(_a);if(this.visible!=_a){nexacro.Component.prototype.set_visible.call(this,_a);if(!_a&&this._is_created){this.closeDropdown();}}};_pCalendar.set_readonly=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.readonly){this.readonly=_a;this.on_apply_readonly();}};_pCalendar.on_apply_readonly=function(){var _a=this.readonly;if(_a){this._stat_change("readonly",this._pseudo);}else{this._stat_change("writable",this._pseudo=="readonly"?"normal":this._pseudo);}if(this.calendaredit){this.calendaredit.set_readonly(_a);}if(this.popupcalendar){this.popupcalendar.set_readonly(_a);}};_pCalendar.set_usecontextmenu=function(_a){_a=nexacro._toBoolean(_a);if(_a!=this.usecontextmenu){this.usecontextmenu=_a;this.on_apply_usecontextmenu();}};_pCalendar.on_apply_usecontextmenu=function(){var _a=this.calendaredit;if(_a){_a.set_usecontextmenu(this.usecontextmenu);}};_pCalendar.set_useime=function(_a){if(_a!=this.useime){this.useime=_a;}};_pCalendar.set_useinputpanel=function(_a){if(_a!=this.useinputpanel){this.useinputpanel=_a;}};_pCalendar.closeDropdown=function(){if(this.type=="normal"){this._closePopup();}};_pCalendar.dropdown=function(){if(this.enable!=true||this.readonly==true||this.visible==false||this.type!="normal"){return false;}var _a=this.value;var _b=this.calendaredit;var _c=this._getDateObjFromDisplayText(_b.text);var _d=_a?_a.toString():_a;var _e=_c?_c.toString():_c;this._currentformat="editformat";if(_d!=_e){if(!((_d===undefined||_d===null)&&_e==="")){this._setPreValueAndText(_a);this._setPostValueAndText(_c);var _f=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_f||_f===undefined){var _g=this._setValue(this._postvalue);if(_g===false){this._setValue(this._prevalue);}else{this._fireOnchangedEvent(_a,this.value);}}else{this._setValue(this._prevalue);this.setCaretPos(0);}}}if(this.isDropdown()){return false;}var _f=this.on_fire_ondropdown(this);if(this._getPopupType()=="none"||this.type=="system"){return;}if(_f||_f===undefined){this._setFocus(false);this._showPopup();this._resizeDatePicker(true);this._currentformat="editformat";var _h=this._makeMaskValue(this.value?this.value.toString():"");var _b=this.calendaredit;if(_b){this._setMask(this._currentformat,true,this.value);_b.set_value(_h);var _i=this.calendaredit._input_element;if(_i){if(this.autoselect){_i.setElementSetSelect(0,this.text.length);}else{this._setDefaultCaret();}}}var _j=this.popupcalendar;if(_j){this.on_apply_style_popupborder(this.currentstyle.popupborder);_h=this._getPickerValue(this.value);_j.set_value(_h);_j._hide_spindate();}if(nexacro._enableaccessibility){this._want_arrows=true;}}};_pCalendar.isDropdown=function(){return this._isPopupVisible();};_pCalendar.getCaretPos=function(){var _a= -1;if(this.calendaredit&&this.readonly==false){_a=this.calendaredit.getCaretPos();}return _a;};_pCalendar.getDay=function(){var _a=1;if(this.value){_a=this.value.getDate();}return _a;};_pCalendar.getDayOfWeek=function(){var _a=4;if(this.value){_a=this.value.getDay();}return _a;};_pCalendar.getMonth=function(){var _a=1;if(this.value){_a=this.value.getMonth()+1;}return _a;};_pCalendar.getSelect=function(){var _a=[0,0];if(this.calendaredit){_a=this.calendaredit.getSelect();}return _a;};_pCalendar.getSelectedText=function(){var _a="";if(this.calendaredit){_a=this.calendaredit.getSelectedText();}return _a;};_pCalendar.getYear=function(){var _a=1970;if(this.value){_a=this.value.getFullYear();}return _a;};_pCalendar.isAboveSelected=function(){};_pCalendar.setCaretPos=function(_a){this._caret_pos.begin=_a;this._caret_pos.end=_a;if(this.calendaredit){return this.calendaredit.setCaretPos(_a);}};_pCalendar.setSelect=function(_a,_b){var _c=false;this._caret_pos.begin=_a;this._caret_pos.end=_b;if(this.calendaredit){_c=this.calendaredit.setSelect(_a,_b);}return _c;};_pCalendar.updateToDataset=function(){this._bindsource=false;if(this.popupcalendar&&this._isPopupVisible()){var _a=this.popupcalendar.value;}else if(this.calendaredit){var _a=this.calendaredit.value;}else{var _a=this.value;}if(!this._bind_event){return false;}var _b=this.applyto_bindSource("value",_a);if(this._flag_update2dataset){return true;}return _b;};_pCalendar._getDragData=function(){return this.calendaredit?this.calendaredit._getDragData():"";};_pCalendar.on_notify_ondayclick=function(_a,_b){if(this.readonly){return;}var _c=this.calendaredit;if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.on_apply_custom_setfocus();}this.on_fire_ondayclick(this,_b.date);if(this._dateformat_info==null||this._editformat_info==null){return;}this._currentformat="editformat";var _d=this.value;if(_b.date instanceof nexacro.Date){var _e=_b.date;var _f=false;if(this._editformat_info){if(this._editformat_info._hour||this._editformat_info._min||this._editformat_info._sec||this._editformat_info._millisec){_f=true;}}if(_f){_e._timecheck=true;if(_d){_e.setHours(_d.getHours(),_d.getMinutes(),_d.getSeconds(),_d.getMilliseconds());}else{_e.setHours(0,0,0,0);}}}else{_e=this._makeDateObj(_b.date);}var _g=_d?_d.toString():_d;var _h=_e?_e.toString():_e;if(_g!=_h){this._day_click=true;this._setPreValueAndText(_d);this._setPostValueAndText(_e);var _i=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_i||_i===undefined){var _j=this._setValue(this._postvalue);if(_j===false){this._setValue(this._prevalue);this.closeDropdown();}else{this.closeDropdown();this._fireOnchangedEvent(_d,_e);}this._setDefaultCaret();}else{this._setValue(this._prevalue);}}else{this.closeDropdown();this._setDefaultCaret();}if(this.autoskip&&_c){_c.on_apply_autoskip();}this._day_click=false;this._currentformat="editformat";return _i;};_pCalendar.on_notify_mobile_ondropdown=function(_a,_b){if(this.readonly==true||this.enable==false){return false;}if(this._isPopupVisible()){this.closeDropdown();}else{this.dropdown();}return false;};_pCalendar.on_notify_ondropdown=function(_a,_b){if(this.readonly==true||this.enable==false){return false;}if(this._isPopupVisible()){this.closeDropdown();if(this.calendaredit){var _c=this.calendaredit._input_element;if(_c){if(this.autoselect){var _d=this.text;_c.setElementSetSelect(0,_d.length);}else{this._setDefaultCaret();}}}}else{this.dropdown();}return false;};_pCalendar.on_notify_oneditclick=function(_a,_b){this.on_fire_oneditclick(_a,_b.caretpos,_b.button,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.screenX,_b.screenY,_b.canvasX,_b.canvasY,_b.clientX,_b.clientY,_b.fromobject,_b.fromreferenceobject);};_pCalendar.on_notify_onlbuttonup=function(_a,_b){nexacro.OnceCallbackTimer.callonce(this,function(){var _c=this.calendaredit;var _d=_c._input_element;var _e=_d.getElementCaretPos();if(_e&&_e!= -1){this._caret_pos=_e;if(nexacro._isDesktop()&&nexacro.Browser=="Runtime"){if(_e.begin==_e.end){this.setCaretPos(_e.begin);}}}else{this._caret_pos.begin=0;this._caret_pos.end=0;}});};_pCalendar.on_notify_onlbuttondown=function(_a,_b){if(this.readonly==true){return false;}var _c=this.calendaredit;var _d=_c._edit_base_api;var _e=_c._input_element;var _f=_e.getElementCaretPos();if(_f&&_f!= -1){this._caret_pos=_f;}else{this._caret_pos.begin=0;this._caret_pos.end=0;}if(this._isPopupVisible()){this.closeDropdown();}if(_c&&this._currentformat!="editformat"){var _g=(this._currentformat=="dateformat"&&this.value==="")?true:false;this._currentformat="editformat";this._setMask(this._currentformat,_g,this.value);var _h=this._makeMaskValue(this.value?this.value.toString():"");_d._setValue(_h);}};_pCalendar.on_notify_mobile_onlbuttondown=function(_a,_b){if(this.readonly==true){return false;}var _c=this.calendaredit;var _d=_c._edit_base_api;if(this._isPopupVisible()){this.closeDropdown();}if(_c&&this._currentformat!="editformat"){this._currentformat="editformat";this._setMask(this._currentformat,false,this.value);var _e=this._makeMaskValue(this.value?this.value.toString():"");_d._setValue(_e);}};_pCalendar.on_notify_ontextchange=function(_a,_b){if(!this._isValidDate(_b.chartext)){return false;}return this.on_fire_ontextchange(_a,_b.chartext,_b.pretext,_b.posttext,_b.preimetext,_b.postimetext);};_pCalendar.on_notify_ontextchanged=function(_a,_b){var _c=_b.posttext;var _d=this._getDateObjFromDisplayText(_c);var _e=this._getPickerValue(_d);if(this.popupcalendar&&this.isDropdown()){this.popupcalendar.set_value(_e);}return this.on_fire_ontextchanged(_a,_b.pretext,_b.posttext);};_pCalendar.on_notify_onchanged=function(_a,_b){};_pCalendar.on_notify_onchar=function(_a,_b){return this.on_fire_onchar(_a,_b.chartext,_b.pretext,_b.posttext);};_pCalendar.on_notify_cancharchange=function(_a,_b){return this.on_fire_cancharchange(_a,_b.chartext,_b.pretext,_b.posttext);};_pCalendar.on_notify_canchange=function(_a,_b){return this.on_fire_canchange(_a,_b.pretext,_b.prevalue,_b.posttext,_b.postvalue);};_pCalendar.on_notify_oneditkillfocus=function(_a,_b){if(this.readonly==true){return;}if(this.type=="spin"&&_b){if(_b.newreferencecomponent==this.spinupbutton||_b.newreferencecomponent==this.spindownbutton){return;}}this._currentformat="editformat";var _c=this._getDateObjFromDisplayText(this.calendaredit.text);var _d=this.value;var _e=_d?_d.toString():_d;var _f=_c?_c.toString():_c;if(_e!=_f){if((_e===undefined||_e===null)&&_f===""){return;}this._setPreValueAndText(_d);this._setPostValueAndText(_c);var _g=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_g||_g===undefined){var _h=this._setValue(this._postvalue);if(_h===false){this._setValue(this._prevalue);return;}}else{this._setValue(this._prevalue);this.setCaretPos(0);return;}this._fireOnchangedEvent(_d,this.value);}};_pCalendar.on_notify_oncloseup=function(_a,_b){var _c=this._getWindow();if(_c&&this._track_capture){_c._releaseCaptureLock(this);}if(this._day_click){this.on_fire_oncloseup(this,this._pretext,this._posttext,this._prevalue,this._postvalue);}else{var _d=this._changeYearValue(true);var _e=this._getDateObjFromDisplayText(_d);var _f=this.value;var _g=_f?_f.toString():_f;var _h=_e?_e.toString():_e;this.on_fire_oncloseup(this,_g,_h,_f,_e);}};_pCalendar.on_notify_onkeydown=function(_a,_b){var _c=nexacro.Event;switch(this.type){case "normal":if(_b.keycode==_c.KEY_ESC){this.closeDropdown();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_ENTER){this._fireKeydownEvent();if(this.isDropdown()){this.popupcalendar.on_fire_sys_onkeydown(_b.keycode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.fromobject,_b.fromreferenceobject);}this.closeDropdown();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_SPACE){return false;}else if(_b.altKey==true&&_b.keycode==_c.KEY_DOWN){this.dropdown();}else{if(this.isDropdown()&&(_b.keycode>=_c.KEY_LEFT&&_b.keycode<=_c.KEY_DOWN)){this.popupcalendar.on_fire_sys_onkeydown(_b.keycode,_b.altKey,_b.ctrlKey,_b.shiftKey,_b.fromobject,_b.fromreferenceobject);}}break;case "spin":var _d=this.calendaredit;var _e=_d._input_element;var _f=_e.getElementCaretPos();if(_f&&_f!= -1){this._caret_pos=_f;}else{this._caret_pos=0;}if(_b.keycode==_c.KEY_ENTER){this._fireKeydownEvent();this._setDefaultCaret();}else if(_b.keycode==_c.KEY_UP){if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_onspinup(_a,_b);}}else if(_b.keycode==_c.KEY_DOWN){if(!nexacro._enableaccessibility||_b.ctrlKey){this.on_notify_onspindown(_a,_b);}}break;case "monthonly":default:break;}return false;};_pCalendar.on_fire_sys_onkeydown=function(_a,_b,_c,_d,_e,_f){if(nexacro._enableaccessibility&&!_c&&!_b&&(this.type=="monthonly"||this.isDropdown())){var _g=this.popupcalendar;var _h=_g._header;var _i=_g._body;var _j=_i._year|0;var _k=_i._month|0;var _l=_i._day|0;switch(_a){case 38:{if(_c){_j-=1;}else{_l-=7;if(_l<=0){_k-=1;if(_k<=0){if(_j<=0){_j=9999;}else{_j-=1;}_k=12;}_l=this._getEndDay(_j,_k)+_l;}}}break;case 40:{if(_c){_j+=1;}else{_l+=7;var _m=this._getEndDay(_j,_k);if(_l>_m){_k+=1;if(_k>12){if(_j>=9999){_j=0;}else{_j+=1;}_k=1;}_l-=_m;}}}break;}if(_a==38||_a==40){_j=_i._makeDateText(_j,"year");_k=_i._makeDateText(_k,"month");_l=_i._makeDateText(_l,"day");var _n=new nexacro.Date(_j,_k-1,_l);_g._hide_spindate();if(this.type=="monthonly"){_g.on_fire_ondayclick(_g,_n);}else{_g.set_value(_j+_k+_l);}_n=null;}}};_pCalendar.on_notify_onspinup=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos;if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);this.setCaretPos(0);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h,1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,true);if(_j||_j===undefined){this.on_apply_fake_value(this._postvalue);}var _k=0;if(_h.length!=_d.text.length){_k=_d.text.length-_h.length;}this.setCaretPos(_f.begin+_k);_a._stat_change("notselect","normal");};_pCalendar.on_notify_mobile_onspinup=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos={begin:_c._edit_base_api._begin_pos,end:_c._edit_base_api._end_pos};if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h,1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,true);if(_j||_j==undefined){this.on_apply_fake_value(this._postvalue);}_a._stat_change("notselect","normal");};_pCalendar.on_notify_onspindown=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos;if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);this.setCaretPos(0);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h, -1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,false);if(_j||_j==undefined){this.on_apply_fake_value(this._postvalue);}var _k=0;if(_h.length!=_d.text.length){_k=_d.text.length-_h.length;}this.setCaretPos(_f.begin+_k);_a._stat_change("notselect","normal");};_pCalendar.on_notify_mobile_onspindown=function(_a,_b){if(this.readonly==true){return false;}this._currentformat="editformat";var _c=this.calendaredit;var _d=_c._input_element;var _e=_c.value;var _f=this._caret_pos={begin:_c._edit_base_api._begin_pos,end:_c._edit_base_api._end_pos};if(!_e){var _g=new nexacro.Date();if(this._isTimeMask()){_g._timeonly=true;}this.on_apply_fake_value(_g);_g=null;return;}var _h=_d.text;var _i=this._makeSpinValue(_h, -1,_f.begin);this._setPreValueAndText(this._getDateObjFromDisplayText(_c.text));this._setPostValueAndText(this._makeDateObj(_i));var _j=this.on_fire_onspin(this,this._pretext,this._posttext,this._prevalue,this._postvalue,false);if(_j||_j==undefined){this.on_apply_fake_value(this._postvalue);}_a._stat_change("notselect","normal");};_pCalendar._callback_onvaluechanged=function(_a,_b){this.on_apply_backgroundcolumn();this.on_apply_bordercolumn();this.on_apply_datecolumn();this.on_apply_textcolorcolumn();};_pCalendar._callback_rowsetchanged=function(_a,_b){this.on_apply_backgroundcolumn();this.on_apply_bordercolumn();this.on_apply_datecolumn();this.on_apply_textcolorcolumn();};_pCalendar._on_activate=function(){if(!this._is_alive){return;}var _a=this.calendaredit;if(_a){var _b=_a._edit_base_api;if(_b){this._currentformat="editformat";var _c=this.value;var _d="";this._setMask(this._currentformat,false,this.value);if(nexacro._isNull(_c)){_d=_c;}else{_d=this._makeMaskValue(_c.toString(),this.value);}this.on_apply_value();_b._setValue(_d);if(nexacro._enableaccessibility){this._setAccessibilityStatFocus();}}}if(!this._isSelected()){this._stat_change("focus","normal");}};_pCalendar._on_killfocus=function(_a,_b){if(!this._is_alive||application._is_on_alert){return;}if(this.calendaredit&&nexacro.Browser=="Runtime"){this.calendaredit._cancelSelect();}if(this.type!="monthonly"){var _c=this.value;var _d=this._changeYearValue(true);if(this.popupcalendar){this._currentformat="editformat";}var _e=this._getDateObjFromDisplayText(_d);var _f=_c?_c.toString():_c;var _g=_e?_e.toString():_e;this._currentformat="dateformat";if(_f!=_g){if((_f===undefined||_f===null)&&_g===""){this.on_apply_value();this.closeDropdown();if(this.calendaredit){this.calendaredit._stat_change("notfocus","normal");if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this.calendaredit._is_focusing=false;}}return;}this._setPreValueAndText(_c);this._setPostValueAndText(_e);var _h=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_h||_h==undefined){_h=this.applyto_bindSource("value",this._postvalue);if(_h===false){this.on_apply_value();}else{this._setValue(this._postvalue);}}else{_h=this.applyto_bindSource("value",this._prevalue);if(_h===false){this.on_apply_value();}else{this._setValue(this._prevalue);}return;}this._fireOnchangedEvent(this._prevalue,this.value);}else{this.on_apply_value();var _i=this.calendaredit;if(_i){var _j=_i._edit_base_api;_j._setFocusValue();}}this.closeDropdown();}else{if(this.popupcalendar){var _k=this.popupcalendar;_k._hide_spindate();}this.on_apply_value();}if(this.calendaredit){this.calendaredit._stat_change("notfocus","normal");if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){this.calendaredit._is_focusing=false;}}};_pCalendar.on_fire_canchange=function(_a,_b,_c,_d,_e){if(this.canchange&&this.canchange._has_handlers){var _f=new nexacro.ChangeEventInfo(this,"canchange",_b,_c,_d,_e);return this.canchange._fireCheckEvent(this,_f);}return true;};_pCalendar.on_fire_cancharchange=function(_a,_b,_c,_d){if(this.cancharchange&&this.cancharchange._has_handlers){var _e=new nexacro.CanCharEventInfo(_a,"cancharchange",_b,_c,_d);return this.cancharchange._fireCheckEvent(this,_e);}return true;};_pCalendar.on_fire_onchanged=function(_a,_b,_c,_d,_e){if(this.onchanged&&this.onchanged._has_handlers){var _f=new nexacro.ChangedEventInfo(this,"onchanged",_b,_c,_d,_e);return this.onchanged._fireEvent(this,_f);}return false;};_pCalendar.on_fire_onchar=function(_a,_b,_c,_d){if(this.onchar&&this.onchar._has_handlers){var _e=new nexacro.CharEventInfo(this,"onchar",_b,_c,_d);return this.onchar._fireCheckEvent(this,_e);}return true;};_pCalendar.on_fire_oncloseup=function(_a,_b,_c,_d,_e){if(this.oncloseup&&this.oncloseup._has_handlers){var _f=new nexacro.CalendarCloseUpEventInfo(this,"oncloseup",_b,_c,_d,_e);return this.oncloseup._fireEvent(this,_f);}return false;};_pCalendar.on_fire_ondayclick=function(_a,_b){if(this.ondayclick&&this.ondayclick._has_handlers){var _c=new nexacro.CalendarDayClickEventInfo(this,"ondayclick",_b);return this.ondayclick._fireEvent(this,_c);}return false;};_pCalendar.on_fire_ondropdown=function(_a){if(this.ondropdown&&this.ondropdown._has_handlers){var _b=new nexacro.Event(this,"ondropdown");return this.ondropdown._fireEvent(this,_b);}return true;};_pCalendar.on_fire_oneditclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){if(this.visible&&this._isEnable()&&this.enableevent){if(this.oneditclick&&this.oneditclick._has_handlers){var _o=new nexacro.EditClickEventInfo(this,"oneditclick",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,this,_n);return this.oneditclick._fireEvent(this,_o);}}return false;};_pCalendar.on_fire_onspin=function(_a,_b,_c,_d,_e,_f){if(this.onspin&&this.onspin._has_handlers){var _g=new nexacro.CalendarSpinEventInfo(this,"onspin",_b,_c,_d,_e,_f);return this.onspin._fireEvent(this,_g);}return true;};_pCalendar.on_fire_ontextchange=function(_a,_b,_c,_d,_e,_f){if(this.ontextchange&&this.ontextchange._has_handlers){var _g=new nexacro.TextChangeEventInfo(this,"ontextchange",_b,_c,_d,_e,_f);return this.ontextchange._fireCheckEvent(this,_g);}return true;};_pCalendar.on_fire_ontextchanged=function(_a,_b,_c){if(this.ontextchanged&&this.ontextchanged._has_handlers){var _d=new nexacro.TextChangedEventInfo(this,"ontextchanged",_b,_c);return this.ontextchanged._fireEvent(this,_d);}return true;};_pCalendar.on_fire_sys_onslide=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Component.prototype.on_fire_sys_onslide.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCalendar.on_fire_sys_onfling=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){var _j=nexacro.Component.prototype.on_fire_sys_onfling.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._update_popupwindow_position();return _j;};_pCalendar.on_fire_user_onmousewheel=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n){nexacro.Component.prototype.on_fire_user_onmousewheel.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_n);return (this.popupwindow&&this.popupwindow._is_popup())?true:false;};_pCalendar._applyZoomPopup=function(){if(this.popupwindow&&this.popupwindow._is_popup()){this.dropdown();}};_pCalendar._createCalendaredit=function(){var _a=new nexacro.CalendarEditCtrl("calendaredit","absolute",0,0,0,0,null,null,this);_a.set_readonly(this.readonly);_a.set_type("string");_a.set_maskchar(" ");_a.set_displaynulltext(this.displaynulltext);_a.createComponent(true);this.calendaredit=_a;this._edit_base_api=_a._edit_base_api;_a=null;this._setMask("dateformat",true,this.value);};_pCalendar._createDropbutton=function(){var _a=this.dropbutton=new nexacro.CalendarDropButtonCtrl("dropbutton","absolute",0,0,0,0,null,null,this);_a.createComponent(true);};_pCalendar._createSpinbutton=function(){var _a=new nexacro.CalendarSpinButtonCtrl("spinupbutton","absolute",0,0,0,0,null,null,this);var _b=new nexacro.CalendarSpinButtonCtrl("spindownbutton","absolute",0,0,0,0,null,null,this);_a.createComponent(true);_b.createComponent(true);this.spinupbutton=_a;this.spindownbutton=_b;_a=_b=null;};_pCalendar._createPopupcalendar=function(){var _a=new nexacro.DatePickerCtrl("popupcalendar","absolute",0,0,0,0,null,null,this);_a.createComponent(true);_a._setEnable(true);if(this.type=="monthonly"){_a._is_focus_accept=true;}else{_a._is_focus_accept=false;}this.popupcalendar=_a;_a=null;};_pCalendar._createPopupwindow=function(){var _a=new nexacro.CalendarPopupWindow("calendarpopup","absolute",0,0,0,0,null,null,this);_a.createComponent(true);this.popupwindow=_a;_a=null;};_pCalendar._createSystemCalendar=function(){var _a=new nexacro.CalendarEditCtrl("calendaredit","absolute",0,0,0,0,null,null,this);_a.set_readonly(this.readonly);_a.set_type("string");_a.set_maskchar(" ");_a.set_displaynulltext(this.displaynulltext);_a.createComponent(true);this.calendaredit=_a;this.calendaredit.setCaretPos(0);_a=null;};_pCalendar._applyAllProps=function(){var _a=this.getElement();if(_a){this.on_apply_editformat();this.on_apply_value();this.on_apply_dateformat();this.on_apply_innerdataset();this.on_apply_locale();this.on_apply_readonly();}};_pCalendar._applyDatepickerProps=function(){var _a=this.getElement();if(_a){var _b=this.popupcalendar;if(_b){_b._setEnable(true);_b.set_readonly(this.readonly);var _c=this._getPickerValue(this.value);_b.set_value(_c);this.on_apply_style_viewmonthspin(this.on_find_CurrentStyle_viewmonthspin(this._pseudo));this.on_apply_style_viewyearspin(this.on_find_CurrentStyle_viewyearspin(this._pseudo));this.on_apply_innerdataset();}}};_pCalendar._createNormaltypeControl=function(){var _a=this.getElement();if(_a){this._createCalendaredit();this._createDropbutton();this._setEventHandlerToCalendarEdit();this._setEventHandlerToDropButton();this._applyAllProps();if(this._is_created){var _b=this.popupwindow;var _c=this.popupcalendar;var _d=this.calendaredit;var _e=this.dropbutton;if(_d){_d.on_created();_d.style.set_align(this.currentstyle.align);}if(_e){_e.on_created();}}}};_pCalendar._createSpintypeControl=function(){var _a=this.getElement();if(_a){this._createCalendaredit();this._createSpinbutton();this._setEventHandlerToCalendarEdit();this._setEventHandlerToSpinButton();this._applyAllProps();if(this._is_created){var _b=this.calendaredit;var _c=this.spinupbutton;var _d=this.spindownbutton;if(_b){_b.on_created();_b.style.set_align(this.currentstyle.align);}if(_c){_c.on_created();}if(_d){_d.on_created();}}}};_pCalendar._createMonthlytypeControl=function(){var _a=this.getElement();if(_a){this._createPopupcalendar();this._setEventHandlerToPopupCalendar();this._applyDatepickerProps();if(this._is_created){var _b=this.popupcalendar;if(_b){_b.on_created();}}}};_pCalendar._createSystemtypeControl=function(){var _a=this.getElement();if(_a){this._createSystemCalendar();this._setEventHandlerToCalendarEdit();this._applyAllProps();if(this._is_created){var _b=this.calendaredit;if(_b){_b.on_created();_b.style.set_align(this.currentstyle.align);if(!nexacro._isDesktop()&&_b&&_b._input_element){if(this.type=="system"){_b._input_element.setElementInputType("date",true,this);}else{_b._input_element.setElementInputType("tel");}_b._input_element.setElementInputTypeKeypad("tel");}}}}};_pCalendar._setEventHandlerToCalendarEdit=function(){var _a=this.calendaredit;_a._setEventHandler("oneditclick",this.on_notify_oneditclick,this);_a._setEventHandler("onkeydown",this.on_notify_onkeydown,this);_a._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_a._setEventHandler("onlbuttonup",this.on_notify_onlbuttonup,this);_a._setEventHandler("ontouchstart",this.on_notify_mobile_onlbuttondown,this);_a._setEventHandler("ontextchange",this.on_notify_ontextchange,this);_a._setEventHandler("ontextchanged",this.on_notify_ontextchanged,this);_a._setEventHandler("cancharchange",this.on_notify_cancharchange,this);_a._setEventHandler("onchar",this.on_notify_onchar,this);};_pCalendar._setEventHandlerToDropButton=function(){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){this.dropbutton._setEventHandler("onlbuttondown",this.on_notify_ondropdown,this);}if(nexacro.OS!="Windows"||nexacro.Browser!="Runtime"){this.dropbutton._setEventHandler("ontap",this.on_notify_mobile_ondropdown,this);}};_pCalendar._setEventHandlerToSpinButton=function(){var _a=this.spinupbutton;var _b=this.spindownbutton;if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_a._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_a._setEventHandler("onclick",this.on_notify_onspinup,this);_b._setEventHandler("onlbuttondown",this.on_notify_onlbuttondown,this);_b._setEventHandler("onclick",this.on_notify_onspindown,this);}else{_a._setEventHandler("onlbuttondown",this.on_notify_mobile_onlbuttondown,this);_a._setEventHandler("onclick",this.on_notify_mobile_onspinup,this);_b._setEventHandler("onlbuttondown",this.on_notify_mobile_onlbuttondown,this);_b._setEventHandler("onclick",this.on_notify_mobile_onspindown,this);}};_pCalendar._setEventHandlerToPopupCalendar=function(){var _a=this.popupcalendar;_a._setEventHandler("ondayclick",this.on_notify_ondayclick,this);_a._setEventHandler("oncloseup",this.on_notify_oncloseup,this);};_pCalendar._setEventHandlerToPopupWindow=function(){};_pCalendar._destroyControl=function(){if(this.calendaredit){this.calendaredit.destroy();this.calendaredit=null;}if(this.dropbutton){this.dropbutton.destroy();this.dropbutton=null;}if(this.spinupbutton){this.spinupbutton.destroy();this.spinupbutton=null;}if(this.spindownbutton){this.spindownbutton.destroy();this.spindownbutton=null;}if(this.popupcalendar){this.popupcalendar.destroy();this.popupcalendar=null;}if(this.popupwindow){this.popupwindow.destroy();this.popupwindow=null;}};_pCalendar._destroyInnerdataset=function(){if(this._innerdataset){this._innerdataset._removeEventHandler("onvaluechanged",this._callback_onvaluechanged,this);this._innerdataset._removeEventHandler("onrowsetchanged",this._callback_rowsetchanged,this);this._innerdataset=null;}};_pCalendar.on_apply_prop_rtldirection=function(){nexacro.Component.prototype.on_apply_prop_rtldirection.call(this);this.on_change_containerRect(this._client_width,this._client_height);var _a=this._rtldirection;if(this.calendaredit){this.calendaredit._setRtlDirection(_a);}if(this.dropbutton){this.dropbutton._setRtlDirection(_a);}if(this.spinupbutton){this.spinupbutton._setRtlDirection(_a);}if(this.spindownbutton){this.spindownbutton._setRtlDirection(_a);}if(this.popupcalendar){this.popupcalendar._setRtlDirection(_a);}if(this.popupwindow){this.popupwindow._setRtlDirection(_a);}};_pCalendar._resizeCalendar=function(){var _a=this.getElement();if(_a){var _b=this.calendaredit;var _c=this.dropbutton;var _d=this.spinupbutton;var _e=this.spindownbutton;var _f=this._client_width;var _g=this._client_height;var _h=0;var _i=this.on_find_CurrentStyle_padding(this._pseudo);var _j=this.on_find_CurrentStyle_buttonsize(this._pseudo);var _k=_g;if(_j<0){var _l=_g;}else{var _l=_j;}switch(this.type){case "normal":if(!_c){return;}var _m=_c.on_find_CurrentStyle_margin(this._pseudo);var _n=_b.on_find_CurrentStyle_margin(this._pseudo);_l=_l-_m.left-_m.right;var _o=_f-_m.right-_l;var _p=_m.top;var _q=_l;var _r=_k-_m.top-_m.bottom;var _s=_n.left;var _t=_n.top;var _u=_o-_m.left-_n.right-1;var _v=_g-_n.top-_n.bottom;this.dropbutton.move(_o,_p,_q,_r,null,null);this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);this.dropbutton.set_visible(true);break;case "spin":if(!_b){return;}var _n=_b.on_find_CurrentStyle_margin(this._pseudo);var _w=_d.on_find_CurrentStyle_margin(this._pseudo);var _x=_e.on_find_CurrentStyle_margin(this._pseudo);var _y=_l-_w.left-_w.right;var _z=_l-_x.left-_x.right;if(_y>=_z){_l=_y;}else{_l=_z;}var _aa=_f-_w.right-_y;var _ab=_w.top;var _ac=_y;var _ad=(_k/2)-1;var _ae=_f-_x.right-_z;var _af=_ab+_ad+_x.top+1;var _ag=_z;var _ah=_ad-_x.bottom;var _s=_n.left;var _t=_n.top;var _u=_f-_l-1;var _v=_g-_n.top-_n.bottom;this.spinupbutton.move(_aa,_ab,_ac,_ad,null,null);this.spindownbutton.move(_ae,_af,_ag,_ah,null,null);this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);this.spinupbutton.set_visible(true);this.spindownbutton.set_visible(true);break;case "monthonly":if(!this.popupcalendar){return;}this._applyDatepickerProps();this._resizeDatePicker(false);this.popupcalendar.set_visible(true);break;case "system":if(!_b){return;}var _n=_b.on_find_CurrentStyle_margin(this._pseudo);var _s=_n.left;var _t=_n.top;var _u=_f-_n.left-_n.right;var _v=_g-_n.top-_n.bottom;this.calendaredit.move(_h,_t,_u,_v,null,null);this.calendaredit.set_visible(true);break;}}};_pCalendar._resizeDatePicker=function(_a){var _b=this.popupcalendar;if(!_b){return;}var _c=this._pseudo;var _d=this.on_find_CurrentStyle_padding(_c);var _e=this._client_width;var _f=this._client_height;if(_a){var _g=this._getPopupSizeArr();_b.resize(_g.width,_g.height);}else{var _h=_d.left;var _i=_d.top;var _j=_e-_d.right;var _k=_f+_d.bottom;_b.move(_h,_i,_j,_k,null,null);}};_pCalendar._update_popupwindow_position=function(){var _a=this.popupwindow;if(_a){var _b=this._getWindow();var _c=this._getPopupSizeArr();var _d=_a._control_element;var _e=nexacro._getElementPositionInFrame(this._control_element);var _f=this._getCumulativeZoomFactor()/100.0;var _g=_e.x;var _h=_e.y;var _i=this._adjust_height*_f;var _j=_g;var _k=_h+_i;var _l=_c.width;var _m=_c.height*_f;var _n=_g+_l;var _o=_h+_i+_m;var _p=_b.clientWidth;var _q=_b.clientHeight;var _r=_n-_p;if(this._getPopupType()=="center"){var _s=this._getOwnerFrame();if(!_s){return;}var _t=_s._getWindow();_s=_t?_t.frame:null;if(!_s){return;}_j=((_s.width/2)-(_d.width/2));_k=((_s.height/2)-(_d.height/2));_k=_k<0?0:_k;}if(_n>_p&&_g>_r){_j=_j-_r;}if(_g<0){_j= -_g;}if(_h>_m&&_h+_i+_m>_q){_k=_k-_m-_i;}_d.setElementPosition(_j,_k);}};_pCalendar._showPopup=function(){if(this.type!="normal"){return;}var _a=this.popupcalendar;var _b=this.popupwindow;if(_b==null){this._createPopupwindow();_b=this.popupwindow;}if(_a==null){this._createPopupcalendar();this._setEventHandlerToPopupCalendar();this._applyDatepickerProps();_a=this.popupcalendar;}if(!_b._is_created){_b.on_created();}if(!_a._is_created){_b._attach(_a);_a.on_created();}this.on_apply_prop_rtldirection();var _c=this._getPopupSizeArr();var _d=nexacro._getElementPositionInFrame(this._control_element);var _e=this._getCumulativeZoomFactor()/100.0;var _f=_d.x;var _g=_d.y;var _h=this._adjust_height*_e;var _i=0;var _j=_h;var _k=_c.width;var _l=_c.height;var _m=_f+_k;var _n=_g+_h+_l;var _o=this._getWindow();var _p=_o.clientWidth;var _q=_o.clientHeight;var _r=_m-_p;if(_m>_p&&_f>_r){_i=_i-_r;}if(_f<0){_i= -_f;}if(_g>_l&&_n>_q){_j= -(_l*_e);}var _s=_b.getElement();if(_s.setZoom){_s.setZoom(_e*100);}else if(nexacro.ScrollableContainerElement.prototype.setZoom){nexacro.ScrollableContainerElement.prototype.setZoom.call(_s,_e*100);}if(this._getPopupType()=="center"){this._centerPopup(_b,_k,_l);}else{_i=this._convertLeftForRtlLayout(_i,_k);if(this._isRtl()){_i= -_i;}_b._popupBy(this,_i,_j,_k,_l);}var _o=this._getWindow();if(_o&&this._track_capture){_o._setCaptureLock(this,true,false);}};_pCalendar._setMask=function(_a,_b,_c){if(this._getPopupType()!="system"&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4&&(_c==null||_c==undefined||_c=="")){return;}var _d=this._makeMask(_a,_c);if(_a=="dateformat"&&_c==""&&this.displaynulltext!=""){this._mask=this.displaynulltext;}else{if((_a=="dateformat"&&this.dateformat=="LONGDATE")||(_a=="editformat"&&this.editformat=="LONGDATE")){_d=_d.replace(/\'/g,"\\'");_d=_d.replace(/a/g,"\\a");}this._mask=_d;}this._on_apply_mask(this._mask,_b);};_pCalendar._on_apply_mask=function(_a,_b){var _c=this.getElement();if(_c){var _d=this.calendaredit;if(_d){_d.set_mask(_a,_b);}}};_pCalendar._isDateMaskChar=function(_a){if(_a=="y"||_a=="M"||_a=="d"||_a=="H"||_a=="h"||_a=="m"||_a=="s"){return true;}return false;};_pCalendar._isDateMaskString=function(_a){if(_a==="yyyy"||_a==="yy"||_a==="MMMM"||_a==="MMM"||_a==="MM"||_a==="M"||_a==="dddd"||_a==="ddd"||_a==="dd"||_a==="d"){return true;}return false;};_pCalendar._isTimeMaskString=function(_a){if(_a==="HH"||_a==="H"||_a==="hh"||_a==="h"||_a==="mm"||_a==="m"||_a==="s"||_a==="ss"||_a==="sss"){return true;}return false;};_pCalendar._isEmptyStr=function(_a){var _b=_a.toString();if(_b===""||_b.trim()===""){return true;}return false;};_pCalendar._isNullDate=function(_a){if(_a===null||_a==="null"){return true;}var _b=_a.toString();if(_b=="NaN"){return true;}return false;};_pCalendar._isUndefinedDate=function(_a){if(_a===undefined||_a==="undefined"){return true;}return false;};_pCalendar._isPopupVisible=function(){var _a=false;if(this.type!="monthonly"){if(this.popupwindow){_a=this.popupwindow.visible;}}return _a;};_pCalendar._validationDateStr=function(_a,_b){if(_a!==null||_a!==undefined){_a=parseInt(_a,10);if(_b=="year"){return (_a/10<1?"000":_a/100<1?"00":_a/1000<1?"0":"")+_a;}else if(_b=="millisec"){return (_a/10<1?"00":_a/100<1?"0":"")+_a;}else{return (_a/10<1?"0":"")+_a;}}else{return _a;}};_pCalendar._isValidDate=function(_a){if(_a===""){return true;}var _b=this.calendaredit;var _c=_b._edit_base_api;var _d=this._editformat_info;var _e=_d.format.length;var _f=_c._getText();var _g="";var _h="";var _i="";var _j="";var _k="";var _l="";var _m="";var _n=false;var _o=false;var _p=false;var _q=false;var _r=false;var _s=false;var _t=false;var _u= -1;var _v=false;var _w=false;if(_d._mon&&_d._mon.length==1){if(_e<_f.length){_v=true;}}if(_d._day&&_d._day.length==1){if(_e<_f.length){_w=true;}}var _x=/[0-9]/;var _y=0;for(var _ad=0;_ad<_e;_ad++ ){var _z=_d.format_info[_ad].ch;if(_z=="y"){_g+=_f.charAt(_y++ );}else if(_z=="M"){if(_v){var _aa=_f.charAt(_y++ );if(_x.test(_aa)==true){_h+=_aa;}if(_y<_f.length){_aa=_f.charAt(_y);if(_x.test(_aa)==true){_y++ ;_h+=_aa;}else if(_ad+1<_e&&_aa!=_d.format_info[_ad+1].ch){_y++ ;}}}else{_h+=_f.charAt(_y++ );}}else if(_z=="d"){if(_w){var _aa=_f.charAt(_y++ );if(_x.test(_aa)==true){_i+=_aa;}if(_y<_f.length){_aa=_f.charAt(_y);if(_x.test(_aa)==true){_y++ ;_i+=_aa;}else if(_ad+1<_e&&_aa!=_d.format_info[_ad+1].ch){_y++ ;}}}else{_i+=_f.charAt(_y++ );}}else if(_z=="h"||_z=="H"){_j+=_f.charAt(_y++ );}else if(_z=="m"){_k+=_f.charAt(_y++ );}else if(_z=="s"){if(_u== -1){if(_ad+2<_e&&"s"==_d.format_info[_ad+1].ch&&"s"==_d.format_info[_ad+2].ch){_u=_ad;}}if(_u!= -1&&_u+2>=_ad){_m+=_f.charAt(_y++ );}else{_l+=_f.charAt(_y++ );}}else{_y++ ;}}_g=parseInt(_g,10);_h=parseInt(_h,10);_i=parseInt(_i,10);_j=parseInt(_j,10);_k=parseInt(_k,10);_l=parseInt(_l,10);_m=parseInt(_m,10);if(_g>=0){_n=true;}if(_h>=0){_o=true;}if(_i>=0){_p=true;}if(_j>=0){_q=true;}if(_k>=0){_r=true;}if(_l>=0){_s=true;}if(_m>=0){_t=true;}var _ab=31;if(_g&&_h){_ab=this._getEndDay(_g,_h);}else if(!_g&&_h){var _ac=new Date();_ab=this._getEndDay(_ac.getFullYear(),_h);_ac=null;}if((_o&&_h>12)||(_p&&_i>_ab)||(_q&&_j>=24)||(_r&&_k>=60)||(_s&&_l>=60)){return false;}return true;};_pCalendar._makeMask=function(_a,_b){if(_a=="dateformat"){var _c=this.dateformat;var _d=this._dateformat_info;}else{var _c=this.editformat;var _d=this._editformat_info;}var _e=0;var _f="";var _g=0;var _h="";var _i=0;var _j=0;var _k="";var _l=0;var _m=false;var _n=false;if(_b){_g=_b.getDay();_j=_b.getMonth();}while(_e<_d.format.length){var _o="";var _p=0;if(_d._year&&_d._year.index==_e){if(_a=="dateformat"){if(_m){if(_d._mon&&(_d._year.index>_d._mon.index)){_f+="~";}}else if(_n){if(_d._date&&(_d._year.index>_d._date.index)){_f+="~";}}}_f+=this._makeMaskString(_d._year,"year",_b);_e+=_d._year.length;}else if(_d._mon&&_d._mon.index==_e){_p=_d._mon.mask.length;if(_p==4){if(_b&&_a=="dateformat"){_k=this._monthlistL[_j];if(!this._isRtl()&&this._locale_direction=="rtl"){_m=true;}}else{_k="MMMM";}if(_k&&_k.length){_l=_k.length;}for(var _s=0;_s<_l;_s++ ){_o+="^";}}else{_o+=this._makeMaskString(_d._mon,"month",_b);}_f+=_o;_e+=_d._mon.length;}else if(_d._day&&_d._day.index==_e){_f+=this._makeMaskString(_d._day,"day",_b);_e+=_d._day.length;}else if(_d._date&&_d._date.index==_e){_p=_d._date.mask.length;if(_p==3){if(_b){_h=this._datelistS[_g];}else{_h=this._datelistS[0];var _q=_p;if(_h&&_h.length){_q=_h.length;}_h="";for(var _t=0;_t<_q;_t++ ){_h+="d";}}if(_h&&_h.length){_i=_h.length;}for(var _s=0;_s<_i;_s++ ){_o+="~";}}else if(_p==4){if(_b&&_a=="dateformat"){_h=this._datelistL[_g];if(!this._isRtl()&&this._locale_direction=="rtl"){_n=true;}}else{_h="dddd";}_i=_h.length;for(var _s=0;_s<_i;_s++ ){if(_h.charAt(_s)=="-"){_o+=_h.charAt(_s);}else{_o+="^";}}}_f+=_o;_e+=_d._date.length;}else if(_d._hour&&_d._hour.index==_e){_f+=this._makeMaskString(_d._hour,"hour",_b);_e+=_d._hour.length;}else if(_d._min&&_d._min.index==_e){_f+=this._makeMaskString(_d._min,"min",_b);_e+=_d._min.length;}else if(_d._sec&&_d._sec.index==_e){_f+=this._makeMaskString(_d._sec,"sec",_b);_e+=_d._sec.length;}else if(_d._millisec&&_d._millisec.index==_e){_f+=this._makeMaskString(_d._millisec,"millisec",_b);_e+=_d._millisec.length;}else{var _r=_d.format_info[_e].ch;_f+=_r;_e++ ;}}return _f;};_pCalendar._makeMaskString=function(_a,_b,_c){var _d=_c;var _e=null;var _f=_a.length;var _g=0;var _h="";var _i="";var _j=this._currentformat;if(_b=="year"){_g=_f;_i="y";}else if(_b=="month"||_b=="day"||_b=="min"||_b=="sec"){if(_d){if(_b=="month"){_e=_d.getMonth();_e+=1;_i="M";}else if(_b=="day"){_e=_d.getDate();_i="d";}else if(_b=="min"){_e=_d.getMinutes();_i="m";}else if(_b=="sec"){_e=_d.getSeconds();_i="s";}if((_f==1)&&(_e<10)&&_j=="dateformat"){_g=1;}else{_g=2;}}else{if(_j=="dateformat"){_g=_f;}else{_g=2;}_i=_a.mask.charAt(0);}}else if(_b=="hour"){if(_d){_e=_d.getHours();if(_a.mask==="h"){if(_e>12&&_e<24){_e-=12;if(_e<10&&_j=="dateformat"){_g=1;}else{_g=2;}}_i="h";}else if(_a.mask==="H"){if(_e<10&&_j=="dateformat"){_g=1;}else{_g=2;}_i="H";}else{_g=2;_i=_a.mask.charAt(0);}}else{_g=_f;_i=_a.mask.charAt(0);}}else if(_b=="millisec"){_g=3;_i="l";}for(var _k=0;_k<_g;_k++ ){_h+=_i;}return _h;};_pCalendar._makeMaskValue_normal=function(_a,_b,_c){var _d="",_e="",_f="",_g="",_h="",_i="",_j="";var _k="";var _l=null;var _m=false;var _n=false;_d=_a.substr(0,4);_e=_a.substr(4,2);_f=_a.substr(6,2);_d=_d!=""?_d:"0000";_e=_e!=""?_e:"00";_f=_f!=""?_f:"00";_g=_a.length>=9?_a.substr(8,2):"00";_h=_a.length>=11?_a.substr(10,2):"00";_i=_a.length>=13?_a.substr(12,2):"00";_j=_a.length>=15?_a.substr(14,3):"000";if(_b){_l=_b;}else{if(this._currentformat=="dateformat"){_l=this._dateformat_info;}else{_l=this._editformat_info;}}for(var _t=0,_u=_l.format.length;_t<_u;_t++ ){if(_l._year&&_l._year.index==_t){if(_l._year.mask==="yy"){_d=_d.substr(2,2);}if(this._currentformat=="dateformat"){if(_m){if(_l._mon&&(_l._year.index>_l._mon.index)){_d="\u200e"+_d;}}else if(_n){if(_l._date&&(_l._year.index>_l._date.index)){_d="\u200e"+_d;}}}_k+=_d;}if(_l._mon&&_l._mon.index==_t){if(_l._mon.mask==="M"){if(_e.charAt(0)==="0"){if(this._currentformat=="dateformat"){_e=_e.substr(1,1);}else{_e=_e.replace("0"," ");}_l._mon.single_digit=true;}else{_l._mon.single_digit=false;}}else if(_l._mon.mask==="MMMM"){if(this._currentformat=="editformat"){if(!_c){_e="MMMM";}else{var _o=this._getDateObj(_a);var _p=_o.getMonth()+1;_e=nexacro._toString(_p).padLeft(4,"0");}}else{var _o=this._getDateObj(_a);var _p=_o.getMonth();_e=this._monthlistL[_p];if(!this._isRtl()&&this._locale_direction=="rtl"){_m=true;}}}_k+=_e;}if(_l._day&&_l._day.index==_t){if(_l._day.mask==="d"){if(_f.charAt(0)==="0"){if(this._currentformat=="dateformat"){_f=_f.substr(1,1);}else{_f=_f.replace("0"," ");}_l._day.single_digit=true;}else{_l._day.single_digit=false;}}_k+=_f;}if(_l._date&&_l._date.index==_t){var _o=this._getDateObj(_a);var _q=_o.getDay();var _r=this._datelistS[_q];if(_l._date.mask==="dddd"){if(this._currentformat=="editformat"){_r=_l._date.mask;}else{_r=this._datelistL[_q];if(!this._isRtl()&&this._locale_direction=="rtl"){_n=true;}}}_k+=_r?_r:"";}if(_l._hour&&_l._hour.index==_t){if(_l._hour.mask==="h"||_l._hour.mask==="hh"){var _s=parseInt(_g);if(_s>12&&_s<24){_s-=12;_g=nexacro._toString(_s);}}if(!((_l._hour.mask==="h"||_l._hour.mask==="H")&&_g.length>0)){_g=_g.padLeft(2,"0");}_k+=_g;}if(_l._min&&_l._min.index==_t){if(_l._min.mask==="m"&&_h.charAt(0)==="0"){_h=_h.substr(1,1);}else{_h=_h.padLeft(_l._min.length,"0");}_k+=_h;}if(_l._sec&&_l._sec.index==_t){if(_l._sec.mask==="s"&&_i.charAt(0)==="0"){_i=_i.substr(1,1);}else{_i=_i.padLeft(_l._sec.length,"0");}_k+=_i;}if(_l._millisec&&_l._millisec.index==_t){_k+=_j;}}return _k;};_pCalendar._makeMaskValue_timeOnly=function(_a,_b){var _c=month=day=hour=min=sec=millisec="";var _d=0;var _e="";var _f=null;if(_b){_f=_b;}else{if(this._currentformat=="dateformat"){_f=this._dateformat_info;}else{_f=this._editformat_info;}}for(var _k=0,_l=_f.format.length;_k<_l;_k++ ){if(_f._year&&_f._year.index==_k){_c=_a.substr(_d,_f._year.length);_e+=_c;_d+=_f._year.length;}if(_f._mon&&_f._mon.index==_k){month=_a.substr(_d,_f._mon.length);_e+=month;_d+=_f._mon.length;}if(_f._day&&_f._day.index==_k){day=_a.substr(_d,_f._day.length);_e+=day;_d+=_f._day.length;}if(_f._date&&_f._date.index==_k){var _g=this._getDateObj(_a);var _h=_g.getDay();var _i=this._datelistS[_h];if(_f._date.mask==="dddd"){if(this._currentformat=="editformat"){_i=_f._date.mask;}else{_i=this._datelistL[_h];}}_e+=_i?_i:"";_d+=_f._date.length;}if(_f._hour&&_f._hour.index==_k){hour=_a.substr(_d,_f._hour.length).padLeft(_f._hour.length,"0");if(_f._hour.mask==="h"||_f._hour.mask==="hh"){var _j=parseInt(hour);if(_j>12&&_j<24){_j-=12;hour=nexacro._toString(_j);}}if(!((_f._hour.mask==="h"||_f._hour.mask==="H")&&hour.length>0)){hour=hour.padLeft(2,"0");}_e+=hour;_d+=_f._hour.length;}if(_f._min&&_f._min.index==_k){min=_a.substr(_d,_f._min.length);if(_f._min.mask==="m"&&min.charAt(0)==="0"){min=min.substr(1,1);}else{min=min.padLeft(_f._min.length,"0");}_e+=min;_d+=_f._min.length;}if(_f._sec&&_f._sec.index==_k){sec=_a.substr(_d,_f._sec.length).padLeft(_f._sec.length,"0");if(_f._sec.mask==="s"&&sec.charAt(0)==="0"){sec=sec.substr(1,1);}else{sec=sec.padLeft(_f._sec.length,"0");}_e+=sec;_d+=_f._sec.length;}if(_f._millisec&&_f._millisec.index==_k){millisec=_a.substr(_d,_f._millisec.length).padLeft(_f._millisec.length,"0");_e+=millisec;_d+=_f._millisec.length;}}return _e;};_pCalendar._makeMaskValue=function(_a,_b){if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return "";}if(this._isEmptyStr(_a)){return "";}if(this._currentformat=="dateformat"){var _c=this._dateformat_info;}else{var _c=this._editformat_info;}if(_c._year||_c._mon||_c._day){return this._makeMaskValue_normal(_a,_c,_b);}else{return this._makeMaskValue_timeOnly(_a,_c);}};_pCalendar._makeSpinValue=function(_a,_b,_c){var _d=this.editformat;var _e=this._getFullValueFromDisplayText(_a);var _f=this._getSplitDate(_e);if(_d=="SHORTDATE"||_d=="LONGDATE"){var _g=this._getLocale();if(!_g){_g=nexacro.BrowserLang;}_d=nexacro.Locale._makeDateMaskString(_g,_d);var _h=_d.indexOf("M");var _i=_d.indexOf("d");if(_d.slice(_h,_h+2)!="MM"){_d=_d.replace("M","MM");}if(_d.slice(_i,_i+2)!="dd"){_d=_d.replace("d","dd");}if(_f.mon=="MM"){_f.mon=nexacro._toString(this.value.getMonth()+1).padLeft(2,"0");}}if(_c>=0){var _j=_d.substring(_c,_c+1);var _k=this._mask.substring(_c,_c+1);var _l=this._mask.substring(_c-1,_c);var _m="yMdHhmsl";if(!this._isDateMaskChar(_j)&&(_m.indexOf(_k)>=0||_m.indexOf(_l)>=0)){while(!this._isDateMaskChar(_j)){_c-- ;_j=_d.substring(_c,_c+1);}_s=_j;}else{_s=_j;}if(_s=="d"){var _n=_d.indexOf("dddd");var _o=_d.indexOf("ddd");if(_n>=0&&_c>=_n&&_c<=(_n+3)){_s="";}if(_o>=0&&_c>=_o&&_c<=(_o+2)){_s="";}}if(_s=="y"){var _p=parseInt(_f.year,10)+_b;if(_p<0){_p=9999;}else if(_p>9999){_p=0;}_f.year=this._validationDateStr(_p,"year");var _q=""+this._getEndDay(_f.year,_f.mon);if(parseInt(_f.day,10)>_q){_f.day=""+_q;}}else if(_s=="M"){var _r=parseInt(_f.mon,10)+_b;if(_r<1){_r=12;}else if(_r>12){_r=1;}_f.mon=this._validationDateStr(_r);var _q=""+this._getEndDay(_f.year,_f.mon);if(parseInt(_f.day,10)>_q){_f.day=""+_q;}}else if(_s=="d"){var _q=parseInt(_f.day,10)+_b;var _s=parseInt(this._getEndDay(_f.year,_f.mon),10);if(_q<1){_f.day=""+_s;}else{if(_q>_s){_q=1;}_f.day=this._validationDateStr(_q);}}else if(_s=="H"||_s=="h"){var _t=parseInt(_f.hour,10)+_b;if(_t<0){_t=23;}else if(_t>23){_t=0;}_f.hour=this._validationDateStr(_t);}else if(_s=="m"){var _r=parseInt(_f.min,10)+_b;if(_r<0){_r=59;}else if(_r>59){_r=0;}_f.min=this._validationDateStr(_r);}else if(_s=="s"){var _u=parseInt(_f.sec,10)+_b;if(_u<0){_u=59;}else if(_u>59){_u=0;}_f.sec=this._validationDateStr(_u);}}var _v=this._editformat_info;var _w=null;var _x=null;if(_v._year||_v._mon||_v._day){_w=true;}if(_v._hour||_v._min||_v._sec||_v._millisec){_x=true;}var _y="";if(_w){if(_v._year&&_f.year){_y+=this._validationDateStr(_f.year,"year");}else{_y+="0000";}if(_v._mon&&_f.mon){_y+=this._validationDateStr(_f.mon);}else{_y+="00";}if(_v._day&&_f.day){_y+=this._validationDateStr(_f.day);}else{_y+="00";}}if(_x){if(_v._hour&&_f.hour){_y+=this._validationDateStr(_f.hour);}else{_y+="00";}if(_v._min&&_f.min){_y+=this._validationDateStr(_f.min);}else{_y+="00";}if(_v._sec&&_f.sec){_y+=this._validationDateStr(_f.sec);}else{_y+="00";}if(_v._millisec&&_f.millisec){_y+=this._validationDateStr(_f.millisec,"millisec");}else{_y+="000";}}return _y;};_pCalendar._makeNormalValue1=function(_a){var _b=this._editformat_info;var _c=0;var _d,_e,_f;if(_b._year){_c=0;if(_b._mon&&_b._year.index>_b._mon.index){if(_b._mon.length==1){_c++ ;}}if(_b._day&&_b._year.index>_b._day.index){if(_b._day.length==1){_c++ ;}}_d=_a.substr(_b._year.index+_c,_b._year.length);_d=_d.trim();}else{_d="";}if(_b._mon){_c=0;if(_b._day&&_b._mon.index>_b._day.index){if(_b._day.length==1){_c++ ;}}_e=_a.substr(_b._mon.index+_c,2);_e=_e.trim();if(_b._mon.length==4){_e=_e.substr(2,2);if(_e=="MM"){var _g=this.value;_g=_g?(_g.getMonth()+1):"";_e=nexacro._toString(_g).padLeft(2,"0");}}else if(_e){_e=_e.padLeft(2,"0");}}else{_e="";}if(_b._day){_c=0;if(_b._mon&&_b._day.index>_b._mon.index){if(_b._mon.length==1){_c++ ;}}_f=_a.substr(_b._day.index+_c,2);_f=_f.trim();if(_f){_f=_f.padLeft(2,"0");}}else{_f="";}var _h=_b._hour?_a.substr(_b._hour.index,_b._hour.length).padLeft(2,"0"):"";var _i=_b._min?_a.substr(_b._min.index,_b._min.length).padLeft(2,"0"):"";var _j=_b._sec?_a.substr(_b._sec.index,_b._sec.length).padLeft(2,"0"):"";var _k=_b._millisec?_a.substr(_b._millisec.index,_b._millisec.length).padLeft(3,"0"):"";var _l=_d+_e+_f+_h+_i+_j+_k;return (_l===""&&this.displaynulltext!=="")?"":_l;};_pCalendar._getDateObjFromDisplayText=function(_a){var _b=this._getFullValueFromDisplayText(_a);if(_b==null||_b==""){return "";}var _c;var _d;var _e;var _f;var _g;var _h;var _i;var _j=this._editformat_info;var _k=null;var _l=null;if(_j._year||_j._mon||_j._day){_k=true;}if(_j._hour||_j._min||_j._sec||_j._millisec){_l=true;}var _m=0;if(_k){if(_b.length>=4){_c=_b.substr(0,4);}if(_b.length>=6){_d=_b.substr(4,2);}if(_b.length>=8){_e=_b.substr(6,2);}_m=8;}if(_l){if(_b.length>=(_m+2)){_f=_b.substr(_m,2);_m+=2;}if(_b.length>=(_m+2)){_g=_b.substr(_m,2);_m+=2;}if(_b.length>=(_m+2)){_h=_b.substr(_m,2);_m+=2;}if(_b.length>=(_m+3)){_i=_b.substr(_m,3);}}if(this.value){if(_k){if(_c=="0000"&&this._editformat_info._year==null){_c=this.value.getYear();}if(_d=="00"&&this._editformat_info._mon==null){_d=this.value.getMonth()+1;}if(_e=="00"&&this._editformat_info._day==null){_e=this.value.getDate();}}if(_l){if(_f=="00"&&this._editformat_info._hour==null){_f=this.value.getHours();}if(_g=="00"&&this._editformat_info._min==null){_g=this.value.getMinutes();}if(_h=="00"&&this._editformat_info._sec==null){_h=this.value.getSeconds();}}}if(_d){var _n=parseInt(_d,10);if(_n<=0||_n>12){_n=1;}if(_d.length==2&&_n.toString().length==1){_d="0"+_n.toString();}else{_d=_n.toString();}}if(_e){var _o=parseInt(_e,10);if(_o<1||_o>31){if(_e.length==1){_e="1";}else{_e="01";}}}if(_l){if(_k==null){var _p=new nexacro.Date(0,0,1,_f,_g,_h,_i);_p._timeonly=true;return _p;}if(_d!="00"&&_d!="0"){return new nexacro.Date(_c,_d-1,_e,_f,_g,_h,_i);}return new nexacro.Date(_c,_d,_e,_f,_g,_h,_i);}if(_d!="00"&&_d!="0"){return new nexacro.Date(_c,_d-1,_e);}return new nexacro.Date(_c,_d,_e);};_pCalendar._adjust_refer_index=function(_a,_b){if(_b&&_b.index<_a.index){if(_b.length==1){return 1;}}return 0;};_pCalendar._adjust_refer_index_with_week=function(_a,_b){if(_b&&_b.index<_a.index){if(_b.mask.length==3){var _c=0;var _d=0;if(this._datelistS[_d]){_c=this._datelistS[_d].length;}if(_b.mask.length==_c){return 0;}if(_b.mask.length>_c){return  -(_b.mask.length-_c);}if(_b.mask.length<_c){return _c-_b.mask.length;}}}return 0;};_pCalendar._getFullValueFromDisplayText=function(_a){var _b=this._editformat_info;var _c=0;if(_b==null){return "";}var _d,_e,_f;if(_b._year){_c=0;_c+=this._adjust_refer_index(_b._year,_b._mon);_c+=this._adjust_refer_index(_b._year,_b._day);_c+=this._adjust_refer_index_with_week(_b._year,_b._date);_d=_a.substr(_b._year.index+_c,_b._year.length);_d=_d.trim();if(_d.length>0&&_b._year.length==2){var _g=this._postvalue;if(_g==null){_g=this.value;}if(_g==null){_g=new nexacro.Date();}if(_g){var _h=_g.toString().substring(0,2);if(_d.length==2){_d=_h+_d;}else if(_d.length==1){_d=_h+"0"+_d;}}}}else{_d="";}if(_b._mon){_c=0;_c+=this._adjust_refer_index(_b._mon,_b._year);_c+=this._adjust_refer_index(_b._mon,_b._day);_c+=this._adjust_refer_index_with_week(_b._mon,_b._date);_e=_a.substr(_b._mon.index+_c,2);_e=_e.trim();if(_b._mon.length==4){_e=_e.substr(2,2);if(_e=="MM"){var _i=this.value;_i=_i?(_i.getMonth()+1):"";_e=nexacro._toString(_i).padLeft(2,"0");}}else if(_e){_e=_e.padLeft(2,"0");}}else{_e="";}if(_b._day){_c=0;_c+=this._adjust_refer_index(_b._day,_b._year);_c+=this._adjust_refer_index(_b._day,_b._mon);_c+=this._adjust_refer_index_with_week(_b._day,_b._date);_f=_a.substr(_b._day.index+_c,2);_f=_f.trim();if(_f){_f=_f.padLeft(2,"0");}}else{_f="";}var _j="";if(_b._hour){_c=0;_c+=this._adjust_refer_index(_b._hour,_b._year);_c+=this._adjust_refer_index(_b._hour,_b._mon);_c+=this._adjust_refer_index(_b._hour,_b._day);_c+=this._adjust_refer_index_with_week(_b._hour,_b._date);_j=_a.substr(_b._hour.index+_c,_b._hour.length).padLeft(2,"0");}var _k="";if(_b._min){_c=0;_c+=this._adjust_refer_index(_b._min,_b._year);_c+=this._adjust_refer_index(_b._min,_b._mon);_c+=this._adjust_refer_index(_b._min,_b._day);_c+=this._adjust_refer_index_with_week(_b._min,_b._date);_k=_a.substr(_b._min.index+_c,_b._min.length).padLeft(2,"0");}var _l="";if(_b._sec){_c=0;_c+=this._adjust_refer_index(_b._sec,_b._year);_c+=this._adjust_refer_index(_b._sec,_b._mon);_c+=this._adjust_refer_index(_b._sec,_b._day);_c+=this._adjust_refer_index_with_week(_b._sec,_b._date);_l=_a.substr(_b._sec.index+_c,_b._sec.length).padLeft(2,"0");}var _m="";if(_b._millisec){_c=0;_c+=this._adjust_refer_index(_b._millisec,_b._year);_c+=this._adjust_refer_index(_b._millisec,_b._mon);_c+=this._adjust_refer_index(_b._millisec,_b._day);_c+=this._adjust_refer_index_with_week(_b._millisec,_b._date);_m=_a.substr(_b._millisec.index+_c,_b._millisec.length).padLeft(3,"0");}var _n=_d.trim()+_e.trim()+_f.trim()+_j.trim()+_k.trim()+_l.trim()+_m.trim();if(_n&&_n.length){_n="";if(_b._year||_b._mon||_b._day){_n+=(_d.trim().length?_d:"0000")+(_e.trim().length?_e:"00")+(_f.trim().length?_f:"00");}if(_b._hour||_b._min||_b._sec||_b._millisec){_n+=(_j.trim().length?_j:"00")+(_k.trim().length?_k:"00")+(_l.trim().length?_l:"00")+(_m.trim().length?_m:"000");}}return (_n===""&&this.displaynulltext!=="")?"":_n;};_pCalendar._makeCalendarText=function(_a){if(!_a){return "";}var _b=this._currentformat;this._currentformat="dateformat";var _c=this._makeMaskValue(_a?_a.toString():"");var _d=this._makeMask("dateformat",this._makeDateObj(_a));var _e=0;var _f="";var _g="yMdHhmsl";this._currentformat=_b;for(var _i=0,_j=_d.length;_i<_j;_i++ ){var _h=_d.charAt(_i);if(_g.indexOf(_h)>=0){_f+=_c.charAt(_e);_e++ ;}else{if(_h==="~"||_h==="^"){_f+=_c.charAt(_e);_e++ ;}else{_f+=_h;}}}return _f;};_pCalendar._makeDateObj=function(_a){if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return null;}if(this._isEmptyStr(_a)){return "";}if(_a._type_name=="Date"){return _a;}if(this._currentformat=="dateformat"){var _b=this._dateformat_info;}else{var _b=this._editformat_info;}var _c=new Object();var _d=mon=day=hour=min=sec=millisec="";var _e=0;var _f="";var _g=null;var _h=_a;var _a=this._makeMaskValue(_a,true);var _i=0;for(var _m=0,_n=_b.format.length;_m<_n;_m++ ){if(_b._year&&_b._year.index==_m){if(_b._year.length==2){_d=_h.substr(0,2);_d+=_a.substr(_e,_b._year.length);}else{_d=_a.substr(_e,_b._year.length);}_e+=_b._year.length;}if(_b._mon&&_b._mon.index==_m){_i=_b._mon.length;if(_i==1){if(this._currentformat=="dateformat"&&_b._mon.single_digit){mon=_a.substr(_e,_i);}else{mon=_a.substr(_e,2);_i=2;}}else if(_i==2){mon=_a.substr(_e,_i);}else{var _j=this._getDateObj(_h);mon=_j.getMonth();month=this._monthlistL[mon];mon=mon+1;_i=month.length;}_e+=_i;}if(_b._day&&_b._day.index==_m){_i=_b._day.length;if((_b._day.length==1&&!_b._day.single_digit)||this._currentformat=="editformat"){day=_a.substr(_e,2);_i=2;}else{day=_a.substr(_e,_b._day.length);}_e+=_i;}if(_b._date&&_b._date.index==_m){_i=_b._date.length;{var _j=this._getDateObj(_h);var _k=_j.getDay();if(_k){_g=this._datelistS[_k];}else{_g=this._datelistS[0];}if(_b._date.mask==="dddd"){if(this._currentformat=="editformat"){_g=_a.substr(_e,_i);}else{_g=this._datelistL[_k];}}_i=_g.length;}_e+=_i;}if(_b._hour&&_b._hour.index==_m){hour=_a.substr(_e,_b._hour.length).padLeft(_b._hour.length,"0");if(_b._hour.mask==="hh"){var _l=parseInt(hour);if(_l>12&&_l<24){_l-=12;hour=nexacro._toString(_l);hour=hour.padLeft(2,"0");}}_e+=_b._hour.length;}if(_b._min&&_b._min.index==_m){min=_a.substr(_e,_b._min.length).padLeft(_b._min.length,"0");_e+=_b._min.length;}if(_b._sec&&_b._sec.index==_m){sec=_a.substr(_e,_b._sec.length).padLeft(_b._sec.length,"0");_e+=_b._sec.length;}if(_b._millisec&&_b._millisec.index==_m){millisec=_a.substr(_e,_b._millisec.length).padLeft(_b._millisec.length,"0");_e+=_b._millisec.length;}}_c.year=parseInt(_d,10);_c.mon=parseInt(mon,10);_c.day=parseInt(day,10);_c.hour=parseInt(hour,10);_c.min=parseInt(min,10);_c.sec=parseInt(sec,10);_c.millisec=parseInt(millisec,10);if((_c.year!=undefined||_c.year>0)&&(_c.mon>0&&_c.mon<=12)){_c.mon-=1;}else{_c.mon=0;}if(!(_c.day>=1&&_c.day<=31)){_c.day=1;}if(!(_b._hour||_b._min||_b._sec||_b._millisec)){if(_c.day){_g=new nexacro.Date(_c.year,_c.mon,_c.day);}else{_g=new nexacro.Date(_c.year,_c.mon);}_g._timecheck=false;}else{_g=new nexacro.Date(_c.year,_c.mon,_c.day,_c.hour,_c.min,_c.sec,_c.millisec);if(this._isTimeMask()){_g._timeonly=true;}}_c=null;try{return _g;}finally{_g=null;}};_pCalendar._isTimeMask=function(){var _a;if(this._currentformat=="dateformat"){_a=this._dateformat_info;}else{_a=this._editformat_info;}if(_a._year||_a._mon||_a._day){return false;}if(_a._hour||_a._min||_a._sec||_a._millisec){return true;}return false;};_pCalendar._toValueStr=function(_a){var _b="";if(this._isUndefinedDate(_a)){return;}if(this._isNullDate(_a)){return null;}else if(this._isEmptyStr(_a)){return "";}else if(typeof _a!="object"){_b=_a;}else{_b=_a.toString();}if(this._currentformat=="dateformat"){var _c=this._dateformat_info;}else{var _c=this._editformat_info;}var _d="";var _e="";var _f="";var _g="";var _h="";var _i="";var _j="";var _k=0;var _l="";if(!this._isTimeMask()){if(_c._year){_d=_b.substr(_k,4);_l+=_d;}_k+=4;if(_c._mon){_e=_b.substr(_k,2);_l+=_e;}_k+=2;if(_c._day){_f=_b.substr(_k,2);_l+=_f;}_k+=2;}else if(_a instanceof nexacro.Date||_b.length>9){_k=_b.length-9;}if(_c._hour){_g=_b.substr(_k,2);_l+=_g;}_k+=2;if(_c._min){_h=_b.substr(_k,2);_l+=_h;}_k+=2;if(_c._sec){_i=_b.substr(_k,2);_l+=_i;}_k+=2;if(_c._millisec){_j=_b.substr(_k,3);_l+=_j;}return _l;};_pCalendar._makeFormatInfo=function(_a,_b){var _c=null;if(_a=="SHORTDATE"||_a=="LONGDATE"){var _d=this._getLocale();if(!_d){_d=nexacro.BrowserLang;}_a=nexacro.Locale._makeDateMaskString(_d,_a);if(_d.indexOf("lt")==0||_d.indexOf("lv")==0||_d.indexOf("sv")==0){_c=[];_c[0]={c:"\\m",r:"m"};_c[1]={c:"\\d",r:"d"};_c[2]={c:"\\a",r:"a"};}if(_b){var _e=_a.indexOf("M");var _f=_a.indexOf("d");if(_a.slice(_e,_e+4)=="MMMM"){_a=_a.replace("MMMM","MM");}else if(_a.slice(_e,_e+3)=="MMM"){foramt=_a.replace("MMM","MM");}else if(_a.slice(_e,_e+2)!="MM"){}if(_a.slice(_f,_f+4)=="dddd"){_f=_a.slice(_f+4,_a.length-4).indexOf("d")+4;}else if(_a.slice(_f,_f+3)=="ddd"){_f=_a.slice(_f+3,_a.length-3).indexOf("d")+3;}else if(_a.slice(_f,_f+2)!="dd"){}_e=_f=null;}}var _g=_a;var _h=_g.length;var _i=[];var _j=[];if(_c){for(var _ak=0,_al=_c.length;_ak<_al;_ak++ ){_g=_g.replace(_c[_ak].c,_c[_ak].r);}}for(var _ak=0;_ak<_h;_ak++ ){_i={ch:_g.charAt(_ak),idx:_ak};_j[_ak]=_i;}if(_c){for(var _ak=0,_al=_c.length;_ak<_al;_ak++ ){_a=_a.replace(_c[_ak].c,"x");}}if(_a&&_a.length){_a=_a.replace("sss","lll");}var _k=/y{2,4}/g;var _l=/M{4}|M{1,2}/g;var _m=/d{1,2}/g;var _n=/d{3,4}/g;var _o=/H{1,2}|h{1,2}/g;var _p=/m{1,2}/g;var _q=/s{1,2}/g;var _r=/l{3}/g;var _s=_k.exec(_a);var _t=_l.exec(_a);var _u=_n.exec(_a);if(_u){if(_u[0].length==3){var _v="   ";}else if(_u[0].length==4){var _v="    ";}_a=_a.replace(/d{3,4}/g,_v);}var _w=_m.exec(_a);var _x=_o.exec(_a);var _y=_p.exec(_a);var _z=_q.exec(_a);var _aa=_r.exec(_a);var _ab=null;var _ac=null;var _ad=null;var _ae=null;var _af=null;var _ag=null;var _ah=null;var _ai=null;var _aj=[];if(_s){_ab={mask:_s[0],index:_s.index,length:_s[0].length};_aj.push(_ab);}if(_t){_ac={mask:_t[0],index:_t.index,length:_t[0].length,single_digit:true};_aj.push(_ac);}if(_w){_ad={mask:_w[0],index:_w.index,length:_w[0].length,single_digit:true};_aj.push(_ad);}if(_u){_ae={mask:_u[0],index:_u.index,length:_u[0].length};}if(_x){_af={mask:_x[0],index:_x.index,length:_x[0].length};_aj.push(_af);}if(_y){_ag={mask:_y[0],index:_y.index,length:_y[0].length};_aj.push(_ag);}if(_z){_ah={mask:_z[0],index:_z.index,length:_z[0].length};_aj.push(_ah);}if(_aa){_ai={mask:_aa[0],index:_aa.index,length:_aa[0].length};_aj.push(_ai);}_aj.sort(function(_am,_an){return _am.index-_an.index;});return {format:_g,format_info:_j,format_list:_aj,_year:_ab,_mon:_ac,_day:_ad,_date:_ae,_hour:_af,_min:_ag,_sec:_ah,_millisec:_ai};};_pCalendar._getEndDay=function(_a,_b){var _c=new Array(31,28,31,30,31,30,31,31,30,31,30,31);var _d=new Array(31,29,31,30,31,30,31,31,30,31,30,31);var _e="";var _f=parseInt(_a);var _g=parseInt(_b);if(_f==0){_e=_c[_g-1];return _e;}if((_f%4)==0&&(_f%100)!=0||(_f%400)==0){_e=_d[_g-1];}else{_e=_c[_g-1];}_c=_d=null;return _e;};_pCalendar._getDateObj=function(_a){if(!_a){return new nexacro.Date();}_a=_a.replace(/-/g,"");var _b=parseInt(_a.substr(0,4),10);var _c=parseInt(_a.substr(4,2),10)-1;var _d=parseInt(_a.substr(6,2),10);return new nexacro.Date(_b,_c,_d);};_pCalendar._getPopupSizeArr=function(){var _a;if(this.type=="normal"){_a=this.on_find_CurrentStyle_popupsize(this._pseudo);}else{_a=this._init_popupsize;if(!_a){_a=this.on_find_CurrentStyle_popupsize(this._pseudo);}}var _b=_a.value;var _c=_b.split(/\s+/);if(_c.length==2){return {width:parseInt(_c[0],10),height:parseInt(_c[1],10)};}else{return {width:parseInt(_c[0],10),height:parseInt(_c[0],10)};}};_pCalendar._getPickerValue=function(_a){var _b=_a?_a:new Date();var _c=_b.getFullYear()+"";_c=this._validationDateStr(_c,"year");var _d=_b.getMonth()+1;_d=this._validationDateStr(_d);var _e=_b.getDate();_e=this._validationDateStr(_e);return _c+_d+_e;};_pCalendar._getSplitDate=function(_a){if(this._isTimeMask()){var _b=_a.substr(0,2);_b=_b?_b:"NaN";var _c=_a.substr(2,2);_c=_c?_c:"NaN";var _d=_a.substr(4,2);_d=_d?_d:"NaN";var _e=_a.substr(6,3);_e=_e?_e:"NaN";}else{var _f=_a.substr(0,4);_f=_f?_f:"NaN";var _g=_a.substr(4,2);_g=_g?_g:"NaN";var _h=_a.substr(6,2);_h=_h?_h:"NaN";var _b=_a.substr(8,2);_b=_b?_b:"NaN";var _c=_a.substr(10,2);_c=_c?_c:"NaN";var _d=_a.substr(12,2);_d=_d?_d:"NaN";var _e=_a.substr(14,3);_e=_e?_e:"NaN";}return {year:_f,mon:_g,day:_h,hour:_b,min:_c,sec:_d,millisec:_e};};_pCalendar._changeYearValue=function(_a){var _b=this._editformat_info;var _c=this.calendaredit;var _d=_c._edit_base_api;var _e=_d._getText();if(_b._year){var _f=0;if((_b._mon&&_b._year.index>_b._mon.index)||(_b._day&&_b._year.index>_b._day.index)){if(_b._mon&&_b._mon.length==1&&!_b._mon.single_digit){_f++ ;}if(_b._day&&_b._day.length==1&&!_b._day.single_digit){_f++ ;}}var _g=_e.substr(_b._year.index+_f,_b._year.length);var _h=_g.trim();var _i=parseInt(_h,10);var _j=_h.length;var _k=_d._getValue();var _l=_k?_k.trim():"";if(_l){if(_h===""){if(this._prevalue){var _m=this._prevalue.getFullYear();_e=_e.replace(_g,_m);}else{_e=_e.replace(_g,"0000");}}else if(_h.length!=4){if(!_a){if(_j===1){_i="000"+_i;}else if(_j===2){_i="00"+_i;}else if(_j===3){_i="0"+_i;}_e=_e.replace(_g,_i);}}}}if(_b._mon){if(_b._mon.mask=="MMMM"&&this.value){var _n=this.value.getMonth()+1;_n=nexacro._toString(_n).padLeft(4,"0");_e=_e.replace(_b._mon.mask,_n);}}return _e;};_pCalendar._setDefaultCaret=function(){var _a=this.calendaredit;if(_a&&nexacro._checkActiveElement(_a._input_element)){this.setCaretPos(0);}};_pCalendar._setPreValueAndText=function(_a){var _b="";if(_a){_b=_a.toString();}this._prevalue=_a;this._pretext=this._makeCalendarText(_a);};_pCalendar._setPostValueAndText=function(_a){var _b="";if(_a){_b=_a.toString();}this._postvalue=_a;this._posttext=this._makeCalendarText(_a);};_pCalendar._setValue=function(_a,_b){if(!this._is_created&&!this._is_primitivevalue){this._primitivevalue=_a;this._is_primitivevalue=true;return;}if(this._bindsource){this.value=_a;this._bindsource=false;this.on_apply_value();}else{var _c;var _d=this._currentformat;if(this._isUndefinedDate(_a)){_c=_a;}else if(this._isNullDate(_a)){_c=null;}else if(this._isEmptyStr(_a)){_c="";}else{if(this._is_primitivevalue){this._is_primitivevalue=false;}else{this._currentformat="editformat";}_c=this._makeDateObj(_a);}this._currentformat=_d;this._bindsource=false;var _e=this.applyto_bindSource("value",_c);if(_e==false){_d=this._currentformat;this._currentformat="dateformat";this.on_apply_fake_value(this.value);this._currentformat=_d;return false;}if(this._bind_event){var _f=null;var _g=this._getRootForm();if(_g){_f=_g._bind_manager._FindBindItem(this,"value");_g=null;}if(_f&&this.value&&_c.valueOf()!=this.value.valueOf()){this._currentformat=_d;_f=null;return _e;}}this.value=_c;this._currentformat=_d;this.on_apply_value();return _e;}};_pCalendar._setUserValue=function(_a){if(!this._is_created&&!this._is_primitivevalue){this._primitivevalue=_a;this._is_primitivevalue=true;return;}var _b;var _c=this.editformat;var _d=this._currentformat;if(this._isUndefinedDate(_a)){_b=_a;}else if(this._isNullDate(_a)){_b=null;}else if(this._isEmptyStr(_a)){_b="";}else{this._currentformat="editformat";var _e=this._editformat_info;if(_e._year||_e._mon||_e._day){if(_e._hour||_e._min||_e._sec||_e._millisec){this.set_editformat("yyyy-MM-dd HH:mm:ss sss");}else{this.set_editformat("yyyy-MM-dd");}}else{this.set_editformat("HH:mm:ss sss");}_b=this._makeDateObj(_a);}this._currentformat=_d;this._bindsource=false;var _f=this.applyto_bindSource("value",_b);if(_f===false){_d=this._currentformat;this._currentformat="dateformat";this.on_apply_fake_value(this.value);this._currentformat=_d;return false;}this.value=_b;this._currentformat=_d;this.set_editformat(_c);this.on_apply_value();};_pCalendar._setValue_JSDate=function(_a){var _b=_a.toString();var _c=new nexacro.Date(_b);this._setValue(_c);};_pCalendar._setValue_JSDate=function(_a){var _b=_a.toString();var _c=new nexacro.Date(_b);this._setValue(_c);};_pCalendar._closePopup=function(){if(this.type=="system"){nexacro._closeSystemCalendar();return;}var _a=this.popupcalendar;var _b=this.popupwindow;if(_b){_b._closePopup();}if(nexacro._enableaccessibility&&this.type!="monthonly"){this._want_arrows=false;}};_pCalendar._fireKeydownEvent=function(){var _a=this.calendaredit;var _b=_a._edit_base_api;if(_a&&_a.value!=undefined){var _c=_b._getFocusText();var _d=_b._getText();if(_c!=_d&&_c!=_d.trim()){var _e=this._getDateObjFromDisplayText(_c);var _f=this._getDateObjFromDisplayText(_d);this._currentformat="editformat";this._setPreValueAndText(_e);this._setPostValueAndText(_f);var _g=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_g||_g==undefined){this._setValue(this._postvalue);}else{this._setValue(this._prevalue);return;}this._fireOnchangedEvent(this._prevalue,this.value);}}};_pCalendar._fireOnchangedEvent=function(_a,_b){_a=_a?_a.toString():_a;_b=_b?_b.toString():_b;if(_a!=_b){this._flag_update2dataset=true;this.on_fire_onchanged(this,this._pretext,this._prevalue,this._posttext,this._postvalue);this._flag_update2dataset=false;var _c=this.calendaredit;if(_c){var _d=_c._edit_base_api;_d._setFocusValue();}}};_pCalendar._getCurrentDate=function(){var _a=new Date();year=_a.getFullYear();month=_a.getMonth()+1;day=_a.getDate();_a=null;return year+" "+month+" "+day;};_pCalendar._getRange=function(_a,_b){var _c="";var _d=_b.format_list.length;var _e=0;for(var _i=0;_i<_d;_i++ ){var _f=_b.format_list[_i];var _g=_f.index;var _h=_f.index+_f.length;if(_g<=_a&&_h>=_a){_c=_f;break;}}return _c;};delete _pCalendar;_pCalendar=null;nexacro.CalendarDropButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pCalendarDropButtonCtrl=nexacro.CalendarDropButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.CalendarDropButtonCtrl);_pCalendarDropButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.calendaredit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};_pCalendarDropButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarDropButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarDropButtonCtrl._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pCalendarDropButtonCtrl.on_fire_onclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){if(nexacro.isTouchInteraction&&nexacro.SupportTouch&&!application.enabletouchevent){var _m=new nexacro.EventInfo(this,"ondropdown");this.parent.on_notify_mobile_ondropdown(this,_m);}return this.parent.on_fire_onclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};_pCalendarDropButtonCtrl.on_fire_ondblclick=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){return this.parent.on_fire_ondblclick(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,this.parent,_l);};delete _pCalendarDropButtonCtrl;nexacro.CalendarSpinButtonCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.ImageButtonCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);};var _pCalendarSpinButtonCtrl=nexacro.CalendarSpinButtonCtrl.prototype=nexacro._createPrototype(nexacro.ImageButtonCtrl,nexacro.CalendarSpinButtonCtrl);_pCalendarSpinButtonCtrl.on_apply_custom_setfocus=function(_a){var _b=this.parent;if(_b){var _c=_b.calendaredit;if(_c){if(!(nexacro.isTouchInteraction&&nexacro.SupportTouch)){_c.on_apply_custom_setfocus(_a);}else{nexacro.Component.prototype.on_apply_custom_setfocus.call(this,_a);}}}};_pCalendarSpinButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarSpinButtonCtrl.on_tap_basic_action=function(_a,_b,_c,_d,_e,_f,_g,_h){if(!nexacro._enableaccessibility){this.parent._is_dropbutton=true;}return nexacro.Component.prototype.on_tap_basic_action.call(this,_a,_b,_c,_d,_e,_f,_g,_h);};_pCalendarSpinButtonCtrl._on_drag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){};_pCalendarSpinButtonCtrl.on_find_CurrentStyle_cursor=function(_a){return this.parent.on_find_CurrentStyle_cursor(_a)||this._find_inherit_pseudo_obj("cursor",_a)||nexacro.Component._default_cursor;};delete _pCalendarSpinButtonCtrl;nexacro.CalendarEditCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.MaskEditCtrl.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._event_list["oneditclick"]=1;this._accessibility_role="calendar";};var _pCalendarEditCtrl=nexacro._createPrototype(nexacro.MaskEditCtrl,nexacro.CalendarEditCtrl);nexacro.CalendarEditCtrl.prototype=_pCalendarEditCtrl;_pCalendarEditCtrl.on_find_CurrentStyle_align=function(_a){return this.parent.on_find_CurrentStyle_align(_a,this)||nexacro.Component._default_align;};_pCalendarEditCtrl.on_find_CurrentStyle_font=function(_a){return this.parent.on_find_CurrentStyle_font(_a,this)||nexacro.Component._default_font;};_pCalendarEditCtrl.on_find_CurrentStyle_color=function(_a){return this.parent.on_find_CurrentStyle_color(_a,this)||nexacro.Component._default_color;};_pCalendarEditCtrl.on_find_CurrentStyle_accessibility=function(_a){return this.parent.on_find_CurrentStyle_accessibility(_a,this)||nexacro.Component._default_accessibility;};_pCalendarEditCtrl.on_find_CurrentStyle_background=function(_a){return this.parent.on_find_CurrentStyle_background(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_border=function(_a){return this.parent.on_find_CurrentStyle_border(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_bordertype=function(_a){return this.parent.on_find_CurrentStyle_bordertype(_a,this);};_pCalendarEditCtrl.on_find_CurrentStyle_gradation=function(_a){return this.parent.on_find_CurrentStyle_gradation(_a,this);};_pCalendarEditCtrl.on_create_contents=function(){var _a=this.getElement();if(_a){var _b=this._input_element=new nexacro.InputElement(_a);this._edit_base_api=new nexacro.EditMaskDate(this);var _c=this.currentstyle;_b.setElementSize(this._client_width,this._client_height);_b.setElementFont(_c.font);_b.setElementColor(_c.color);_b.setElementAlign(_c.align);_b.setElementSelectColor(_c.selectcolor);_b.setElementSelectBackgroundColor(_c.selectbackground);_b.setElementDisplayNullTextColor(_c.displaynulltextcolor);}};_pCalendarEditCtrl._getFormChildById=function(_a){return this.parent._getFormChildById(_a);};_pCalendarEditCtrl._getFromComponent=function(_a){var _b=_a.parent;if(_b&&_b._isPopupVisible()){return _b;}else{return nexacro.Component.prototype._getFromComponent.call(this,_a);}};_pCalendarEditCtrl._getAccessibilityRole=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityRole(_a);}return nexacro.Component.prototype._getAccessibilityRole.call(this,_a);};_pCalendarEditCtrl._getAccessibilityLabel=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityLabel(_a);}return nexacro.Component.prototype._getAccessibilityLabel.call(this,_a);};_pCalendarEditCtrl._getAccessibilityDescription=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityDescription(_a);}return nexacro.Component.prototype._getAccessibilityDescription.call(this,_a);};_pCalendarEditCtrl._getAccessibilityAction=function(_a){var _b=this.parent;if(_b){var _a=_b.on_find_CurrentStyle_accessibility(_b._pseudo);return _b._getAccessibilityAction(_a);}return nexacro.Component.prototype._getAccessibilityAction.call(this,_a);};_pCalendarEditCtrl._on_getAccessibilityAdditionalLabel=function(){if(nexacro.OS=="iOS"&&nexacro.OSVersion>=8){return this.value?this.text:"";}};_pCalendarEditCtrl.set_value=function(_a,_b){_a=nexacro._toString(_a);if(_a&&_a!==undefined&&_a!=""){_a=_a.replace(/&quot;/g,"\"");}if(_a!=this.value){var _c=this._getRootForm();var _d=this._edit_base_api;if(!this.applyto_bindSource("value",_a)){return;}if(nexacro.Browser=="Edge"||nexacro.Browser=="IE"){if(_d){var _e=_d._accept_keyinput_event;_d._accept_keyinput_event=false;this._setValue(_a);_d._accept_keyinput_event=_e;}else{this._setValue(_a);}if(nexacro.BrowserVersion<=8){if(_c&&_c._bFireLoadEvent){this._recreateInputElement();}}}else{this._setValue(_a);}if(_d&&!_b){_d._setFocusValue();}}this._setAccessibilityValue(this.value);if(this._is_created&&nexacro._enableaccessibility&&nexacro._accessibilitytype==4){var _f=this._input_element;_f._setElementInputLabel();}};_pCalendarEditCtrl.on_apply_type=function(){var _a=this.getElement();if(_a){this._edit_base_api=null;this._edit_base_api=new nexacro.EditMaskDate(this);this._input_element.setElementInputType(this.type);this._input_element.setElementInputTypeKeypad(this.type);}};_pCalendarEditCtrl._accept_keydown_event=function(_a){var _b=this.parent;if(_b&&(_a>=37&&_a<=40)){if(_b.isDropdown()){return false;}else{if(nexacro.Browser=="Chrome"){if(_a==38||_a==40){return false;}}}}return true;};_pCalendarEditCtrl._on_input_keyinput=function(_a){var _b=this._edit_base_api;if(_b){if(nexacro.Browser=="IE"&&nexacro.BrowserVersion==8){if(_b._is_selected()){_b._on_input_keyinput(_a);_b._on_input_keyinput_after();}}_b._on_input_keyinput(_a);_b._on_input_keyinput_after();var _c=this.parent;if(_c&&_c.type=="system"){_c._setValue(_b._getValue());}}};delete _pCalendarEditCtrl;nexacro.CalendarPopupWindow=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.PopupComponent.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;};var _pCalendarPopupWindow=nexacro._createPrototype(nexacro.PopupComponent,nexacro.CalendarPopupWindow);nexacro.CalendarPopupWindow.prototype=_pCalendarPopupWindow;_pCalendarPopupWindow._type_name="CalendarPopupWindow";_pCalendarPopupWindow._getMainFrame=function(){var _a=this;while(_a&&_a instanceof nexacro.MainFrame){_a=_a.parent;}return _a;};delete _pCalendarPopupWindow;nexacro.CalendarCtrl=function(_a,_b,_c,_d,_e,_f,_g,_h,_i){nexacro.Calendar.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i);this._is_subcontrol=true;this._value;};var _pCalendarCtrl=nexacro._createPrototype(nexacro.Calendar,nexacro.CalendarCtrl);nexacro.CalendarCtrl.prototype=_pCalendarCtrl;_pCalendarCtrl._type_name="CalendarControl";nexacro._setForControlStyleFinder(_pCalendarCtrl);_pCalendarCtrl._setValueCtrl=function(_a){this._currentformat="editformat";var _b=this.calendaredit;var _c=_b._edit_base_api;if(_b&&_b.value!=undefined){var _d=_c._getFocusText();var _e=_c._getText();if(_d!=_e&&_d!=_e.trim()){var _f=this._changeYearValue(true);var _g=this._getDateObjFromDisplayText(_f);var _h=this._getDateObjFromDisplayText(_d);this._setPreValueAndText(_h);this._setPostValueAndText(_g);if(_a){var _i=this.on_fire_canchange(this,this._pretext,this._prevalue,this._posttext,this._postvalue);if(_i||_i==undefined){this._setValue(this._postvalue);}else{this._setValue(this._prevalue);return;}this._fireOnchangedEvent(this._prevalue,this.value);}else{this._setValue(this._postvalue);}}}};_pCalendarCtrl.on_created_contents=function(){nexacro.Calendar.prototype.on_created_contents.call(this);if(nexacro._enableaccessibility&&nexacro._accessibilitytype==4){this._control_element.setElementAccessibilityHidden(true);}};delete _pCalendarCtrl;};